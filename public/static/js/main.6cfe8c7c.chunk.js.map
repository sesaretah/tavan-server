{"version":3,"sources":["js/fa.js","dispatcher.js","stores/ModelStore.js","conf.jsx","actions/MyActions.js","init-fcm.js","Dict.jsx","containers/tasks/list.jsx","containers/tasks/workList.jsx","containers/notifications/homeList.jsx","containers/reports/homeList.jsx","containers/visits/timeseries.jsx","containers/statuses/changes.jsx","containers/home/index.jsx","components/home/index.jsx","containers/layouts/PanelRightPage.jsx","containers/users/options.jsx","containers/assignments/form.jsx","containers/assignments/list.jsx","containers/access_controls/form.jsx","containers/access_controls/list.jsx","containers/roles/show.jsx","components/roles/show.jsx","containers/roles/list.jsx","containers/roles/index.jsx","components/roles/index.jsx","containers/roles/form.jsx","components/roles/create.jsx","components/roles/update.jsx","containers/tags/show.jsx","components/tags/show.jsx","containers/tags/list.jsx","containers/tags/index.jsx","components/tags/index.jsx","containers/tags/form.jsx","components/tags/create.jsx","components/tags/update.jsx","containers/statuses/show.jsx","components/statuses/show.jsx","containers/statuses/list.jsx","containers/statuses/index.jsx","components/statuses/index.jsx","containers/statuses/form.jsx","components/statuses/create.jsx","components/statuses/update.jsx","containers/tasks/involvementList.jsx","containers/profiles/simpleList.jsx","containers/tasks/involvements.jsx","containers/statuses/simpleList.jsx","containers/tasks/status.jsx","containers/tasks/works.jsx","containers/tasks/reports.jsx","containers/comments/form.jsx","containers/comments/list.jsx","containers/tasks/show.jsx","components/tasks/show.jsx","containers/tasks/index.jsx","components/tasks/index.jsx","containers/tasks/form.jsx","components/tasks/create.jsx","components/tasks/update.jsx","containers/works/involvementList.jsx","containers/works/involvements.jsx","containers/works/status.jsx","containers/works/reports.jsx","containers/todos/todosInvolvementList.jsx","containers/todos/form.jsx","containers/todos/list.jsx","containers/works/show.jsx","components/works/show.jsx","containers/works/list.jsx","containers/works/index.jsx","components/works/index.jsx","containers/works/form.jsx","components/works/create.jsx","components/works/update.jsx","components/todos/create.jsx","components/todos/update.jsx","containers/time_sheets/show.jsx","components/time_sheets/show.jsx","containers/time_sheets/list.jsx","containers/time_sheets/index.jsx","components/time_sheets/index.jsx","containers/time_sheets/form.jsx","components/time_sheets/create.jsx","components/time_sheets/update.jsx","containers/profiles/show.jsx","components/profiles/show.jsx","containers/profiles/list.jsx","containers/profiles/index.jsx","components/profiles/index.jsx","containers/profiles/form.jsx","components/profiles/create.jsx","components/profiles/update.jsx","containers/reports/show.jsx","components/reports/show.jsx","containers/reports/list.jsx","containers/reports/index.jsx","components/users/loggedIn.js","components/reports/index.jsx","containers/uploads/form.jsx","containers/reports/form.jsx","components/reports/uploader.js","components/reports/create.jsx","components/reports/update.jsx","containers/groups/show.jsx","components/groups/show.jsx","containers/groups/list.jsx","containers/groups/index.jsx","components/groups/index.jsx","containers/groups/form.jsx","components/groups/create.jsx","components/groups/update.jsx","containers/surveillances/list.jsx","containers/surveillances/index.jsx","components/surveillances/index.jsx","containers/settings/form.jsx","components/settings/update.jsx","containers/users/Login.jsx","components/users/Login.jsx","components/users/LoginJwt.jsx","containers/users/SignUp.jsx","components/users/SignUp.jsx","containers/users/Verification.jsx","components/users/Verification.jsx","containers/notifications/list.jsx","containers/notifications/index.jsx","routes.js","components/notifications/index.jsx","containers/layouts/NotFoundPage.jsx","components/App.jsx","serviceWorker.js","index.js"],"names":["module","exports","Dispatcher","modelStore","list","multipleList","instance","klass","this","i","len","data","length","push","emit","console","log","action","type","listModel","listMultipleModel","showIntance","deleteIntance","setIntance","postFile","EventEmitter","dispatcher","register","handleActions","bind","conf","server","getList","model","page","params","token","queryString","Object","keys","map","key","join","axios","get","headers","then","response","dispatch","catch","error","getMultipleList","fileUpload","id","file","url","formData","FormData","append","config","put","getInstance","removeInstance","setInstance","post","updateInstance","initializedFirebaseApp","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","messaging","isSupported","usePublicVapidKey","dict","TaskList","props","alerts","task","result","deadline_alert","className","class","aria-hidden","report_alert","comment_alert","tasks","Fragment","header","sortChange","data-open-in","name","onChange","e","title","target","value","by_title","selected","by_events","sort_by","sort","mediaList","text","details","after","link","WorkList","work","works","NotificationList","notifications","colorClass","notification","seen","new_notifications","notification_text","crypto","lib","WordArray","random","target_type","target_id","profile","href","fullname","slot","src","avatar","width","height","item","ReportList","reports","new_reports","report","defaults","global","defaultFontFamily","TimeSeries","tasksVisits","datasets","v","d","series","index","x","window","ODate","toLocaleDateString","y","label","substring","backgroundColor","Math","floor","borderColor","options","maintainAspectRatio","responsive","scales","xAxes","time","displayFormats","day","scaleLabel","display","labelString","date","StatusChange","statusChanges","statusChange","prev_status","current_status","statusable_type_pl","statusable_id","status","prev","style","color","to","HomeIndex","onPageAfterIn","pageAfterIn","home","panelOpen","f7","tabletWidth","your_tasks","events_calendar","your_newest_works","HomePage","getMutipleList","loadData","loadCalender","state","localStorage","getItem","events","taskPage","taskPp","ModelStore","on","removeListener","self","app","$f7","ev","monthNames","calendarInline","calendar","create","containerEl","Date","weekHeader","renderToolbar","theme","init","c","$$","currentMonth","currentYear","prevMonth","nextMonth","monthYearChangeStart","dayClick","dayEl","year","month","Framework7","toast","show","receiving","closeTimeout","position","task_page","task_pp","MyActions","multiple","getKlass","setState","tasks_visits","status_change","order","Component","PanelRightPage","logout","check_ability","ability","removeItem","location","replace","user","getIntance","the_ability","a","icon","ab","ignoreCache","view","panelClose","dashboard","time_sheets","surveillance","reloadCurrent","user_settings","privacy","onClick","settings","login","tavan","logged_in","UserOptions","users","email","AssignmentForm","assignment_form","inset","smartSelect","handleChange","user_id","strong","tag","fill","submit","UserList","body","removeRole","ios","aurora","md","AccessControlForm","access_control_form","placeholder","onInput","abilityTitle","defaultValue","abilityValue","true","false","addAbility","AbilityList","removeAbility","access_control_list","RoleShow","role","simple-list","assignedUsers","Layout","handleChangeValue","$f7route","hide","submitting","role_id","ability_title","ability_value","obj","roles","backLink","back","fab","RoleList","subtitle","RoleIndex","React","RoleForm","defaultRole","isDefaultRole","radio","checked","NonDefault","JSON","parse","Default","disabled","editing","RoleCreate","default_role","$f7router","navigate","role_form","DocumentUpdate","TagShow","confirmed","editable","tag_id","tags","TagList","TagIndex","TagForm","isConfirmed","isConfirmedTag","confirmable","not_confirmed","confirm","TagCreate","tag_form","StatusShow","the_color","status_id","statuses","StatusList","StatusIndex","StatusForm","readonly","StatusCreate","loadPalette","colorPicker","inputEl","targetEl","targetElSetBackgroundColor","modules","openIn","hex","closed","status_form","confiremd","ParticipantList","involvements","option","involvement","addLink","removeProfile","remove","removeLink","changeRole","select","SimpleList","profiles","addProfile","add","Partcipants","coworkers","the_involvements","accordionList","accordionItem","simpleList","groups","group","addGroup","outline","search","floatingLabel","clearButton","searchProfile","query","addStatus","Statuses","add_stauts","searchStatus","Works","chip","priority","new","disableButtonText","cancel","inline","searchWork","Reports","creation","t","fromNow","creation_date","content","searchReport","CommentForm","comment_form","replyTo","comments","cm","in_reply_to","deleteable","removeReply","comment","inputId","rnd","maxlength","resizable","commentContent","CommentList","items","editLink","deleteCommentConfirm","replyToComment","reply_to","created_at","locale","ago","noGap","loadMore","more","TaskShow","access","segment","includes","submitComment","archived","archive_note","arr","the_tags","is_public","public","private","discussions","removeTask","deleteComment","reportQuery","the_comments","user_access","val","task_id","q","profileId","profile_id","statusId","commentable_type","commentable_id","reply_id","dialog","are_you_sure","alert","group_id","focus","TaskIndex","TaskForm","isPublic","isPublicTask","select_appropriate_title","required","write_appropriate_description","chips","removeTag","checkbox","write_archive_note","archiveNote","archive","deleteTaskConfirm","delete","deleteButton","TaskCreate","loadTags","deadline","start","startTime","deadlineTime","privateTask","autocomplete","openerEl","valueProperty","textProperty","searchbarDisableText","popupCloseLinkText","close","notFoundText","not_found","limit","searchbarPlaceholder","preloader","source","render","results","preloaderShow","request","method","dataType","success","indexOf","preloaderHide","change","concat","incomplete_data","filter","backLinkForce","task_form","deleteTask","deleteInstance","defaultTask","default_task","selectedMode","InvolvementList","TodosInvolvementsList","lt","todo","check","todos","todoChecked","deleteTodoConfirm","addInvolvements","TodoForm","involvementChecked","workInvolvement","flag","workInvolvements","involvementCheck","TodoList","todo_list","WorkShow","start_date","start_date_j","deadline_date_j","removeWork","deleteTodo","the_todos","work_id","is_done","deadline_date","WorkIndex","WorkForm","privateWork","normal","high","urgent","select_a_date","start_time","select_a_time","deadline_time","deleteWorkConfirm","WorkCreate","loadTime","picker","rotateEffect","cols","values","split","textAlign","closeOnSelect","firstDay","weekendDays","dayNames","dayNamesShort","work_form","deleteWork","defaultWork","default_work","TodoCreate","removeInvolvement","setInvolvements","work_involvements","TimeSheetShow","association","kind","associations","time_sheet","the_associations","a_type","sheet_date","jdate","morning_report","afternoon_report","extra_report","time_sheet_id","TimeSheetList","TimeSheetIndex","related_time_sheets","sent_to_me","mine_time_sheets","sent_by_me","page_mine","page_related","p","mine","related","TimeSheetForm","removeAssociation","write_appropriate_details","morningReport","afternoonReport","extraReport","recipients","TimeSheetCreate","loadAssociation","timeSheetDate","today","weekAgo","setDate","getDate","time_sheet_form","ProfileShow","the_tasks","the_works","actuals","metas","channels","ProfileList","ProfileIndex","inner","ProfileForm","profile_info","firstname","surename","withIcon","buttonText","choose_image","onDrop","buttonClassName","imgExtension","maxFileSize","ProfileCreate","handleChangeValueFields","removeActual","submitFields","fields","pictures","picture","meta_id","metaId","fid","newState","assign","uuid","profile_form","ReportShow","draft","contentState","convertFromRaw","editorState","EditorState","createWithContent","the_work","the_task","toolbar","readOnly","attachments","attachment","filename","commentable","selectedChannel","sheetOpened","tooltip","ReportIndex","pageContent","tabbar","bottom","tabLink","tabLinkActive","swipeable","tabActive","interaction","loggedIn","Report","el","interaction_type","interactionable_id","interactionable_type","source_type","source_id","UploadForm","getUploadParams","meta","onChangeStatus","onSubmit","files","allFiles","f","forEach","autoUpload","submitButtonDisabled","inputContent","drag_or_browse","ReportForm","new_report","localization","translations","fa","image","uploadCallback","uploadImageCallBack","previewImage","onEditorStateChange","deleteReportConfirm","uploadableType","Promise","resolve","reject","xhr","XMLHttpRequest","open","setRequestHeader","send","addEventListener","responseText","ReportCreate","createEmpty","enc","Base64","stringify","convertToRaw","getCurrentContent","blocks","block","trim","taskId","workId","prevstate","report_form","ReportUpdate","removeAttachment","deleteReport","workflow_form","GroupShow","the_grouping","GroupList","GroupIndex","GroupForm","grouping","removeGrouping","groupings","GroupCreate","loadGrouping","group_form","tag_grouping","SurveillanceList","surveillances","autoPlay","controls","playsInline","loop","SurveillanceIndex","startRecording","stream","getVideoTracks","stop","stopRecording","uploadFromDb","videoSrc","addScreenCastDb","chunks","recorder","endTime","db","sessionId","clearInterval","intervalHandle","supportedConstraints","navigator","mediaDevices","getSupportedConstraints","getDisplayMedia","video","mediaSource","frameRate","MediaRecorder","setInterval","setTimeout","err","onended","event","ondataavailable","onpause","onstop","completeBlob","Blob","blob","indexedDB","webkitIndexedDB","mozIndexedDB","OIndexedDB","msIndexedDB","IDBTransaction","webkitIDBTransaction","OIDBTransaction","msIDBTransaction","onsuccess","onerror","transaction","objectStore","onupgradeneeded","objectStoreNames","contains","createObjectStore","autoIncrement","getAll","ConcatenateBlobs","resultingBlob","URL","createObjectURL","SettingForm","setting","notification_setting","form","changeSetting","if_someone_adds_you_youll_be_asked","blocked_list","blockList","removeBlocked","notification_type","mail_notification","push_notification","sms","add_involvement_to_tasks","remove_involvement_from_tasks","change_status_tasks","add_works_to_tasks","add_reports_to_tasks","add_comments_to_tasks","add_involvement_to_works","remove_involvement_from_works","change_status_works","add_todos_to_works","add_reports_to_works","add_comments_to_works","add_comments_to_reports","add_involvement_to_todos","remove_involvement_from_todos","add_involvement_to_time_sheets","remove_involvement_from_timesheets","SettingCreate","loadBlockList","prevState","LoginForm","sign_up","autofocus","enter_your_email","animate","you_can_sign_up","cas","password","reload","username","Login","setItem","SignUpForm","enter_your_name","enter_your_surename","validate","if_registered","you_can_login","SignUp","verification","verification_code","enter_verification_code","verificationCode","Verification","NotificationIndex","path","component","LoginJwt","RoleUpdate","SettingUpdate","GroupUpdate","StatusUpdate","TaskUpdate","TagUpdate","TimeSheetUpdate","WorkUpdate","TodoUpdate","ProfileUpdate","requestPermission","getToken","serviceWorker","message","firebaseMessaging","payload","titleRightText","cssClass","r","openCursor","cursor","primaryKey","formDataParams","formDataParam","continue","f7params","panel","rightBreakpoint","auroraPageLoadDelay","removeElements","routes","left","cover","themeDark","right","reveal","pushState","main","Boolean","hostname","match","registration","scope","use","Framework7React","ReactDOM","createElement","App","document","getElementById"],"mappings":"iGAAAA,EAAOC,QAAU,CAGf,cAAe,uCACf,iBAAkB,qBAGlB,mCAAoC,KACpC,mCAAoC,KACpC,mCAAoC,KACpC,mCAAoC,KACpC,mCAAoC,KACpC,mCAAoC,KACpC,2CAA4C,aAC5C,qCAAsC,OACtC,0CAA2C,aAC3C,uCAAwC,SAGxC,8CAA+C,eAC/C,uCAAwC,OACxC,6CAA8C,YAG9C,wCAAyC,WACzC,4CAA6C,gBAC7C,yCAA0C,aAG1C,kCAAmC,QAGnC,4CAA6C,OAG7C,wCAAyC,YAGzC,sCAAuC,UACvC,mCAAoC,OACpC,mCAAoC,OAGpC,kCAAmC,qBACnC,uCAAwC,mDACxC,kCAAmC,iCACnC,yCAA0C,iGAG1C,kCAAmC,OACnC,oCAAqC,SACrC,uCAAwC,YACxC,2CAA4C,gBAC5C,uCAAwC,YACxC,yCAA0C,cAC1C,uCAAwC,YAGxC,qCAAsC,gEACtC,sCAAuC,2BACvC,4CAA6C,uGAC7C,gCAAiC,iCACjC,kCAAmC,oDAGnC,gCAAiC,OACjC,qCAAsC,YACtC,mCAAoC,UACpC,kCAAmC,SACnC,mCAAoC,UAGpC,oCAAqC,SAGrC,0CAA2C,aAC3C,qCAAsC,OACtC,uCAAwC,SACxC,sCAAuC,QACvC,wCAAyC,Y,4TC7E5B,M,OAAIC,YCoHbC,EAAa,I,YAjHjB,aAAe,IAAD,8BACZ,+CACKC,KAAO,GACZ,EAAKC,aAAe,GACpB,EAAKC,SAAW,KAChB,EAAKC,MAAO,KALA,E,uEAQJH,GACRI,KAAKJ,KAAO,GACZI,KAAKD,MAAQH,EAAKG,MAClB,IAAK,IAAIE,EAAI,EAAGC,EAAMN,EAAKO,KAAKC,OAAQH,EAAIC,IAAOD,EACjDD,KAAKJ,KAAKS,KAAKT,EAAKO,KAAKF,IACrBA,IAAMC,EAAM,GACdF,KAAKM,KAAK,YAGS,GAApBV,EAAKO,KAAKC,QACXJ,KAAKM,KAAK,c,wCAKIV,GAChBI,KAAKH,aAAeD,EAAKO,KACzBH,KAAKD,MAAQH,EAAKG,MAClBC,KAAKM,KAAK,uB,kCAGAR,GACVE,KAAKD,MAAQD,EAASC,MACtBC,KAAKF,SAAWA,EAASK,KACzBH,KAAKM,KAAK,kB,iCAGDR,GACTE,KAAKD,MAAQD,EAASC,MACtBC,KAAKF,SAAWA,EAASK,KACzBH,KAAKM,KAAK,kB,oCAIER,GACZE,KAAKD,MAAQD,EAASC,MACtBC,KAAKF,SAAWA,EAASK,KACzBH,KAAKM,KAAK,sB,+BAGHR,GACPS,QAAQC,IAAIV,GACZE,KAAKD,MAAQD,EAASC,MACtBC,KAAKF,SAAWA,EAASK,KACzBH,KAAKM,KAAK,iB,mCAIV,OAAON,KAAKF,W,gCAIZ,OAAOE,KAAKJ,O,uCAIZ,OAAOI,KAAKH,e,sCAIZ,MAAO,CAACG,KAAKJ,KAAMI,KAAKD,S,iCAIxB,OAAOC,KAAKD,Q,oCAGAU,GACZ,OAAOA,EAAOC,MACZ,IAAK,qBACHV,KAAKW,UAAUF,EAAOb,MACtB,MAEF,IAAK,8BACHI,KAAKY,kBAAkBH,EAAOb,MAC9B,MAEF,IAAK,uBACHI,KAAKa,YAAYJ,EAAOX,UACxB,MAEF,IAAK,0BACHE,KAAKc,cAAcL,EAAOX,UAC1B,MAEF,IAAK,uBACHE,KAAKe,WAAWN,EAAOX,UACvB,MAEF,IAAK,oBAKL,IAAK,4BACHE,KAAKgB,SAASP,EAAOX,e,GAxGJmB,iBAmHzBC,EAAWC,SAASxB,EAAWyB,cAAcC,KAAK1B,IAEnCA,Q,iBCzHF2B,EAAO,CAEpB,OAAW,OCELC,EAAQD,EAAKC,OAMZ,SAASC,EAAQC,GAAkC,IAA3BC,EAA0B,uDAArB,EAAGC,EAAkB,uDAAX,GAAIC,EAAO,uCACnDC,EAAcC,OAAOC,KAAKJ,GAAQK,KAAI,SAAAC,GAAG,OAAIA,EAAM,IAAMN,EAAOM,MAAMC,KAAK,KAC/E3B,QAAQC,IAAIqB,GACZM,IAAMC,IAAIb,EAAS,IAAKE,EAAO,SAASC,EAAK,IAAIG,EAAa,CAAEQ,QAAS,CAAC,eAAgB,mBAAoB,cAAiB,UAAYT,KAC1IU,MAAK,SAAUC,GACdhC,QAAQC,IAAI+B,EAASpC,MACrBe,EAAWsB,SAAS,CAClB9B,KAAM,qBACNd,KAAM2C,EAASpC,UAGlBsC,OAAM,SAAUC,GACfnC,QAAQC,IAAIkC,MAIT,SAASC,EAAgBlB,GAAkC,IAA3BC,EAA0B,uDAArB,EAAGC,EAAkB,uDAAX,GAAIC,EAAO,uCAC3DC,EAAcC,OAAOC,KAAKJ,GAAQK,KAAI,SAAAC,GAAG,OAAIA,EAAM,IAAMN,EAAOM,MAAMC,KAAK,KAC/EC,IAAMC,IAAIb,EAAS,IAAKE,EAAO,SAASC,EAAK,IAAIG,EAAa,CAAEQ,QAAS,CAAC,eAAgB,mBAAoB,cAAiB,UAAYT,KAC1IU,MAAK,SAAUC,GACdrB,EAAWsB,SAAS,CAClB9B,KAAM,8BACNd,KAAM2C,EAASpC,UAGlBsC,OAAM,SAAUC,GACfnC,QAAQC,IAAIkC,MAIT,SAASE,EAAWnB,EAAOoB,EAAKC,EAAMlB,GAC3C,IAAMmB,EAAMxB,EAAS,IAAKE,EAAO,IAAIoB,EAC/BG,EAAW,IAAIC,SACrBD,EAASE,OAAO,kBAAkBJ,GAClCE,EAASE,OAAO,cAAcL,GAC9B,IAAMM,EAAS,CACXd,QAAS,CACL,eAAgB,sBAChB,cAAiB,UAAYT,IAGrCwB,cAAIL,EAAKC,EAASG,GAAQb,MAAK,SAAUC,GACvCrB,EAAWsB,SAAS,CAClB9B,KAAM,oBACNZ,SAAUyC,EAASpC,UAGtBsC,OAAM,SAAUC,GACfnC,QAAQC,IAAIkC,MA8BT,SAASW,EAAY5B,EAAOoB,EAAIjB,GACrCO,IAAMC,IAAIb,EAAS,IAAKE,EAAO,IAAIoB,EAAI,CAAER,QAAS,CAAC,eAAgB,mBAAoB,cAAiB,UAAYT,KACnHU,MAAK,SAAUC,GACdrB,EAAWsB,SAAS,CAClB9B,KAAM,uBACNZ,SAAUyC,EAASpC,UAGtBsC,OAAM,SAAUC,GACfnC,QAAQC,IAAIkC,MAIT,SAASY,EAAe7B,GAA2B,IAApBE,EAAmB,uDAAZ,GAAIC,EAAQ,uCACnDC,EAAcC,OAAOC,KAAKJ,GAAQK,KAAI,SAAAC,GAAG,OAAIA,EAAM,IAAMN,EAAOM,MAAMC,KAAK,KAC/EC,IAAMC,IAAIb,EAAS,IAAKE,EAAO,WAAWI,EAAa,CAAEQ,QAAS,CAAC,eAAgB,mBAAoB,cAAiB,UAAYT,KACnIU,MAAK,SAAUC,GACdrB,EAAWsB,SAAS,CAClB9B,KAAM,0BACNZ,SAAUyC,EAASpC,UAGtBsC,OAAM,SAAUC,GACfnC,QAAQC,IAAIkC,MAIT,SAASa,EAAY9B,EAAOtB,EAAMyB,GACvCO,IAAMqB,KAAKjC,EAAS,IAAKE,EAAO,IAAKtB,EAAM,CAAEkC,QAAS,CAAC,eAAgB,mBAAoB,cAAiB,UAAYT,KACvHU,MAAK,SAAUC,GACdrB,EAAWsB,SAAS,CAClB9B,KAAM,uBACNZ,SAAUyC,EAASpC,UAGtBsC,OAAM,SAAUC,GACfnC,QAAQC,IAAIkC,MAIT,SAASe,EAAehC,EAAOtB,EAAMyB,GAC1CO,IAAMiB,IAAI7B,EAAS,IAAKE,EAAO,IAAItB,EAAK0C,GAAI1C,EAAM,CAAEkC,QAAS,CAAC,eAAgB,mBAAoB,cAAiB,UAAYT,KAC9HU,MAAK,SAAUC,GACdrB,EAAWsB,SAAS,CAClB9B,KAAM,uBACNZ,SAAUyC,EAASpC,UAGtBsC,OAAM,SAAUC,GACfnC,QAAQC,IAAIkC,M,aCvIVgB,G,OAAyBC,gBAAuB,CAClDC,OAAQ,0CACRC,WAAY,8BACZC,YAAa,qCACbC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,kBAIfC,EAAY,KACZT,YAAmBU,gBACrBD,EAAYV,EAAuBU,aACzBE,kBAER,2F,6BCnBSC,GAAI,GACf,KAAS,2BACT,KAAS,iGACT,MAAU,2BACV,SAAc,2DACd,SAAa,+CACb,sBAAyB,6EACzB,OAAW,uEACX,MAAS,qBACT,QAAY,4BACZ,QAAY,wCACZ,KAAS,uCACT,kBAAqB,sIACrB,WAAc,+CACd,MAAS,iCACT,SAAY,iCACZ,QAAW,qBACX,OAAU,sBACV,oBAAuB,mFACvB,QAAW,oDACX,SAAY,2BACZ,aAAgB,0DAChB,iBAAoB,sEACpB,eAAkB,wFAClB,QAAW,4BACX,MAAS,kCACT,oBAAsB,uEACtB,OAAU,kCACV,OAAW,uCACX,KAAQ,iCACR,KAAQ,uCACR,OAAU,qBACV,YAAe,iLACf,QAAW,kEACX,IAAQ,wCACR,OAAU,8CACV,kBAAqB,0DACrB,SAAY,yCACZ,aAAgB,sGAChB,SAAY,iCACZ,KAAQ,qBACR,QAAW,uCACX,KAAQ,gEACR,IAAO,sBACP,UAAa,8EACb,UAAa,8EACb,SAAY,qDACZ,IAAM,2BACN,KAAO,iCACP,KAAQ,2BACR,kBAAqB,6EACrB,SAAY,sEACZ,WAAa,wCACb,IAAM,iCACN,WAAa,8CACb,QAAW,4EACX,UAAa,0DACb,eAAkB,8CAClB,gBAAmB,kFACnB,eAAkB,uEAClB,QAAW,oDACX,YAAe,sGACf,YAAe,4EACf,cAAkB,iEAClB,cAAiB,qDACjB,KAAQ,iCACR,UAAY,kCACZ,KAAS,qBACT,OAAU,oDACV,KAAQ,8CACR,OAAU,iCACV,YAAe,oDACf,MAAS,4BAxEM,qBAyER,kCAzEQ,cA0Ef,aAAc,2DA1EC,cA2Ef,MAAM,sBA3ES,cA4Ef,KAAK,sBA5EU,cA6Ef,cAAc,iEA7EC,cA8Ef,YAAY,2DA9EG,cA+Ef,cAAc,qDA/EC,cAgFf,UAAU,+CAhFK,cAiFf,cAAc,iEAjFC,cAkFf,aAAc,+CAlFC,cAmFf,MAAO,yCAnFQ,cAoFf,SAAU,sBApFK,cAqFf,mBAAoB,2DArFL,cAsFf,YAAY,8EAtFG,cAuFf,OAAQ,4BAvFO,cAwFf,YAAa,2DAxFE,cAyFf,oBAAqB,iEAzFN,cA0Ff,cAAe,qDA1FA,cA2Ff,iBAAkB,2DA3FH,cA4Ff,uBAAwB,yEA5FT,cA6Ff,QAAS,4BA7FM,cA8Ff,WAAY,mCA9FG,cA+Ff,QAAS,kCA/FM,cAgGf,gBAAgB,kEAhGD,cAiGf,aAAa,uEAjGE,cAkGf,WAAW,8CAlGI,cAmGf,YAAY,4EAnGG,cAoGf,kBAAmB,wGApGJ,cAqGf,kBAAmB,qDArGJ,cAsGf,WAAW,+CAtGI,cAuGf,UAAY,wCAvGG,cAwGf,QAAS,mCAxGM,cAyGf,QAAS,kCAzGM,cA0Gf,mBAAoB,oHA1GL,cA2Gf,sBAAuB,+GA3GR,cA4Gf,mCAAoC,qHA5GrB,cA6Gf,WAAY,mCA7GG,cA8Gf,YAAa,sBA9GE,cA+Gf,gBAAiB,iIA/GF,cAgHf,gBAAgB,sDAhHD,cAiHf,oBAAqB,8GAjHN,cAkHf,kBAAkB,kEAlHH,cAmHf,iBAAkB,8EAnHH,cAoHf,QAAS,mCApHM,cAqHf,WAAY,4BArHG,cAsHf,OAAO,kCAtHQ,cAuHf,SAAS,kCAvHM,cAwHf,QAAQ,wCAxHO,cAyHf,cAAc,gGAzHC,cA0Hf,WAAY,+CA1HG,cA2Hf,QAAS,4BA3HM,cA4Hf,UAAU,mCA5HK,cA6Hf,UAAW,sBA7HI,cA8Hf,OAAQ,6BA9HO,cA+Hf,OAAQ,sBA/HO,cAgIf,UAAW,yCAhII,cAiIf,aAAa,6DAjIE,cAkIf,QAAS,mCAlIM,cAmIf,OAAQ,4BAnIO,cAoIf,QAAS,4BApIM,cAqIf,sBAAsB,gGArIP,cAsIf,sBAAsB,0FAtIP,cAuIf,kBAAkB,wEAvIH,cAwIf,eAAgB,qDAxID,cAyIf,YAAa,yCAzIE,cA0If,QAAQ,qDA1IO,cA2If,OAAQ,4BA3IO,cA4If,OAAS,uEA5IM,cA6If,eAAgB,2DA7ID,cA8If,SAAU,4BA9IK,cA+If,OAAQ,sCA/IO,cAgJf,SAAU,8CAhJK,cAiJf,UAAU,4BAjJK,cAkJf,cAAc,+CAlJC,cAmJf,QAAQ,gDAnJO,cAoJf,SAAS,kCApJM,cAqJf,UAAU,mCArJK,cAsJf,cAAc,yCAtJC,cAuJf,2BAA4B,qIAvJb,cAwJf,gCAAgC,0JAxJjB,cAyJf,cAAc,uBAzJC,cA0Jf,iBAAkB,0OA1JH,cA2Jf,aAAe,8EA3JA,cA4Jf,QAAS,kCA5JM,cA6Jf,aAAc,2DA7JC,cA8Jf,WAAa,2DA9JE,cA+Jf,gBAAkB,6GA/JH,cAgKf,kBAAmB,iIAhKJ,cAiKf,QAAS,kCAjKM,cAkKf,gBAAiB,4BAlKF,cAmKf,aAAa,4BAnKE,cAoKf,gBAAgB,iEApKD,cAqKf,YAAa,8CArKE,cAsKf,QAAS,mCAtKM,cAuKf,YAAY,wCAvKG,cAwKf,QAAQ,4BAxKO,cAyKf,WAAY,+CAzKG,cA0Kf,SAAW,kCA1KI,cA2Kf,aAAc,iEA3KC,uBA4KJ,wCA5KI,cA6Kf,MAAO,4BA7KQ,cA8Kf,OAAS,kCA9KM,cA+Kf,cAAe,+CA/KA,cAgLf,UAAW,oFAhLI,cAiLf,OAAO,+CAjLQ,cAkLf,UAAW,4DAlLI,cAmLf,eAAgB,2DAnLD,cAoLf,eAAgB,iEApLD,cAqLf,UAAY,qDArLG,cAsLf,WAAW,kCAtLI,cAuLf,YAAY,kCAvLG,cAwLf,gBAAiB,0FAxLF,cAyLf,aAAc,2DAzLC,cA0Lf,eAAgB,iEA1LD,cA2Lf,QAAQ,4BA3LO,cA4Lf,YAAY,kCA5LG,cA6Lf,WAAW,4BA7LI,cA8Lf,UAAU,wCA9LK,cA+Lf,oBAAoB,+CA/LL,cAgMf,0BAA4B,8GAhMb,cAiMf,aAAa,iGAjME,cAkMf,oBAAoB,wJAlML,cAmMf,YAAa,8EAnME,cAoMf,oBAAqB,kCApMN,cAqMf,wBAAyB,2DArMV,cAsMf,YAAa,wEAtME,cAuMf,eAAgB,uEAvMD,cAwMf,YAAa,iEAxME,cAyMf,cAAe,wCAzMA,cA0Mf,iBAAiB,qFA1MF,cA2Mf,mBAAmB,qFA3MJ,cA4Mf,eAAe,0FA5MA,cA6Mf,4BAA4B,gGA7Mb,cA8Mf,eAAe,+CA9MA,cA+Mf,aAAa,2DA/ME,cAgNf,aAAa,mFAhNE,cAiNf,aAAc,kEAjNC,cAkNf,aAAa,wEAlNE,cAmNf,WAAW,wCAnNI,cAoNf,SAAS,4BApNM,cAqNf,OAAO,4BArNQ,cAsNf,SAAS,2DAtNM,cAuNf,WAAY,qDAvNG,cAwNf,qBAAuB,iNAxNR,cAyNf,cAAe,gGAzNA,cA0Nf,gBAAiB,uEA1NF,cA2Nf,2BAA2B,+HA3NZ,cA4Nf,gCAAgC,6GA5NjB,cA6Nf,sBAAsB,gGA7NP,cA8Nf,qBAAqB,uGA9NN,cA+Nf,uBAAuB,mHA/NR,cAgOf,wBAAwB,uGAhOT,cAiOf,2BAA2B,+HAjOZ,cAkOf,gCAAgC,6GAlOjB,cAmOf,sBAAsB,gGAnOP,cAoOf,qBAAqB,sIApON,cAqOf,uBAAuB,mHArOR,cAsOf,wBAAwB,uGAtOT,cAuOf,2BAA2B,sIAvOZ,cAwOf,gCAAgC,oHAxOjB,cAyOf,iCAAiC,+HAzOlB,cA0Of,qCAAqC,6GA1OtB,cA2Of,oBAAoB,0FA3OL,cA4Of,oBAAoB,kCA5OL,cA6Of,oBAAoB,iEA7OL,cA8Of,MAAM,kCA9OS,cA+Of,qCAAsC,gTA/OvB,cAgPf,uBAAuB,gIAhPR,cAiPf,MAAO,0FAjPQ,cAkPf,UAAW,8CAlPI,cAmPf,SAAW,+FAnPI,cAoPf,YAAY,qDApPG,cAqPf,gBAAiB,2DArPF,cAsPf,eAAgB,gGAtPD,cAuPf,gBAAiB,iEAvPF,cAwPf,UAAU,2DAxPK,cAyPf,0BAA0B,mHAzPX,cA0Pf,oBAAsB,gGA1PP,cA2Pf,cAAe,6EA3PA,cA4Pf,kBAAmB,6EA5PJ,cA6Pf,KAAM,gBA7PS,cA8Pf,gBAAiB,0FA9PF,cA+Pf,cAAe,sDA/PA,cAgQf,eAAgB,kCAhQD,cAiQf,QAAS,4BAjQM,cAkQf,OAAQ,kCAlQO,G,iBCiGFC,G,kBAxFE,SAACC,GAKhB,SAASC,EAAOC,GACd,IAAIC,EAAS,GAsBb,OArBID,EAAKE,gBACPD,EAAOvE,KACL,0BAAMyE,UAAU,kBACd,uBAAGC,MAAM,eAAeC,cAAY,WAItCL,EAAKM,cACPL,EAAOvE,KACL,0BAAMyE,UAAU,mBACd,uBAAGC,MAAM,qBAAqBC,cAAY,WAI5CL,EAAKO,eACPN,EAAOvE,KACL,0BAAMyE,UAAU,oBACd,uBAAGC,MAAM,oBAAoBC,cAAY,WAIvCJ,EAqBV,OAAIH,EAAMU,MAEN,kBAAC,IAAMC,SAAP,KACE,kBAAC,IAAD,KACGX,EAAMY,OAtBf,WACE,GAAIZ,EAAMa,WACR,OACE,uBAAGR,UAAU,wCAAwCS,eAAa,WAChE,4BAAQC,KAAK,YAAYC,SAAU,SAACC,GAAQjB,EAAMa,WAAW,CAAEK,MAAOD,EAAEE,OAAOC,UAC7E,4BAAQA,MAAM,QAAQ5D,IAAI,gBAAiBsC,EAAKuB,UAChD,4BAAQD,MAAM,SAAS5D,IAAI,gBAAgB8D,UAAQ,GAAExB,EAAKyB,YAE5D,yBAAKlB,UAAU,gBACb,yBAAKA,UAAU,cACb,yBAAKA,UAAU,cAAcP,EAAK0B,YAcrCC,IAEH,kBAAC,IAAD,CAAapB,UAAU,SACrB,kBAAC,IAAD,CAAMqB,WAAS,EAACrB,UAAU,SACvBL,EAAMU,MAAMnD,KAAI,SAAC2C,GAAD,OACf,kBAAC,IAAD,CAAU1C,IAAK,OAAS0C,EAAK9B,GAAI8C,MAAOhB,EAAKgB,MAAOS,KAAMzB,EAAK0B,QAASC,MAAO5B,EAAOC,GAAO4B,KAAM,UAAY5B,EAAK9B,UAI1H,kBAAC,IAAD,OAqBI,+BChCG2D,EArDE,SAAC/B,GAKhB,SAASC,EAAO+B,GACd,IAAI7B,EAAS,GAsBb,OArBI6B,EAAK5B,gBACPD,EAAOvE,KACL,0BAAMyE,UAAU,kBACd,uBAAGC,MAAM,eAAeC,cAAY,WAItCyB,EAAKxB,cACPL,EAAOvE,KACL,0BAAMyE,UAAU,mBACd,uBAAGC,MAAM,qBAAqBC,cAAY,WAI5CyB,EAAKvB,eACPN,EAAOvE,KACL,0BAAMyE,UAAU,oBACd,uBAAGC,MAAM,oBAAoBC,cAAY,WAIxCJ,EAGT,OAAIH,EAAMiC,MAEN,kBAAC,IAAMtB,SAAP,KACE,kBAAC,IAAD,KACGX,EAAMY,QAET,kBAAC,IAAD,CAAaP,UAAU,SACrB,kBAAC,IAAD,CAAMqB,WAAS,EAACrB,UAAU,SACvBL,EAAMiC,MAAM1E,KAAI,SAACyE,GAAD,OACf,kBAAC,IAAD,CAAY3B,UAAU,QAAQ7C,IAAK,WAAWwE,EAAK5D,GAAI8C,MAAOc,EAAKd,MAAOS,KAAMK,EAAK9B,KAAKgB,MAAOW,MAAO5B,EAAO+B,GAAOF,KAAM,UAAYE,EAAK5D,UAInJ,kBAAC,IAAD,OAMI,8BCVG8D,EA5CU,SAAClC,GACxB,GAAIA,EAAMmC,eAAiBnC,EAAMmC,cAAcxG,OAAS,EAAG,CAAC,IAKjDyG,EAAT,SAAoBC,GAClB,IAAKA,EAAaC,KAChB,MAAO,aAmBX,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KAAaxC,EAAKyC,mBAClB,kBAAC,IAAD,CAAalC,UAAU,SACrB,kBAAC,IAAD,CAAMqB,WAAS,GACZ1B,EAAMmC,cAAc5E,KAAI,SAAC8E,GAAD,OApBjC,SAAcA,GACZ,GAAGA,GAAgBA,EAAaG,kBAChC,OACE,kBAAC,IAAD,CACEnC,UAAW,SAAW+B,EAAWC,GACjC7E,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,IACjCd,KAAM,IAAMO,EAAaQ,YAAc,IAAMR,EAAaS,UAC1D5B,OAjBe6B,EAiBIV,EAAaU,QAhB5B,kBAAC,IAAD,CAAMC,KAAK,cAAcD,EAAQE,WAiBrCtB,KAAMU,EAAaG,kBAAkBtB,OAErC,yBAAKgC,KAAK,QAAQC,IAAKd,EAAaU,QAAQK,OAAQC,MAAM,KAAKC,OAAO,QApB5E,IAAqBP,EA+BXQ,CAAKlB,QAIX,kBAAC,IAAD,OAIJ,OAAQ,8BCTGmB,EAhCI,SAACxD,GAElB,GADFlE,QAAQC,IAAIiE,GACNA,EAAMyD,SAAWzD,EAAMyD,QAAQ9H,OAAS,EAAG,CAK7C,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KAAamE,EAAK4D,aAClB,kBAAC,IAAD,CAAarD,UAAU,SACrB,kBAAC,IAAD,CAAMqB,WAAS,GACZ1B,EAAMyD,QAAQlG,KAAI,SAACoG,GAAD,OACjB,kBAAC,IAAD,CACEtD,UAAW,SACX7C,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,IACjCd,KAAM,YAAc6B,EAAOvF,GAC3BuD,MAdSoB,EAcSY,EAAOZ,QAb3B,kBAAC,IAAD,CAAMC,KAAK,cAAcD,EAAQE,WAc/B/B,MAAOyC,EAAOzC,OAEd,yBAAKgC,KAAK,QAAQC,IAAKQ,EAAOZ,QAAQK,OAAQC,MAAM,KAAKC,OAAO,QAjB5E,IAAqBP,OAsBjB,kBAAC,IAAD,OAIJ,OAAQ,8B,SC5BZa,IAASC,OAAOC,kBAAoB,WAEpC,IA8EeC,EA9EI,SAAC/D,GA0ChB,OAAIA,EAAMgE,YAEF,kBAAC,IAAD,KACI,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAa3D,UAAU,SACnB,kBAAC,IAAD,CACI3E,KAAM,CAAEuI,SA/C5B,WACI,IAAI9D,EAAS,GAoBb,OAXAH,EAAMgE,YAAYzG,KAAI,SAAC2G,GACnB,IAAIC,EAAI,GACR9G,OAAOC,KAAK4G,EAAEE,OAAO1I,MAAM6B,KAAI,SAAUC,EAAK6G,GAASF,EAAEvI,KAAK,CAAE0I,EAAG,IAAIC,OAAOC,MAAMhH,GAAKiH,mBAAmB,SAAUC,EAAGL,OACzHlE,EAAOvE,KAAK,CACR+I,MAAOT,EAAEE,OAAOlD,MAAM0D,UAAU,EAAE,IAClCC,gBATG,OAHCC,KAAKC,MAAsB,IAAhBD,KAAKlC,UAGJ,IAFZkC,KAAKC,MAAsB,IAAhBD,KAAKlC,UAEM,IADtBkC,KAAKC,MAAsB,IAAhBD,KAAKlC,UACgB,IAUpCoC,YAAa,OACbtJ,KAAMyI,OAIPhE,EA0B2BiE,IAClBa,QAAS,CACLC,qBAAqB,EACrBC,YAAY,EACZC,OAAQ,CACJC,MAAO,CAAC,CACJpJ,KAAM,OACNqJ,KAAM,CACFC,eAAgB,CACZC,IAAK,SAGTC,WAAY,CACZC,SAAS,EACTC,YAAc7F,EAAK8F,aAQ3C,kBAAC,IAAD,OAIA,MCbDC,EAhEM,SAAC7F,GAClB,GAAIA,EAAM8F,eAAiB9F,EAAM8F,cAAcnK,OAAS,EAAG,CA8CvD,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KAAamE,EAAKgG,eAClB,kBAAC,IAAD,CAAazF,UAAU,SACnB,kBAAC,IAAD,CAAMqB,WAAS,GACV1B,EAAM8F,cAAcvI,KAAI,SAACwI,GAAD,OAtBzC,SAAcA,GACV,GAAIA,EAAaC,aAAeD,EAAaC,YAAY9E,QAAU6E,EAAaE,eAAe/E,MAC3F,OACI,kBAAC,IAAD,CACIb,UAAW,oBACX7C,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,IACjCd,KAAM,IAAMiE,EAAaG,mBAAqB,IAAMH,EAAaI,cACjEjF,OAnCK6B,EAmCcgD,EAAahD,QAlCpC,kBAAC,IAAD,CAAMC,KAAK,cAAcD,EAAQE,WAmC7BtB,KAAMoE,EAAa7E,MACnBW,OAjCFuE,EAiCcL,EAAaE,eAjCnBI,EAiCmCN,EAAaC,YA/B9D,6BAEI,yBAAK3F,UAAU,mBACX,yBAAKA,UAAU,aAAaiG,MAAO,CAAEzB,gBAAiBwB,EAAKE,QACvD,uBAAGlG,UAAU,2BAAb,eACA,uBAAGA,UAAU,iCAEjB,yBAAKA,UAAU,cAAcgG,EAAKnF,QAErCpB,EAAK0G,GACN,yBAAKnG,UAAU,eACX,yBAAKA,UAAU,aAAaiG,MAAO,CAAEzB,gBAAiBuB,EAAOG,QACzD,uBAAGlG,UAAU,2BAAb,eACA,uBAAGA,UAAU,iCAEjB,yBAAKA,UAAU,cAAc+F,EAAOlF,WAkBpC,yBAAKgC,KAAK,QAAQC,IAAK4C,EAAahD,QAAQK,OAAQC,MAAM,KAAKC,OAAO,QAnCtF,IAAc8C,EAAQC,EAJDtD,EAmDDQ,CAAKwC,QAIjB,kBAAC,IAAD,OAIR,OAAQ,8BCCDU,EAxDG,SAACzG,GAEf,OACI,kBAAC,IAAD,CAAM0G,cAAe1G,EAAM2G,YAAY/J,U,IACnC,kBAAC,IAAD,CAAQsE,MAAOpB,EAAK8G,MAChB,kBAAC,IAAD,CAAMC,UAAU,SACZ,kBAAC,IAAD,CAAMC,GAAG,WAGjB,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAKzD,MAAM,MAAM0D,YAAY,MACzB,kBAAC,IAAD,KACI,kBAAC,EAAD,CAAUrG,MAAOV,EAAMU,MAAOE,OAAQd,EAAKkH,WAAYnG,WAAYb,EAAMa,eAIjF,kBAAC,IAAD,CAAKwC,MAAM,MAAM0D,YAAY,MACzB,kBAAC,IAAD,KACI,kBAAC,IAAD,KAAajH,EAAKmH,iBAClB,kBAAC,IAAD,CAAa5G,UAAU,QACnB,yBAAKA,UAAU,iCACX,yBAAKjC,GAAG,wCAO5B,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAKiF,MAAM,MAAM0D,YAAY,MACzB,kBAAC,IAAD,KACI,kBAAC,EAAD,CAAU9E,MAAOjC,EAAMiC,MAAOrB,OAAQd,EAAKoH,kBAAmBrG,WAAYb,EAAMa,eAGxF,kBAAC,IAAD,CAAKwC,MAAM,MAAM0D,YAAY,MACzB,kBAAC,EAAD,CAAkB5E,cAAenC,EAAMmC,cAAevB,OAAQd,EAAKoH,kBAAmBrG,WAAYb,EAAMa,eAIhH,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAKwC,MAAM,MAAM0D,YAAY,MACzB,kBAAC,EAAD,CAAYtD,QAASzD,EAAMyD,QAAS7C,OAAQd,EAAKoH,kBAAmBrG,WAAYb,EAAMa,cAE1F,kBAAC,IAAD,CAAKzC,GAAG,cAAciF,MAAM,MAAM0D,YAAY,MAC1C,kBAAC,EAAD,CAAejB,cAAe9F,EAAM8F,cAAelF,OAAQd,EAAKoH,kBAAmBrG,WAAYb,EAAMa,eAG7G,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAKwC,MAAM,MAAM0D,YAAY,OACzB,kBAAC,EAAD,CAAY/C,YAAahE,EAAMgE,YAAapD,OAAQd,EAAKoH,kBAAmBrG,WAAYb,EAAMa,iBCpD7FsG,E,YACnB,aAAe,IAAD,8BACZ,+CACKC,eAAiB,EAAKA,eAAexK,KAApB,gBACtB,EAAKiE,WAAa,EAAKA,WAAWjE,KAAhB,gBAElB,EAAKyK,SAAW,EAAKA,SAASzK,KAAd,gBAChB,EAAK0K,aAAe,EAAKA,aAAa1K,KAAlB,gBACpB,EAAK+J,YAAc,EAAKA,YAAY/J,KAAjB,gBAGnB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnC/G,MAAO,KACPuB,MAAO,KACPE,cAAe,KACfsB,QAAS,KACTiE,OAAQ,KACR5B,cAAe,KACf6B,SAAU,EACVC,OAAQ,IAnBE,E,kFAyBZC,EAAWC,GAAG,oBAAqBvM,KAAK6L,kB,6CAIxCS,EAAWE,eAAe,oBAAqBxM,KAAK6L,kB,qCAKpD,IAAMY,EAAOzM,KACP0M,EAAMD,EAAKE,IACbR,EAAS,GACTM,EAAKT,MAAMG,QACbM,EAAKT,MAAMG,OAAOnK,KAAI,SAAC4K,GACrBT,EAAO9L,KAAK,CAACgK,KAAM,IAAIrB,OAAOC,MAAM2D,EAAGvC,MAAOW,MAAO4B,EAAG5B,WAI5DzK,QAAQC,IAAI2L,GAGZ,IAAIU,EAAa,CAAC,6CAAW,mDAAY,iCAAS,qBAAO,iCAAS,uCAAU,qBAAO,2BAAQ,qBAAO,eAAM,2BAAQ,kCAC5GC,EAAiBJ,EAAIK,SAASC,OAAO,CACvCC,YAAa,kCACbpH,MAAO,CAAC,IAAIqH,MACZC,YAAY,EACZhB,OAAQA,EACRiB,cAAe,WACb,MAAO,oKAG2E,OAAdV,EAAIW,MAAiB,cAAgB,IAAM,gIAI1B,OAAdX,EAAIW,MAAiB,cAAgB,IAAM,gCAKpHd,GAAI,CACFe,KAAM,SAAUC,GACdd,EAAKe,GAAG,oCAAoCpH,KAAKyG,EAAWU,EAAEE,cAAgB,KAAOF,EAAEG,aACvFjB,EAAKe,GAAG,wCAAwCjB,GAAG,SAAS,WAC1DO,EAAea,eAEjBlB,EAAKe,GAAG,yCAAyCjB,GAAG,SAAS,WAC3DO,EAAec,gBAGnBC,qBAAsB,SAAUN,GAC9Bd,EAAKe,GAAG,oCAAoCpH,KAAKyG,EAAWU,EAAEE,cAAgB,KAAOF,EAAEG,cAEzFI,SAAU,SAAUf,EAAUgB,EAAOC,EAAMC,EAAOhE,GAChD1J,QAAQC,IAAIwN,EAAMC,EAAOhE,S,iFAY/BjK,KAAK8L,a,iCAKkBoC,IAAWpO,SAC/BqO,MAAMC,KAAK,CAAEhI,KAAM7B,EAAK8J,UAAWC,aAAc,IAAMC,SAAU,QACpE,IAAIpO,EAAO,CAACqO,UAAWxO,KAAKgM,MAAMI,SAAUqC,QAASzO,KAAKgM,MAAMK,QAChEqC,EAA0B,OAAQ1O,KAAKgM,MAAMtK,KAAMvB,EAAMH,KAAKgM,MAAMpK,S,uCAGpD,IAAD,OACX+M,EAAWrC,EAAWT,iBACtB9L,EAAQuM,EAAWsC,WACvBrO,QAAQC,IAAImO,GACRA,GAAsB,SAAV5O,GACdC,KAAK6O,SAAS,CACZ1J,MAAOwJ,EAASxJ,MAChBuB,MAAOiI,EAASjI,MAChBE,cAAe+H,EAAS/H,cACxBsB,QAASyG,EAASzG,QAClBO,YAAakG,EAASG,aACtB3C,OAAQwC,EAASxC,OACjB5B,cAAeoE,EAASI,gBACvB,kBAAM,EAAKhD,oB,iCAKP9L,GACTyO,EAAkB,QAAS1O,KAAKgM,MAAMtK,KAAM,CAAEsN,MAAO/O,EAAE0F,OAAS3F,KAAKgM,MAAMpK,S,+BAGnE,IAAD,EACqE5B,KAAKgM,MAAzE7G,EADD,EACCA,MAAOuB,EADR,EACQA,MAAOE,EADf,EACeA,cAAesB,EAD9B,EAC8BA,QAASO,EADvC,EACuCA,YAAY8B,EADnD,EACmDA,cAC1D,OAAQ,kBAAC,EAAD,CACN3D,cAAeA,EAAe6B,YAAaA,EAC1CP,QAASA,EAAS/C,MAAOA,EAAOuB,MAAOA,EAAOpB,WAAYtF,KAAKsF,WAC/D8F,YAAapL,KAAKoL,YAAab,cAAeA,Q,GAlIf0E,aCFjBC,E,YACnB,aAAe,IAAD,8BACZ,+CACKC,OAAS,EAAKA,OAAO9N,KAAZ,gBACd,EAAKgC,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAK+N,cAAgB,EAAKA,cAAc/N,KAAnB,gBAGrB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCmD,QAAS,MATC,E,sEAcZrP,KAAK6O,SAAS,CAAEjN,MAAO,OACvBoH,OAAOiD,aAAaqD,WAAW,SAC/BtG,OAAOuG,SAASC,QAAQ,O,2CAIxBlD,EAAWC,GAAG,eAAgBvM,KAAKqD,e,6CAInCiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,e,0CAI3CrD,KAAKgM,MAAMpK,OAAS5B,KAAKgM,MAAMpK,MAAMxB,OAAS,IAChDsO,EAAsB,QAAS,OAAQ1O,KAAKgM,MAAMpK,S,oCAKpD,IAAI6N,EAAOnD,EAAWoD,aAClB3P,EAAQuM,EAAWsC,WACnBa,GAAkB,aAAV1P,IACVQ,QAAQC,IAAIiP,GACZzP,KAAK6O,SAAS,CACZQ,QAASI,EAAKE,iB,oCAMNC,EAAGrJ,EAAMsJ,GACrB,IAAIjL,EAAS,GAab,OAZI5E,KAAKgM,MAAMqD,SACbrP,KAAKgM,MAAMqD,QAAQrN,KAAI,SAAC8N,GAClBA,EAAGnK,QAAUiK,GAAKE,EAAGjK,OACvBjB,EAAOvE,KACL,kBAAC,IAAD,CAAUkG,KAAM,IAAMA,EAAO,IAAKwJ,aAAa,EAAM9N,IAAK,QAAUsE,EAAMyJ,KAAK,aAAaC,YAAU,GACpG,uBAAGnL,UAAW,iBAAmB+K,IACjC,8BAAOtL,EAAKgC,SAMf3B,I,gCAGChD,GACR,OAAIA,EAEA,kBAAC,IAAMwD,SAAP,KACE,kBAAC,IAAD,SAAa,uBAAGN,UAAU,6BAAgCP,EAAK2L,WAC/D,kBAAC,IAAD,CAAMpL,UAAU,SAChB,kBAAC,IAAD,CAAUyB,KAAK,IAAIyJ,KAAK,aAAaC,YAAU,GAC3C,uBAAGnL,UAAU,uBACb,8BAAOP,EAAK8G,OAGd,kBAAC,IAAD,CAAU9E,KAAK,UAAUyJ,KAAK,aAAaC,YAAU,GACnD,uBAAGnL,UAAU,wBACb,8BAAOP,EAAKY,QAGd,kBAAC,IAAD,CAAUoB,KAAK,gBAAgByJ,KAAK,aAAaC,YAAU,GACzD,uBAAGnL,UAAU,+BACb,8BAAOP,EAAK4L,cAId,kBAAC,IAAD,CAAU5J,KAAK,kBAAkByJ,KAAK,aAAaC,YAAU,GAC3D,uBAAGnL,UAAU,sBACb,8BAAOP,EAAK6L,eAId,kBAAC,IAAD,CAAU7J,KAAK,kBAAkBwJ,aAAa,EAAOM,eAAe,EAAOL,KAAK,aAAaC,YAAU,GACrG,uBAAGnL,UAAU,iCACb,8BAAOP,EAAKqC,iBAIhB,kBAAC,IAAD,KAAY,uBAAG9B,UAAU,uBAA0BP,EAAK+L,eACxD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAU/J,KAAK,aAAawJ,aAAa,EAAMC,KAAK,aAAaC,YAAU,GACzE,uBAAGnL,UAAU,8BACb,8BAAOP,EAAKgM,UAEd,kBAAC,IAAD,CAAUhK,KAAK,aAAayJ,KAAK,aAAaC,YAAU,GACtD,uBAAGnL,UAAU,gCACb,8BAAOP,EAAKiD,UAEd,kBAAC,IAAD,CAAUwI,KAAK,aAAaC,YAAU,EAACO,QAASxQ,KAAKmP,QACnD,uBAAGrK,UAAU,4BACb,8BAAOP,EAAK4K,UAKhB,kBAAC,IAAD,SAAa,uBAAGrK,UAAU,sBAAyBP,EAAKkM,UACxD,kBAAC,IAAD,CAAM3L,UAAU,SACb9E,KAAKoP,cAAc,cAAe,QAAS,UAE3CpP,KAAKoP,cAAc,kBAAmB,WAAY,YAElDpP,KAAKoP,cAAc,WAAY,OAAQ,QAEvCpP,KAAKoP,cAAc,gBAAiB,SAAU,cAMnD,kBAAC,IAAMhK,SAAP,KACE,kBAAC,IAAD,KAAab,EAAK+L,eAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAU/J,KAAK,UAAUZ,MAAOpB,EAAKmM,MAAOV,KAAK,aAAaC,YAAU,Q,+BAOxE,IACArO,EAAU5B,KAAKgM,MAAfpK,MACR,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQ+D,MAAOpB,EAAKoM,QACnB3Q,KAAK4Q,UAAUhP,Q,GA/IoBqN,aCa7B4B,EAfK,SAACpM,GACnB,IAAIiF,EAAU,CAAC,4BAAQ7D,MAAM,MAC7B,GAAGpB,EAAMqM,MACP,IAAK,IAAI7Q,EAAI,EAAGA,EAAIwE,EAAMqM,MAAM1Q,OAAQH,IACtCyJ,EAAQrJ,KACN,4BAAQwF,MAAOpB,EAAMqM,MAAM7Q,GAAG4C,IAC3B4B,EAAMqM,MAAM7Q,GAAG8Q,QAMxB,OAAOrH,GCaMsH,GAxBQ,SAACvM,GACtB,OACE,kBAAC,IAAMW,SAAP,KACE,kBAAC,IAAD,KAAab,EAAK0M,iBAClB,kBAAC,IAAD,CAAMC,OAAK,GACT,kBAAC,IAAD,CACEvL,MAAOpB,EAAKwM,MACZI,aAAW,GAEX,4BAAQ3L,KAAK,UACXC,SAAU,SAACC,GAAQjB,EAAM2M,aAAa,CAAEC,QAAS3L,EAAEE,OAAOC,UAC1D,kBAAC,EAAD,CAAaiL,MAAOrM,EAAMqM,WAIhC,kBAAC,IAAD,CAAOQ,QAAM,EAACJ,OAAK,GACjB,kBAAC,IAAD,CAAKK,IAAI,KACP,kBAAC,IAAD,CAAMzM,UAAU,eAChB,kBAAC,IAAD,CAAQA,UAAU,UAAU0M,MAAI,EAAChB,QAAS/L,EAAMgN,QAASlN,EAAKkN,YCsBzDC,GAxCE,SAACjN,GACd,IAAIkN,EAAO,GACb,GAAGlN,EAAMqM,MAAM,CAGb,IAHc,IAAD,WAGJ7Q,GACI,GACT0R,EAAKtR,KAAK,wBAAI4B,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,KAC/C,wBAAIpF,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,KAAM5C,EAAMqM,MAAM7Q,GAAG4C,IAC1D,wBAAIZ,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,KAAM5C,EAAMqM,MAAM7Q,GAAG8Q,OAC1D,wBAAIjM,UAAU,gBAAgB7C,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,KAC3D,kBAAC,IAAD,CAAQ2D,MAAM,OAAOwF,QAAS,kBAAM/L,EAAMmN,WAAWnN,EAAMqM,MAAM7Q,GAAG4C,MAClE,kBAAC,IAAD,CAAMgP,IAAI,WAAWC,OAAO,WAAWC,GAAG,wBAP3C9R,EAAI,EAAGA,EAAIwE,EAAMqM,MAAM1Q,OAAQH,IAAK,GAApCA,GAaX,OACE,yBAAK6E,UAAU,mBACb,+BACE,+BACE,4BACE,kCACA,uCAIJ,+BACG6M,KAQT,OAAO,MCDMK,GAnCW,SAACvN,GACvB,OACI,kBAAC,IAAMW,SAAP,KACI,kBAAC,IAAD,KAAab,EAAK0N,qBAClB,kBAAC,IAAD,CAAOf,OAAK,GACR,kBAAC,IAAD,CACI9H,MAAO7E,EAAKyD,KACZtH,KAAK,OACLwR,YAAY,MACZC,QAAS,SAACzM,GACNjB,EAAM2M,aAAa,CAAEgB,aAAc1M,EAAEE,OAAOC,WAGpD,kBAAC,IAAD,CACIuD,MAAO7E,EAAKsB,MACZnF,KAAK,SACL2R,cAAc,EACdH,YAAY,mBACZzM,SAAU,SAACC,GACPjB,EAAM2M,aAAa,CAAEkB,aAAc5M,EAAEE,OAAOC,UAGhD,4BAAQA,OAAO,GAAOtB,EAAKgO,MAC3B,4BAAQ1M,OAAO,GAAQtB,EAAKiO,SAGpC,kBAAC,IAAD,CAAOlB,QAAM,EAACJ,OAAK,GACf,kBAAC,IAAD,CAAKK,IAAI,KACR,kBAAC,IAAD,CAAMzM,UAAU,eACb,kBAAC,IAAD,CAAQA,UAAU,UAAU0M,MAAI,EAAChB,QAAS/L,EAAMgO,YAAalO,EAAKkN,YCavEiB,GA3CK,SAACjO,GACjB,IAAIkN,EAAO,GACX,GAAIlN,EAAM4K,QAAS,CAGf,IAHgB,IAAD,WAGNpP,GACI,GACT0R,EAAKtR,KAAK,wBAAI4B,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,KAC3C,wBAAIpF,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,KAAM5C,EAAM4K,QAAQpP,GAAG0F,OAC5D,wBAAI1D,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,KAAM9C,EAAKE,EAAM4K,QAAQpP,GAAG4F,QACjE,wBAAIf,UAAU,gBAAgB7C,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,KAC3D,kBAAC,IAAD,CAAQ2D,MAAM,OAAOwF,QAAS,kBAAM/L,EAAMkO,cAAclO,EAAM4K,QAAQpP,GAAG0F,SACrE,kBAAC,IAAD,CAAMkM,IAAI,WAAWC,OAAO,WAAWC,GAAG,wBAPjD9R,EAAI,EAAGA,EAAIwE,EAAM4K,QAAQjP,OAAQH,IAAK,GAAtCA,GAaT,OACI,kBAAC,IAAMmF,SAAP,KACA,kBAAC,IAAD,KAAab,EAAKqO,qBAClB,yBAAK9N,UAAU,mBACX,+BACI,+BACI,4BACI,4BAAKP,EAAKoB,OACV,4BAAKpB,EAAKsB,SAIlB,+BACK8L,MASjB,OAAQ,MCbDkB,GAvBE,SAACpO,GAChB,OAAIA,EAAMqO,KAEN,kBAAC,IAAM1N,SAAP,KACE,kBAAC,IAAD,KAAab,EAAKoB,OAClB,kBAAC,IAAD,CAAMoN,eAAA,GACJ,kBAAC,IAAD,KAAWtO,EAAMqO,KAAKnN,QAGxB,kBAAC,GAAD,CAAoB0J,QAAS5K,EAAM4K,QAASsD,cAAelO,EAAMkO,gBACjE,kBAAC,GAAD,CAAoBF,WAAYhO,EAAMgO,WAAYrB,aAAc3M,EAAM2M,eAGtE,kBAAC,GAAD,CAAgBN,MAAOrM,EAAMuO,cAAepB,WAAYnN,EAAMmN,aAC9D,kBAAC,GAAD,CAAgBd,MAAOrM,EAAMqM,MAAQW,OAAQhN,EAAMgN,OAAQL,aAAc3M,EAAM2M,gBAM5E,MCTU6B,G,YACnB,aAAe,IAAD,8BACZ,+CACK5P,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAKG,QAAU,EAAKA,QAAQH,KAAb,gBACf,EAAKoQ,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAKuQ,WAAa,EAAKA,WAAWvQ,KAAhB,gBAClB,EAAKoR,WAAa,EAAKA,WAAWpR,KAAhB,gBAClB,EAAKsR,cAAgB,EAAKA,cAActR,KAAnB,gBAIrB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnC4G,KAAM,KACNjQ,GAAI,KACJiO,MAAO,KACPkC,cAAe,KACf3B,QAAS,KACTe,aAAc,GACdE,cAAc,EACdjD,QAAS,MArBC,E,kFA0BZ/C,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,WAAYvM,KAAKwB,SAC/B8K,EAAWC,GAAG,mBAAoBvM,KAAKqD,e,6CAIvCiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,WAAYxM,KAAKwB,SAC3C8K,EAAWE,eAAe,mBAAoBxM,KAAKqD,e,0CAInDqL,EAAsB,QAAS1O,KAAKmT,SAASxR,OAAd,OAAgC3B,KAAKgM,MAAMpK,OAC1E8M,EAAkB,QAAS1O,KAAKgM,MAAMtK,KAAM,GAAI1B,KAAKgM,MAAMpK,S,oCAI3D,IAAIkR,EAAOxG,EAAWoD,aAClB3P,EAAQuM,EAAWsC,WACnBkE,GAAkB,SAAV/S,GACVC,KAAK6O,SAAS,CACZiE,KAAMA,EACNjQ,GAAIiQ,EAAKjQ,GACTmQ,cAAeF,EAAKhC,MACpBzB,QAASyD,EAAKzD,UAGlBrP,KAAKwN,GAAG,QAAQY,S,gCAIhB,IAAI0C,EAAQxE,EAAW9K,UACnBzB,EAAQuM,EAAWsC,WACnBkC,GAAmB,SAAV/Q,GACXC,KAAK6O,SAAS,CACZiC,MAAOA,M,+BAMX9Q,KAAKwN,GAAG,QAAQ4F,OAChBpT,KAAKwN,GAAG,eAAepH,KAAK7B,EAAK8O,YAEjC3E,EAAsB,oBADX,CAAE4E,QAAStT,KAAKgM,MAAMnJ,GAAIwO,QAASrR,KAAKgM,MAAMqF,SACRrR,KAAKgM,MAAMpK,S,mCAK5D8M,EAAsB,kBADX,CAAE7L,GAAI7C,KAAKgM,MAAMnJ,GAAI0Q,cAAevT,KAAKgM,MAAMoG,aAAcoB,cAAexT,KAAKgM,MAAMsG,cACnDtS,KAAKgM,MAAMpK,S,wCAG1C6R,GAChBzT,KAAK6O,SAAS4E,K,4BAId,GAAIzT,KAAKgM,MAAM8G,KACb,OACE,kBAAC,IAAD,CAAKrL,KAAM,UAAYzH,KAAKgM,MAAM8G,KAAKjQ,GAAK,QAAS+C,OAAO,aAAa2I,SAAS,cAAc5G,KAAK,QAAQqD,MAAM,QACjH,kBAAC,IAAD,CAAM6G,IAAI,UAAUC,OAAO,UAAUC,GAAG,kBACxC,kBAAC,IAAD,CAAMF,IAAI,WAAWC,OAAO,WAAWC,GAAG,sB,iCAMvCV,GACT3C,EAAyB,oBAAqB,CAAE2C,QAASA,EAASiC,QAAStT,KAAKgM,MAAMnJ,IAAM7C,KAAKgM,MAAMpK,S,oCAG3F+D,GACZ+I,EAAyB,kBAAmB,CAAE7L,GAAI7C,KAAKgM,MAAMnJ,GAAI8C,MAAOA,GAAS3F,KAAKgM,MAAMpK,S,+BAGpF,IAAD,EACyC5B,KAAKgM,MAA7C8G,EADD,EACCA,KAAMhC,EADP,EACOA,MAAOkC,EADd,EACcA,cAAe3D,EAD7B,EAC6BA,QACpC,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQ1J,MAAOpB,EAAKmP,MAAOC,SAAUpP,EAAKqP,OAC1C,kBAAC,IAAD,MACC5T,KAAK6T,MACN,kBAAC,GAAD,CAAUf,KAAMA,EAAMhC,MAAOA,EAAOzB,QAASA,EAASsD,cAAe3S,KAAK2S,cAAeK,cAAeA,EAAeP,WAAYzS,KAAKyS,WAAYb,WAAY5R,KAAK4R,WAAYH,OAAQzR,KAAKyR,OAAQL,aAAcpR,KAAKkT,yB,GA/G7LjE,aCKnB6E,GArBA,SAACrP,GAEhB,OAAIA,EAAMiP,MAEN,kBAAC,IAAD,CAAMvN,WAAS,GACZ1B,EAAMiP,MAAM1R,KAAI,SAAC8Q,GAAD,OACf,kBAAC,IAAD,CACE7Q,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,IACjCd,KAAM,UAAYuM,EAAKjQ,GACvBkN,aAAa,EACbpK,MAAOmN,EAAKnN,MACZW,MAAM,GACNyN,SAAS,GACT3N,KAAK,SAKH,8BCHC4N,GAdG,SAACvP,GACjB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQkB,MAAOpB,EAAKmP,MAAOC,SAAUpP,EAAKqP,OAE1C,kBAAC,IAAD,KAAarP,EAAK3E,MAClB,kBAAC,IAAD,CAAK6H,KAAK,aAAa7B,OAAO,aAAc2I,SAAS,cAAc5G,KAAK,QAAQqD,MAAM,cACpF,kBAAC,IAAD,CAAM6G,IAAI,SAASC,OAAO,SAASC,GAAG,iBACtC,kBAAC,IAAD,CAAMF,IAAI,WAAWC,OAAO,WAAWC,GAAG,oBAE5C,kBAAC,GAAD,CAAU2B,MAAOjP,EAAMiP,UCNRT,G,YACnB,aAAe,IAAD,8BACZ,+CACKzR,QAAU,EAAKA,QAAQH,KAAb,gBACf,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCwH,MAAO,MALG,E,kFASZpH,EAAWC,GAAG,WAAYvM,KAAKwB,W,6CAI/B8K,EAAWE,eAAe,WAAYxM,KAAKwB,W,0CAI3CxB,KAAK8L,a,iCAIkBoC,IAAWpO,SAC/BqO,MAAMC,KAAK,CAAEhI,KAAM7B,EAAK8J,UAAWC,aAAc,IAAMC,SAAU,QACpEG,EAAkB,QAAS1O,KAAKgM,MAAMtK,KAAM,GAAI1B,KAAKgM,MAAMpK,S,gCAI3D,IAAI8R,EAAQpH,EAAW9K,UACnBzB,EAAQuM,EAAWsC,WACnB8E,GAAmB,SAAV3T,GACXC,KAAK6O,SAAS,CACZ6E,MAAOA,M,+BAKH,IACDA,EAAS1T,KAAKgM,MAAd0H,MACP,OAAO,kBAAC,GAAD,CAAWA,MAAOA,Q,GAvCOO,IAAMhF,WCyC3BiF,GA5CE,SAACzP,GAChB,GAAIA,EAAM0P,YACR,IAAIC,GAAgB,OAEhBA,GAAgB,EAGtB,OACE,kBAAC,IAAMhP,SAAP,KACE,kBAAC,IAAD,KAAab,EAAKuO,MAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,CACE1J,MAAO7E,EAAKoB,MACZ1D,IAAI,aACJvB,KAAK,OACLwR,YAAY,MACZG,aAAc5N,EAAMqO,KAAKnN,MACzBwM,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAEzL,MAAOD,EAAEE,OAAOC,WAGzC,kBAAC,IAAD,CAAUwO,OAAK,EAACxO,OAAO,EAAOyO,SAAUF,EAAe5O,KAAK,cAAcG,MAAOpB,EAAKgQ,WACpF9O,SAAU,SAACC,GACTnF,QAAQC,IAAIkF,GACZjB,EAAM2M,aAAa,CAAE+C,YAAaK,KAAKC,MAAM/O,EAAEE,OAAOC,YAG1D,kBAAC,IAAD,CAAUwO,OAAK,EAACxO,OAAO,EAAMyO,QAASF,EAAe5O,KAAK,cAAcG,MAAOpB,EAAKmQ,QAClFjP,SAAU,SAACC,GACTnF,QAAQC,IAAIkF,GACZjB,EAAM2M,aAAa,CAAE+C,YAAaK,KAAKC,MAAM/O,EAAEE,OAAOC,aAK5D,kBAAC,IAAD,CAAOyL,QAAM,GACX,kBAAC,IAAD,CAAKC,IAAI,KACT,kBAAC,IAAD,CAAMzM,UAAU,eACd,kBAAC,IAAD,CAAQA,UAAU,UAAU0M,MAAI,EAACmD,UAAWlQ,EAAMmQ,QAASpE,QAAS/L,EAAMgN,QAASlN,EAAKkN,YCvB7EoD,G,YACnB,aAAe,IAAD,8BACZ,+CACKpD,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBAEzB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnC4G,KAAM,GACNqB,aAAa,GATH,E,kFAeZ7H,EAAWC,GAAG,eAAgBvM,KAAKuD,e,6CAInC+I,EAAWE,eAAe,eAAgBxM,KAAKuD,e,+BAK/CmL,EAAsB,QADX,CAAC/I,MAAO3F,KAAKgM,MAAMrG,MAAOmP,aAAc9U,KAAKgM,MAAMmI,aACzBnU,KAAKgM,MAAMpK,S,wCAIhC6R,GAChBzT,KAAK6O,SAAS4E,K,oCAKdzT,KAAK+U,UAAUC,SAAS,a,+BAKhB,IAAD,EACqBhV,KAAKgM,MAA1B8G,EADA,EACAA,KAAMqB,EADN,EACMA,YACb,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQxO,MAAOpB,EAAK0Q,UAAWtB,SAAUpP,EAAKqP,OAC9C,kBAAC,IAAD,KAAarP,EAAK0Q,WAClB,kBAAC,GAAD,CAAUnC,KAAMA,EAAMqB,YAAaA,EAAa1C,OAAQzR,KAAKyR,OAAQmD,SAAS,EAAMxD,aAAcpR,KAAKkT,yB,GA9CvEjE,aCCnBiG,G,YACnB,aAAe,IAAD,8BACZ,+CACKzD,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAKgC,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBAGzB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnC4G,KAAO,GACPqB,YAAa,MAXH,E,kFAgBZ7H,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,eAAgBvM,KAAKuD,e,6CAInC+I,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,eAAgBxM,KAAKuD,e,+BAO/CmL,EAAyB,QADd,CAAC7L,GAAG7C,KAAKgM,MAAMnJ,GAAI8C,MAAO3F,KAAKgM,MAAMrG,MAAOmP,aAAc9U,KAAKgM,MAAMmI,aACvCnU,KAAKgM,MAAMpK,S,0CAGpD5B,KAAK8L,a,iCAIkBoC,IAAWpO,SAC/BqO,MAAMC,KAAK,CAAEhI,KAAM7B,EAAK8J,UAAWC,aAAc,IAAMC,SAAU,QAChEvO,KAAKmT,SAASxR,OAAd,QACF+M,EAAsB,QAAS1O,KAAKmT,SAASxR,OAAd,OAAiC3B,KAAKgM,MAAMpK,S,oCAM7E,IAAIkR,EAAOxG,EAAWoD,aAClB3P,EAAQuM,EAAWsC,WACnBkE,GAAkB,SAAV/S,GACVC,KAAK6O,SAAS,CACZlJ,MAAOmN,EAAKnN,MACZ9C,GAAIiQ,EAAKjQ,GACTiQ,KAAMA,EACNqB,YAAarB,EAAKgC,iB,wCAKNrB,GAChBzT,KAAK6O,SAAS4E,K,oCAMdzT,KAAK+U,UAAUC,SAAS,a,+BAIhB,IAAD,EACyBhV,KAAKgM,MAA1B8G,EADJ,EACIA,KAAMqB,EADV,EACUA,YACjB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQxO,MAAOpB,EAAK0Q,UAAWtB,SAAUpP,EAAKqP,OAC9C,kBAAC,IAAD,KAAarP,EAAK0Q,WAClB,kBAAC,GAAD,CAAUnC,KAAMA,EAAMqB,YAAaA,EAAa1C,OAAQzR,KAAKyR,OAAQmD,SAAS,EAAMxD,aAAcpR,KAAKkT,yB,GA3EnEjE,aCQ7BkG,GArBC,SAAC1Q,GACf,OAAIA,EAAM8M,IAEN,kBAAC,IAAMnM,SAAP,KACE,kBAAC,IAAD,KAAab,EAAKoB,OAClB,kBAAC,IAAD,CAAMoN,eAAA,GACJ,kBAAC,IAAD,KAAWtO,EAAM8M,IAAI5L,QAGvB,kBAAC,IAAD,KAAapB,EAAK6Q,WAClB,kBAAC,IAAD,CAAMrC,eAAA,GACJ,kBAAC,IAAD,KAAWxO,EAAKE,EAAM8M,IAAI6D,cAOzB,MCPUnC,G,YACnB,aAAe,IAAD,8BACZ,+CACK5P,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAKoQ,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBAEzB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCqF,IAAK,KACL1O,GAAI,KACJiO,MAAO,KACPO,QAAS,KACTgE,UAAU,GAZA,E,kFAiBZ/I,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,eAAgBvM,KAAKqD,e,6CAInCiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,e,0CAI/CqL,EAAsB,OAAQ1O,KAAKmT,SAASxR,OAAd,MAA+B3B,KAAKgM,MAAMpK,S,oCAIxE,IAAI2P,EAAMjF,EAAWoD,aACjB3P,EAAQuM,EAAWsC,WACnB2C,GAAiB,QAAVxR,GACTC,KAAK6O,SAAS,CACZ0C,IAAKA,EACL1O,GAAI0O,EAAI1O,GACRmQ,cAAezB,EAAIT,MACnBzB,QAASkC,EAAIlC,QACbgG,SAAU9D,EAAI8D,WAGlBrV,KAAKwN,GAAG,QAAQY,S,+BAKhBpO,KAAKwN,GAAG,QAAQ4F,OAChBpT,KAAKwN,GAAG,eAAepH,KAAK7B,EAAK8O,YAEjC3E,EAAsB,oBADX,CAAE4G,OAAQtV,KAAKgM,MAAMnJ,GAAIwO,QAASrR,KAAKgM,MAAMqF,SACPrR,KAAKgM,MAAMpK,S,wCAG5C6R,GAChBzT,KAAK6O,SAAS4E,K,4BAId,GAAIzT,KAAKgM,MAAMuF,KAAOvR,KAAKgM,MAAMqJ,SAC/B,OACE,kBAAC,IAAD,CAAK5N,KAAM,SAAWzH,KAAKgM,MAAMuF,IAAI1O,GAAK,QAAS+C,OAAO,aAAa2I,SAAS,cAAc5G,KAAK,QAAQqD,MAAM,QAC/G,kBAAC,IAAD,CAAM6G,IAAI,UAAUC,OAAO,UAAUC,GAAG,kBACxC,kBAAC,IAAD,CAAMF,IAAI,WAAWC,OAAO,WAAWC,GAAG,sB,+BAOxC,IAAD,EACkB/R,KAAKgM,MAAtBuF,EADD,EACCA,IAAK8D,EADN,EACMA,SACb,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQ1P,MAAOpB,EAAKgR,KAAM5B,SAAUpP,EAAKqP,OACzC,kBAAC,IAAD,MACC5T,KAAK6T,MACN,kBAAC,GAAD,CACEtC,IAAKA,EAAK8D,SAAUA,EACnB5D,OAAQzR,KAAKyR,OAAQL,aAAcpR,KAAKkT,yB,GA/EfjE,aCKnBuG,GArBD,SAAC/Q,GAEf,OAAIA,EAAM8Q,KAEN,kBAAC,IAAD,CAAMpP,WAAS,GACZ1B,EAAM8Q,KAAKvT,KAAI,SAACuP,GAAD,OACd,kBAAC,IAAD,CACEtP,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,IACjCd,KAAM,SAAWgL,EAAI1O,GACrBkN,aAAa,EACbpK,MAAO4L,EAAI5L,MACXW,MAAM,GACNyN,SAAS,GACT3N,KAAK,SAKH,8BCHCqP,GAdE,SAAChR,GAChB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQkB,MAAOpB,EAAKgR,KAAM5B,SAAUpP,EAAKqP,OAEzC,kBAAC,IAAD,KAAarP,EAAK3E,MAClB,kBAAC,IAAD,CAAK6H,KAAK,YAAY7B,OAAO,aAAc2I,SAAS,cAAc5G,KAAK,QAAQqD,MAAM,cACnF,kBAAC,IAAD,CAAM6G,IAAI,SAASC,OAAO,SAASC,GAAG,iBACtC,kBAAC,IAAD,CAAMF,IAAI,WAAWC,OAAO,WAAWC,GAAG,oBAE5C,kBAAC,GAAD,CAASwD,KAAM9Q,EAAM8Q,SCNNtC,G,YACnB,aAAe,IAAD,8BACZ,+CACKzR,QAAU,EAAKA,QAAQH,KAAb,gBACf,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCqJ,KAAM,MALI,E,kFASZjJ,EAAWC,GAAG,WAAYvM,KAAKwB,W,6CAI/B8K,EAAWE,eAAe,WAAYxM,KAAKwB,W,0CAI3CxB,KAAK8L,a,iCAIkBoC,IAAWpO,SAC/BqO,MAAMC,KAAK,CAAEhI,KAAM7B,EAAK8J,UAAWC,aAAc,IAAMC,SAAU,QACpEG,EAAkB,OAAQ1O,KAAKgM,MAAMtK,KAAM,GAAI1B,KAAKgM,MAAMpK,S,gCAI1D,IAAI2T,EAAOjJ,EAAW9K,UAClBzB,EAAQuM,EAAWsC,WACnB2G,GAAkB,QAAVxV,GACVC,KAAK6O,SAAS,CACZ0G,KAAMA,M,+BAKF,IACDA,EAAQvV,KAAKgM,MAAbuJ,KACP,OAAO,kBAAC,GAAD,CAAUA,KAAMA,Q,GAvCStB,IAAMhF,WCiD3ByG,GApDC,SAACjR,GAEf,GAAIA,EAAMkR,YACR,IAAIC,GAAiB,OAEjBA,GAAiB,EAsBvB,OACE,kBAAC,IAAMxQ,SAAP,KACE,kBAAC,IAAD,KAAab,EAAKgN,KAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEnI,MAAO7E,EAAKoB,MACZjF,KAAK,OACLwR,YAAY,MACZG,aAAc5N,EAAM8M,IAAI5L,MACxBwM,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAEzL,MAAOD,EAAEE,OAAOC,YA7B/C,WACE,GAAIpB,EAAMoR,YACR,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUxB,OAAK,EAACxO,OAAO,EAAOyO,SAAUsB,EAAgBpQ,KAAK,eAAeG,MAAOpB,EAAKuR,cACtFrQ,SAAU,SAACC,GACTjB,EAAM2M,aAAa,CAAEuE,YAAanB,KAAKC,MAAM/O,EAAEE,OAAOC,YAG1D,kBAAC,IAAD,CAAUwO,OAAK,EAACxO,OAAO,EAAMyO,QAASsB,EAAgBpQ,KAAK,eAAeG,MAAOpB,EAAK6Q,UACpF3P,SAAU,SAACC,GACTjB,EAAM2M,aAAa,CAAEuE,YAAanB,KAAKC,MAAM/O,EAAEE,OAAOC,aAsB7DkQ,GAED,kBAAC,IAAD,CAAOzE,QAAM,GACX,kBAAC,IAAD,CAAKC,IAAI,KACT,kBAAC,IAAD,CAAMzM,UAAU,eACd,kBAAC,IAAD,CAAQA,UAAU,UAAU0M,MAAI,EAACmD,UAAWlQ,EAAMmQ,QAASpE,QAAS/L,EAAMgN,QAASlN,EAAKkN,YC/B7EuE,G,YACnB,aAAe,IAAD,8BACZ,+CACKvE,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBAEzB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCqF,IAAK,GACLoE,aAAa,EACbE,aAAa,GAVH,E,kFAgBZvJ,EAAWC,GAAG,eAAgBvM,KAAKuD,e,6CAInC+I,EAAWE,eAAe,eAAgBxM,KAAKuD,e,+BAK/CmL,EAAsB,OADX,CAAC/I,MAAO3F,KAAKgM,MAAMrG,MAAOyP,UAAWpV,KAAKgM,MAAM2J,aACvB3V,KAAKgM,MAAMpK,S,wCAI/B6R,GAChBzT,KAAK6O,SAAS4E,K,oCAKdzT,KAAK+U,UAAUC,SAAS,Y,+BAKhB,IAAD,EACiChV,KAAKgM,MAAtCuF,EADA,EACAA,IAAKoE,EADL,EACKA,YAAaE,EADlB,EACkBA,YACzB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQlQ,MAAOpB,EAAK0R,SAAUtC,SAAUpP,EAAKqP,OAC7C,kBAAC,IAAD,KAAarP,EAAK0R,UAClB,kBAAC,GAAD,CACE1E,IAAKA,EAAKE,OAAQzR,KAAKyR,OAAQmD,SAAS,EAAMiB,YAAaA,EAC3DzE,aAAcpR,KAAKkT,kBAAmByC,YAAaA,S,GAjDtB1G,aCClBiG,G,YACnB,aAAe,IAAD,8BACZ,+CACKzD,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAKgC,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBAGzB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCqF,IAAM,GACNoE,aAAa,EACbE,aAAa,GAZH,E,kFAiBZvJ,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,eAAgBvM,KAAKuD,e,6CAInC+I,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,eAAgBxM,KAAKuD,e,+BAS/CmL,EAAyB,OAHd,CACT7L,GAAG7C,KAAKgM,MAAMnJ,GAAI8C,MAAO3F,KAAKgM,MAAMrG,MACpCyP,UAAWpV,KAAKgM,MAAM2J,aACgB3V,KAAKgM,MAAMpK,S,0CAGnD5B,KAAK8L,a,iCAIkBoC,IAAWpO,SAC/BqO,MAAMC,KAAK,CAAEhI,KAAM7B,EAAK8J,UAAWC,aAAc,IAAMC,SAAU,QAChEvO,KAAKmT,SAASxR,OAAd,OACF+M,EAAsB,OAAQ1O,KAAKmT,SAASxR,OAAd,MAAgC3B,KAAKgM,MAAMpK,S,oCAM3E,IAAI2P,EAAMjF,EAAWoD,aACjB3P,EAAQuM,EAAWsC,WACnB2C,GAAiB,QAAVxR,GACTC,KAAK6O,SAAS,CACZlJ,MAAO4L,EAAI5L,MACX9C,GAAI0O,EAAI1O,GACR0O,IAAKA,EACLoE,YAAapE,EAAI6D,UACjBS,YAAatE,EAAIsE,gB,wCAKLpC,GAChBzT,KAAK6O,SAAS4E,K,oCAMdzT,KAAK+U,UAAUC,SAAS,Y,+BAIhB,IAAD,EACqChV,KAAKgM,MAAtCuF,EADJ,EACIA,IAAKoE,EADT,EACSA,YAAaE,EADtB,EACsBA,YAC7B,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQlQ,MAAOpB,EAAK0R,SAAUtC,SAAUpP,EAAKqP,OAC7C,kBAAC,IAAD,KAAarP,EAAK0R,UAClB,kBAAC,GAAD,CACE1E,IAAKA,EAAKoE,YAAaA,EAAalE,OAAQzR,KAAKyR,OAAQoE,YAAaA,EACtEjB,SAAS,EAAMxD,aAAcpR,KAAKkT,yB,GAjFAjE,aCW7BiH,GAxBI,SAACzR,GAClB,OAAIA,EAAMoG,OAEN,kBAAC,IAAMzF,SAAP,KACE,kBAAC,IAAD,KAAab,EAAKoB,OAClB,kBAAC,IAAD,CAAMoN,eAAA,GACJ,kBAAC,IAAD,KAAWtO,EAAMoG,OAAOlF,QAE1B,kBAAC,IAAD,KAAapB,EAAK6Q,WAClB,kBAAC,IAAD,CAAMrC,eAAA,GACJ,kBAAC,IAAD,KAAWxO,EAAKE,EAAMoG,OAAOuK,aAG/B,kBAAC,IAAD,CAAMrC,eAAA,GACJ,kBAAC,IAAD,CAAUhI,MAAO,CAACzB,gBAAiB7E,EAAMoG,OAAOsL,YAAa1R,EAAMoG,OAAOsL,aAOzE,MCVUlD,G,YACnB,aAAe,IAAD,8BACZ,+CACK5P,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAKoQ,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBAEzB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCrB,OAAQ,KACRhI,GAAI,KACJwS,UAAU,GAVA,E,kFAeZ/I,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,eAAgBvM,KAAKqD,e,6CAInCiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,e,0CAI/CqL,EAAsB,WAAY1O,KAAKmT,SAASxR,OAAd,SAAkC3B,KAAKgM,MAAMpK,S,oCAI/E,IAAIiJ,EAASyB,EAAWoD,aACpB3P,EAAQuM,EAAWsC,WACnB/D,GAAoB,WAAV9K,GACZC,KAAK6O,SAAS,CACZhE,OAAQA,EACRhI,GAAIgI,EAAOhI,GACXwS,SAAUxK,EAAOwK,WAGrBrV,KAAKwN,GAAG,QAAQY,S,+BAKhBpO,KAAKwN,GAAG,QAAQ4F,OAChBpT,KAAKwN,GAAG,eAAepH,KAAK7B,EAAK8O,YAEjC3E,EAAsB,oBADX,CAAE0H,UAAWpW,KAAKgM,MAAMnJ,GAAIwO,QAASrR,KAAKgM,MAAMqF,SACVrR,KAAKgM,MAAMpK,S,wCAI5C6R,GAChBzT,KAAK6O,SAAS4E,K,4BAId,GAAIzT,KAAKgM,MAAMnB,QAAU7K,KAAKgM,MAAMqJ,SAClC,OACE,kBAAC,IAAD,CAAK5N,KAAM,aAAezH,KAAKgM,MAAMnB,OAAOhI,GAAK,QAAS+C,OAAO,aAAa2I,SAAS,cAAc5G,KAAK,QAAQqD,MAAM,QACtH,kBAAC,IAAD,CAAM6G,IAAI,UAAUC,OAAO,UAAUC,GAAG,kBACxC,kBAAC,IAAD,CAAMF,IAAI,WAAWC,OAAO,WAAWC,GAAG,sB,+BAMxC,IAAD,EACsB/R,KAAKgM,MAA1BnB,EADD,EACCA,OAAQwK,EADT,EACSA,SAChB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQ1P,MAAOpB,EAAK8R,SAAU1C,SAAUpP,EAAKqP,OAC7C,kBAAC,IAAD,MACC5T,KAAK6T,MACN,kBAAC,GAAD,CAAYhJ,OAAQA,EAAQwK,SAAUA,EACpC5D,OAAQzR,KAAKyR,OAAQL,aAAcpR,KAAKkT,yB,GA1EdjE,aCKnBqH,GArBE,SAAC7R,GAElB,OAAIA,EAAM4R,SAEN,kBAAC,IAAD,CAAMlQ,WAAS,GACZ1B,EAAM4R,SAASrU,KAAI,SAAC6I,GAAD,OAClB,kBAAC,IAAD,CACE5I,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,IACjCd,KAAM,aAAesE,EAAOhI,GAC5BkN,aAAa,EACbpK,MAAOkF,EAAOlF,MACdW,MAAM,GACNyN,SAAS,GACT3N,KAAK,SAKH,8BCHCmQ,GAdK,SAAC9R,GACnB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQkB,MAAOpB,EAAK8R,SAAU1C,SAAUpP,EAAKqP,OAE7C,kBAAC,IAAD,KAAarP,EAAK3E,MAClB,kBAAC,IAAD,CAAK6H,KAAK,gBAAgB7B,OAAO,aAAc2I,SAAS,cAAc5G,KAAK,QAAQqD,MAAM,cACvF,kBAAC,IAAD,CAAM6G,IAAI,SAASC,OAAO,SAASC,GAAG,iBACtC,kBAAC,IAAD,CAAMF,IAAI,WAAWC,OAAO,WAAWC,GAAG,oBAE5C,kBAAC,GAAD,CAAYsE,SAAU5R,EAAM4R,aCNbpD,G,YACnB,aAAe,IAAD,8BACZ,+CACKzR,QAAU,EAAKA,QAAQH,KAAb,gBACf,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCmK,SAAU,MALA,E,kFASZ/J,EAAWC,GAAG,WAAYvM,KAAKwB,W,6CAI/B8K,EAAWE,eAAe,WAAYxM,KAAKwB,W,0CAI3CxB,KAAK8L,a,iCAIkBoC,IAAWpO,SAC/BqO,MAAMC,KAAK,CAAEhI,KAAM7B,EAAK8J,UAAWC,aAAc,IAAMC,SAAU,QACpEG,EAAkB,WAAY1O,KAAKgM,MAAMtK,KAAM,GAAI1B,KAAKgM,MAAMpK,S,gCAI9D,IAAIyU,EAAW/J,EAAW9K,UACtBzB,EAAQuM,EAAWsC,WACnByH,GAAsB,WAAVtW,GACdC,KAAK6O,SAAS,CACZwH,SAAUA,M,+BAKN,IACDA,EAAYrW,KAAKgM,MAAjBqK,SACP,OAAO,kBAAC,GAAD,CAAaA,SAAUA,Q,GAvCEpC,IAAMhF,WCsE3BuH,GAzEI,SAAC/R,GAClB,GAAIA,EAAMoG,OAAQ,CAChB,GAAIpG,EAAMkR,YACR,IAAIC,GAAiB,OAEjBA,GAAiB,EAqBvB,OACE,kBAAC,IAAMxQ,SAAP,KACE,kBAAC,IAAD,KAAab,EAAKsG,QAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEzB,MAAO7E,EAAKoB,MACZjF,KAAK,OACLwR,YAAY,MACZG,aAAc5N,EAAMkB,MACpBwM,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAEzL,MAAOD,EAAEE,OAAOC,YA7B/C,WACE,GAAIpB,EAAMoR,YACR,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUxB,OAAK,EAACxO,OAAO,EAAOyO,SAAUsB,EAAgBpQ,KAAK,eAAeG,MAAOpB,EAAKuR,cACtFrQ,SAAU,SAACC,GACTjB,EAAM2M,aAAa,CAAEuE,YAAanB,KAAKC,MAAM/O,EAAEE,OAAOC,YAG1D,kBAAC,IAAD,CAAUwO,OAAK,EAACxO,OAAO,EAAMyO,QAASsB,EAAgBpQ,KAAK,eAAeG,MAAOpB,EAAK6Q,UACpF3P,SAAU,SAACC,GACTjB,EAAM2M,aAAa,CAAEuE,YAAanB,KAAKC,MAAM/O,EAAEE,OAAOC,aAuB7DkQ,GAED,yBAAKjR,UAAU,SACb,4BACE,4BACE,yBAAKA,UAAU,2BACb,yBAAKA,UAAU,cACb,uBAAGC,MAAM,sCAAsCC,cAAY,OAAOnC,GAAG,sCAEvE,yBAAKiC,UAAU,cACb,yBAAKA,UAAU,mBACb,2BAAOpE,KAAK,OAAOwR,YAAY,QAAQrM,MAAOpB,EAAMuG,MAAOyL,SAAS,WAAW5T,GAAG,qCAQ9F,kBAAC,IAAD,CAAOyO,QAAM,GACX,kBAAC,IAAD,CAAKC,IAAI,KACT,kBAAC,IAAD,CAAMzM,UAAU,eACd,kBAAC,IAAD,CAAQA,UAAU,UAAU0M,MAAI,EAACmD,UAAWlQ,EAAMmQ,QAASpE,QAAS/L,EAAMgN,QAASlN,EAAKkN,WAMhG,OAAQ,MCtDSiF,G,YACnB,aAAe,IAAD,8BACZ,+CACKjF,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBAEzB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCrB,OAAQ,GACRlF,MAAO,GACPqF,MAAO,GACP2K,aAAa,GAXH,E,kFAiBZrJ,EAAWC,GAAG,eAAgBvM,KAAKuD,e,6CAInC+I,EAAWE,eAAe,eAAgBxM,KAAKuD,e,oCAK/CvD,KAAK2W,gB,oCAIL,IAAMlK,EAAOzM,KACDyM,EAAKE,IACbiK,YAAY5J,OAAO,CACrB6J,QAAS,8BACTC,SAAU,oCACVC,4BAA4B,EAC5BC,QAAS,CAAC,cAAe,cACzBC,OAAQ,UACRpR,MAAO,CACLqR,IAAK,WAEP3K,GAAI,CACF4K,OAAQ,SAAU5J,GAChBd,EAAKoC,SAAS,CAAE7D,MAAOuC,EAAE1H,MAAMqR,Y,+BAQrCxI,EAAsB,WADX,CAAC/I,MAAO3F,KAAKgM,MAAMrG,MAAOqF,MAAOhL,KAAKgM,MAAMhB,MAAOoK,UAAWpV,KAAKgM,MAAM2J,aAC5C3V,KAAKgM,MAAMpK,S,wCAInC6R,GAChBzT,KAAK6O,SAAS4E,K,oCAKdzT,KAAK+U,UAAUC,SAAS,gB,+BAKhB,IAAD,EACuBhV,KAAKgM,MAA5BnB,EADA,EACAA,OAAQ8K,EADR,EACQA,YACf,OACE,kBAAC,IAAD,CAAMxK,cAAenL,KAAKoL,YAAY/J,KAAKrB,OACzC,kBAAC,IAAD,CAAQ2F,MAAOpB,EAAK6S,YAAazD,SAAUpP,EAAKqP,OAChD,kBAAC,IAAD,KAAarP,EAAK6S,aAClB,kBAAC,GAAD,CACAvM,OAAQA,EAAQ4G,OAAQzR,KAAKyR,OAAQkE,YAAaA,EAClDf,SAAS,EAAMxD,aAAcpR,KAAKkT,yB,GA3EAjE,aCCrBiG,G,YACnB,aAAe,IAAD,8BACZ,+CACKzD,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAKgC,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAKsV,YAAc,EAAKA,YAAYtV,KAAjB,gBAInB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCrB,OAAS,GACTlF,MAAO,KACP9C,GAAI,GACJmI,MAAO,OACP2K,aAAa,EACbE,aAAa,GAjBH,E,kFAsBZvJ,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,eAAgBvM,KAAKuD,e,6CAInC+I,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,eAAgBxM,KAAKuD,e,0CAK/CvD,KAAK8L,a,oCAIL9L,KAAK2W,gB,oCAKL,IAAMlK,EAAOzM,KACDyM,EAAKE,IAEbiK,YAAY5J,OAAO,CACrB6J,QAAS,8BACTC,SAAU,oCACVC,4BAA4B,EAC5BC,QAAS,CAAC,cAAe,cACzBC,OAAQ,UACRpR,MAAO,CACLqR,IAAKlX,KAAKgM,MAAMhB,OAElBuB,GAAI,CACF4K,OAAQ,SAAU5J,GAChBd,EAAKoC,SAAS,CAAE7D,MAAOuC,EAAE1H,MAAMqR,Y,+BASrCxI,EAAyB,WADd,CAAC7L,GAAG7C,KAAKgM,MAAMnJ,GAAI8C,MAAO3F,KAAKgM,MAAMrG,MAAOqF,MAAOhL,KAAKgM,MAAMhB,MAAOoK,UAAWpV,KAAKgM,MAAM2J,aAC1D3V,KAAKgM,MAAMpK,S,iCAIhCsM,IAAWpO,SAC/BqO,MAAMC,KAAK,CAAEhI,KAAM7B,EAAK8J,UAAWC,aAAc,IAAMC,SAAU,QAChEvO,KAAKmT,SAASxR,OAAd,UACF+M,EAAsB,WAAY1O,KAAKmT,SAASxR,OAAd,SAAmC3B,KAAKgM,MAAMpK,S,oCAKtE,IAAD,OACPiJ,EAASyB,EAAWoD,aACpB3P,EAAQuM,EAAWsC,WACnB/D,GAAoB,WAAV9K,GACZC,KAAK6O,SAAS,CACZlJ,MAAOkF,EAAOlF,MACd9C,GAAIgI,EAAOhI,GACXmI,MAAOH,EAAOsL,UACdtL,OAAQA,EACR8K,YAAa9K,EAAOwM,UACpBxB,YAAahL,EAAOgL,cACnB,kBAAM,EAAKc,iBAEhBpW,QAAQC,IAAIqK,K,wCAGI4I,GAChBzT,KAAK6O,SAAS4E,K,oCAMdzT,KAAK+U,UAAUC,SAAS,gB,+BAIhB,IAAD,EACsDhV,KAAKgM,MAAvDnB,EADJ,EACIA,OAAQlF,EADZ,EACYA,MAAOqF,EADnB,EACmBA,MAAO2K,EAD1B,EAC0BA,YAAaE,EADvC,EACuCA,YAC9C,OACE,kBAAC,IAAD,CAAM1K,cAAenL,KAAKoL,YAAY/J,KAAKrB,OACzC,kBAAC,IAAD,CAAQ2F,MAAOpB,EAAK6S,YAAazD,SAAUpP,EAAKqP,OAChD,kBAAC,IAAD,KAAarP,EAAK6S,aAClB,kBAAC,GAAD,CACAvM,OAAQA,EAAQlF,MAAOA,EAAOqF,MAAOA,EAAO2K,YAAaA,EACzDlE,OAAQzR,KAAKyR,OAAQmD,SAAS,EAAMxD,aAAcpR,KAAKkT,kBACvD2C,YAAaA,S,GAlHuB5G,aCgD7BqI,GA7DS,SAAC7S,GAOvB,GAAIA,EAAM8S,aAAc,CAAC,IAadC,EAAT,SAAgB1E,EAAM2E,GACpB,IAAI1R,GAAW,EAIf,OAHI0R,EAAY3E,MAAQA,IACtB/M,GAAW,GAEL,4BAAQF,MAAOiN,EAAM/M,SAAUA,GAAWxB,EAAKuO,KAEhD4E,EAAT,SAAiBD,GACf,GAAIhT,EAAMkT,cACR,OACE,yBAAK7S,UAAU,UA7BvB,SAAoB2S,GAClB,GAAyB,YAArBA,EAAY3E,MAAsBrO,EAAM4Q,SAC1C,OAAO,kBAAC,IAAD,CAAMvQ,UAAU,OAAO0L,QAAS,kBAAM/L,EAAMkT,cAAcF,EAAYjQ,QAAQ3E,MAAM0B,EAAKqT,QA4B1FC,CAAWJ,GACX,uBAAG3S,UAAU,wCAAwCS,eAAa,WAxB1E,SAAgBkS,GACd,GAAKhT,EAAM4Q,SACT,OACE,4BAAQ7P,KAAK,OAAOC,SAAU,SAACC,GAAQjB,EAAMqT,WAAWL,EAAYjQ,QAAQ3E,GAAI6C,EAAEE,OAAOC,SACtF2R,EAAO,QAASC,GAChBD,EAAO,YAAaC,GACpBD,EAAO,YAAaC,GACpBD,EAAO,WAAYC,IAkBjBM,CAAON,GACR,yBAAK3S,UAAU,gBACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,cAAcP,EAAKuO,MAClC,yBAAKhO,UAAU,mBAAmBP,EAAKkT,EAAY3E,YAQjE,OACE,kBAAC,IAAD,CAAMhO,UAAU,SACbL,EAAM8S,aAAavV,KAAI,SAACyV,GAAD,OACtB,kBAAC,IAAD,CACExV,IAAKwV,EAAYjQ,QAAQ3E,GACzB8C,MAAO8R,EAAYjQ,QAAQE,SAC3BpB,MAAOoR,EAAQD,IACf,yBAAK9P,KAAK,QAAQC,IAAK6P,EAAYjQ,QAAQK,OAAQC,MAAM,KAAKC,OAAO,YAM7E,OAAQ,8BChCGiQ,GA1BI,SAACvT,GAClB,GAAIA,EAAMwT,SAAU,CAAC,IACVP,EAAT,SAAiBlQ,GACb,OAAI/C,EAAMyT,WACC,kBAAC,IAAD,CAAM1H,QAAS,kBAAK/L,EAAMyT,WAAW1Q,EAAQ3E,MAAM0B,EAAK4T,KAE/D1T,EAAMkT,cACC,kBAAC,IAAD,CAAMnH,QAAS,kBAAK/L,EAAMkT,cAAcnQ,EAAQ3E,MAAM0B,EAAKqT,aADtE,GAIJ,OACE,kBAAC,IAAD,KACGnT,EAAMwT,SAASjW,KAAI,SAACwF,GAAD,OAClB,kBAAC,IAAD,CACA7B,MAAO6B,EAAQE,SACfqM,SAAS,MACTzN,MAAOoR,EAAQlQ,IACf,yBAAKG,KAAK,QAAQC,IAAKJ,EAAQK,OAAQC,MAAM,KAAKC,OAAO,YAM/D,OAAQ,8BCqCGqQ,GA1DK,SAAC3T,GAmCjB,OAAIA,EAAME,KAEF,kBAAC,IAAD,KACI,kBAAC,IAAD,KACKJ,EAAK8T,WAEV,kBAAC,IAAD,CAAavT,UAAU,SACnB,kBAAC,IAAD,KACI,kBAAC,GAAD,CACIyS,aAAc9S,EAAME,KAAK2T,iBAAkBX,cAAelT,EAAMkT,cAChEG,WAAYrT,EAAMqT,WAAYzC,SAAU5Q,EAAM4Q,aAI1D,kBAAC,IAAD,KAhDZ,WACI,GAAI5Q,EAAM4Q,SACN,OACI,kBAAC,IAAD,CAAMkD,eAAa,EAACzT,UAAU,SAC1B,kBAAC,IAAD,CAAU0T,eAAa,EAAC1T,UAAU,QAAQa,MAAO,KAAOpB,EAAK4T,KACzD,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAMM,YAAU,GACXhU,EAAME,KAAK+T,OAAO1W,KAAI,SAAC2W,GAAD,OACnB,kBAAC,IAAD,KACI,8BAAOA,EAAMhT,OACb,kBAAC,IAAD,CAAQF,SAAU,SAACC,GAAD,OAAOjB,EAAMmU,SAASlT,EAAEiT,EAAM9V,YAI5D,kBAAC,IAAD,KACI,kBAAC,IAAD,CACIgW,SAAO,EACPzP,MAAO7E,EAAKuU,OACZC,eAAa,EACbrY,KAAK,OACLwR,YAAY,GACZ8G,aAAW,EACX7G,QAAS,SAACzM,GACNjB,EAAMwU,cAAc,CAAEC,MAAOxT,EAAEE,OAAOC,YAIlD,kBAAC,GAAD,CAAYoS,SAAUxT,EAAMwT,SAAUC,WAAYzT,EAAMyT,gBAsB/D7C,KAKL,8BC7BD2C,GA5BI,SAACvT,GAClB,GAAIA,EAAM4R,SAAU,CAAC,IACVqB,EAAT,SAAiB7M,GACf,GAAIpG,EAAM0U,UACR,OAAQ,kBAAC,IAAD,CAAM3I,QAAS,kBAAM/L,EAAM0U,UAAUtO,EAAOhI,MAAM0B,EAAKwT,SAGnE,OACE,kBAAC,IAAD,KACGtT,EAAM4R,SAASrU,KAAI,SAAC6I,GAAD,OAClB,kBAAC,IAAD,CACElF,MACE,yBAAKb,UAAU,QACb,yBAAKA,UAAU,aAAaiG,MAAO,CAAEzB,gBAAiBuB,EAAOsL,YAC3D,uBAAGrR,UAAU,2BAAb,eACA,uBAAGA,UAAU,iCAEf,yBAAKA,UAAU,cAAc+F,EAAOlF,QAExCW,MAAOoR,EAAQ7M,SAMvB,OAAQ,8BC8BGuO,GAtDE,SAAC3U,GAuCd,OAAIA,EAAME,KAGF,kBAAC,IAAD,CAAM4T,eAAa,EAACzT,UAAU,SAC1B,kBAAC,IAAD,CAAU0T,eAAa,EAAC1T,UAAU,QAC9Ba,OA3CFkF,EA2CcpG,EAAME,KAAKkG,OA1ChCA,EAEK,6BACA,yBAAK/F,UAAU,QACX,yBAAKA,UAAU,aAAaiG,MAAO,CAAEzB,gBAAiBuB,EAAOG,QACzD,uBAAGlG,UAAU,2BAAb,eACA,uBAAGA,UAAU,iCAEjB,yBAAKA,UAAU,cAAc+F,EAAOlF,SAKzC,6BAAMpB,EAAK8U,cAGtB,WACI,GAAI5U,EAAM4Q,SACN,OACI,kBAAC,IAAD,KACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CACIwD,SAAO,EACPzP,MAAO7E,EAAKuU,OACZC,eAAa,EACbrY,KAAK,OACLwR,YAAY,GACZ8G,aAAW,EACX7G,QAAS,SAACzM,GACNjB,EAAM6U,aAAa,CAAEJ,MAAOxT,EAAEE,OAAOC,YAIjD,kBAAC,GAAD,CAAYwQ,SAAU5R,EAAM4R,SAAU8C,UAAW1U,EAAM0U,aAWtD9D,KAKD,6BAlDZ,IAAcxK,GCwGH0O,GA1GD,SAAC9U,GAEX,SAAS+U,EAAK/S,GACV,IAAI7B,EAAS,GAuCb,OArCI6B,EAAK5B,gBACLD,EAAOvE,KACH,0BAAMyE,UAAU,kBACZ,uBAAGC,MAAM,eAAeC,cAAY,WAK5CyB,EAAKvB,eACLN,EAAOvE,KACH,0BAAMyE,UAAU,oBACZ,uBAAGC,MAAM,oBAAoBC,cAAY,WAIjDyB,EAAKxB,cACLL,EAAOvE,KACH,0BAAMyE,UAAU,mBACZ,uBAAGC,MAAM,qBAAqBC,cAAY,WAIlDyB,EAAKoE,OACLjG,EAAOvE,KAEH,yBAAKyE,UAAU,OAAO7C,IAAK,mBAAqBwE,EAAK5D,IACjD,yBAAKiC,UAAU,aAAaiG,MAAO,CAAEzB,gBAAiB7C,EAAKoE,OAAOG,QAC9D,uBAAGlG,UAAU,2BAAb,eACA,uBAAGA,UAAU,iCAEjB,yBAAKA,UAAU,cAAc2B,EAAKoE,OAAOlF,SAKjDf,EAAOvE,KAAK,0BAAMyE,UAAU,QAAQP,EAAK8U,aAErCzU,EASZ,SAASe,EAAMc,GACX,OAAO,8BAAOA,EAAKd,OAGvB,SAASS,EAAKK,GACV,IAAI7B,EAAS,GAQb,MAPsB,SAAlB6B,EAAKgT,UACL7U,EAAOvE,KAAK,0BAAMyE,UAAU,6BAA6BP,EAAKkC,EAAKgT,YAEjD,WAAlBhT,EAAKgT,UACL7U,EAAOvE,KAAK,0BAAMyE,UAAU,6BAA6BP,EAAKkC,EAAKgT,YAEvE7U,EAAOvE,KAAK,0BAAOyE,UAAU,QAAQ2B,EAAKJ,UACnCzB,EAGX,OAAIH,EAAME,KAEF,kBAAC,IAAD,KACI,kBAAC,IAAD,KACKJ,EAAKmC,MA1BtB,WACI,GAAIjC,EAAM4Q,SACN,OAAQ,kBAAC,IAAD,CAAM5N,KAAM,cAAgBhD,EAAME,KAAK9B,IAAI,uBAAGiC,UAAU,oBAAxD,IAAgFP,EAAKmV,KAyBpFrE,IAEL,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAMlP,WAAS,GACV1B,EAAMiC,MAAM1E,KAAI,SAACyE,GAAD,OACb,kBAAC,IAAD,CACIxE,IAAK,OAAOwE,EAAK5D,GACjBiC,UAAU,mBACVyB,KAAM,UAAYE,EAAK5D,GACvB8C,MAAOA,EAAMc,GACbH,MAAOkT,EAAK/S,GACZL,KAAMA,EAAKK,UAM3B,kBAAC,IAAD,KAEI,kBAAC,IAAD,CACI3B,UAAU,iBACV6U,kBAAmBpV,EAAKqV,OACxB1H,YAAa3N,EAAKuU,OAClBe,QAAQ,EACRpU,SAAU,SAACC,GAAD,OAAOjB,EAAMqV,WAAWpU,EAAEE,OAAOC,YAOnD,8BCxDDkU,GA/CC,SAACtV,GACb,GAAIA,EAAME,KAAM,CAAC,IACJqV,EAAT,SAAkBC,GACd,IAAI5P,EAAO,IAAI6C,KAAK,IAAIlE,OAAOC,MAAMgR,IACrC,OAAQ,kBAAC,IAAD,CAAQ5P,KAAMA,EAAM6P,SAAO,KAOvC,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KACK3V,EAAK2D,QARlB,WACI,GAAIzD,EAAM4Q,SACN,OAAQ,kBAAC,IAAD,CAAM5N,KAAM,sBAAwBhD,EAAME,KAAK9B,IAAI,uBAAGiC,UAAU,oBAAhE,IAAwFP,EAAKmV,KAOhGrE,IAEL,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAMlP,WAAS,GACV1B,EAAMyD,QAAQlG,KAAI,SAACoG,GAAD,OACf,kBAAC,IAAD,CACInG,IAAK,SAAWmG,EAAOvF,GACvBiC,UAAU,mBACVyB,KAAM,YAAc6B,EAAOvF,GAC3B8C,MAAOyC,EAAOzC,MACdW,MAAO0T,EAAS5R,EAAO+R,eACvB/T,KAAMgC,EAAOgS,eAM7B,kBAAC,IAAD,KACI,kBAAC,IAAD,CACItV,UAAU,iBACV6U,kBAAmBpV,EAAKqV,OACxB1H,YAAa3N,EAAKuU,OAClBe,QAAQ,EACRpU,SAAU,SAACC,GAAD,OAAOjB,EAAM4V,aAAa3U,EAAEE,OAAOC,YAM7D,OAAQ,8BCbDyU,I,OAlCK,SAAC7V,GASnB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KAAaF,EAAKgW,aAAlB,IAVJ,WACE,GAAG9V,EAAM+V,QAAQ,CACf,IAAIJ,EAAU,GAEd,OADA3V,EAAMgW,SAASzY,KAAI,SAAC0Y,GAAYA,EAAG7X,KAAO4B,EAAM+V,UAASJ,EAAUM,EAAGN,YAC/D,kBAAC,IAAD,CAAMhU,KAAM7B,EAAKoW,YAAc,KAAMP,EAAQ/Q,UAAU,EAAE,IAAKuR,YAAU,EAACpK,QAAU/L,EAAMoW,eAM/DL,IAClC,kBAAC,IAAD,KACG,kBAAC,IAAD,CACEpR,MAAO7E,EAAKuW,QACZC,QAAS,WAAWtW,EAAMuW,IAC1Bta,KAAK,WACLwR,YAAY,MACZ+I,UAAU,MACVC,WAAS,EACTlC,aAAa,EACb7G,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAE+J,eAAgBzV,EAAEE,OAAOC,YAIpD,kBAAC,IAAD,KACE,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAMf,UAAU,eAChB,kBAAC,IAAD,CAAQA,UAAU,UAAU0M,MAAI,EAAChB,QAAS/L,EAAMgN,QAASlN,EAAKkN,YCgDvD2J,GA5EK,SAAC3W,GACjB,IAAI4W,EAAQ,GACZ,SAASC,EAASR,GACd,IAAIlW,EAAS,GAab,OAZIkW,EAAQzF,UACRzQ,EAAOvE,KACH,kBAAC,IAAD,CAAMmQ,QAAS,kBAAM/L,EAAM8W,qBAAqBT,EAAQjY,MACpD,uBAAGiC,UAAU,0BAIzBF,EAAOvE,KACH,kBAAC,IAAD,CAAMmQ,QAAS,kBAAM/L,EAAM+W,eAAeV,EAAQjY,MAC9C,uBAAGiC,UAAU,0BAGbF,EAGZ,SAASe,EAAMmV,GACX,IAAIlW,EAAS,CAAC,8BAAOkW,EAAQtT,QAAQE,SAAvB,OAId,OAHGoT,EAAQW,UACP7W,EAAOvE,KAAK,0BAAMyE,UAAU,sBAAsBP,EAAKoW,YAA3C,IAAyDG,EAAQW,WAE1E7W,EAEX,GAAIH,EAAMgW,SAAU,CAEhB,IAAK,IAAIxa,EAAI,EAAGA,EAAIwE,EAAMgW,SAASra,OAAQH,IAAK,CAC5C,IAAIoK,EAAO,IAAI6C,KAAK,IAAIlE,OAAOC,MAAMxE,EAAMgW,SAASxa,GAAGyb,aACnD3R,EACA,kBAAC,IAAM3E,SAAP,KACKkW,EAAS7W,EAAMgW,SAASxa,IACzB,kBAAC,IAAD,CAAQ0b,OAAO,KAAKzB,SAAO,EAAC0B,KAAG,GAAEvR,GAChC9F,EAAKqX,KAEdP,EAAMhb,KACF,kBAAC,IAAD,CACI4B,IAAK,UAAYwC,EAAMgW,SAASxa,GAAG4C,GACnCiC,UAAU,QACVjC,GAAI,MAAM4B,EAAMgW,SAASxa,GAAG4C,GAC5BuD,KAAM2D,EACNpE,MAAOA,EAAMlB,EAAMgW,SAASxa,IAC5B8T,SAAUtP,EAAMgW,SAASxa,GAAGma,SAE5B,yBAAKzS,KAAK,QAAQC,IAAKnD,EAAMgW,SAASxa,GAAGuH,QAAQK,OAAQC,MAAM,KAAKC,OAAO,SAQvF,OACI,kBAAC,IAAM3C,SAAP,KACI,kBAAC,IAAD,KAAab,EAAKkW,UAClB,kBAAC,IAAD,CAAMtU,WAAS,EAAC+K,OAAK,GAChBmK,GAEL,kBAAC,IAAD,CAAKQ,OAAK,GACN,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAK/W,UAAU,UACX,uBAAGA,UAAU,aAAa0L,QAAS,kBAAM/L,EAAMqX,aAC1CvX,EAAKwX,OAGd,kBAAC,IAAD,OAEJ,kBAAC,IAAD,OAKR,OAAQ,kBAAC,IAAD,OCoGDC,GAvKE,SAACvX,GAChB,GAAIA,EAAME,MAAQF,EAAMwX,OAAQ,CAiK9B,OAAQ,kBAAC,IAAM7W,SAAP,KA5HR,SAAS6W,EAAOC,GACd,GAAgB,aAAZA,EAAwB,CAC1B,IAAI7G,GAAW,EAIf,OAHI5Q,EAAMwX,OAAOE,SAAS,cACxB9G,GAAW,GAGX,kBAAC,GAAD,CACE1Q,KAAMF,EAAME,KAAM2U,aAAc7U,EAAM6U,aAAcjE,SAAUA,EAC9DgB,SAAU5R,EAAM4R,SAAU8C,UAAW1U,EAAM0U,YAIjD,GAAgB,iBAAZ+C,EAA4B,CAC1B7G,GAAW,EAIf,OAHI5Q,EAAMwX,OAAOE,SAAS,kBACxB9G,GAAW,GAGX,kBAAC,GAAD,CACE1Q,KAAMF,EAAME,KAAMsU,cAAexU,EAAMwU,cACvCtB,cAAelT,EAAMkT,cAAeO,WAAYzT,EAAMyT,WACtDD,SAAUxT,EAAMwT,SAAUH,WAAYrT,EAAMqT,WAC5CzC,SAAUA,EAAUuD,SAAUnU,EAAMmU,WAK1C,GAAgB,UAAZsD,EAAqB,CACnB7G,GAAW,EAIf,OAHI5Q,EAAMwX,OAAOE,SAAS,WACxB9G,GAAW,GAEL,kBAAC,GAAD,CAAO1Q,KAAMF,EAAME,KAAM+B,MAAOjC,EAAMiC,MAAO2O,SAAUA,EAAUyE,WAAYrV,EAAMqV,aAG7F,GAAgB,YAAZoC,EAAuB,CACrB7G,GAAW,EAIf,OAHI5Q,EAAMwX,OAAOE,SAAS,aACxB9G,GAAW,GAEL,kBAAC,GAAD,CAAS1Q,KAAMF,EAAME,KAAMuD,QAASzD,EAAMyD,QAASmN,SAAUA,EAAUgF,aAAc5V,EAAM4V,eAGrG,MAAgB,aAAZ6B,GACEzX,EAAMwX,OAAOE,SAAS,YAEtB,kBAAC,GAAD,CACE1a,MAAOgD,EAAME,KAAM8M,OAAQhN,EAAM2X,cACjChL,aAAc3M,EAAM2M,aAAcoJ,QAAS/V,EAAM+V,QACjDC,SAAUhW,EAAMgW,SAAUI,YAAapW,EAAMoW,YAC7CG,IAAKvW,EAAMuW,MAMH,SAAZkB,GACEzX,EAAMwX,OAAOE,SAAS,QAChB,kBAAC,IAAD,CAAM1U,KAAM,UAAYhD,EAAME,KAAK9B,GAAK,SAAS,uBAAGiC,UAAU,oBAI1D,SAAZoX,GACEzX,EAAMwX,OAAOE,SAAS,QAEtB,kBAAC,IAAM/W,SAAP,KA9FR,WACE,GAAGX,EAAME,KAAK0X,SACZ,OACE,kBAAC,IAAD,KACA,kBAAC,IAAD,CAAKvU,MAAM,MAAM0D,YAAY,OAC7B,kBAAC,IAAD,CAAM1G,UAAU,qBACd,kBAAC,IAAD,KACA,uBAAGC,MAAM,kCAAkCC,cAAY,SACtDT,EAAK8X,SAFN,IAEgB,6BACf5X,EAAME,KAAK2X,iBAsFTD,GACD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKvU,MAAM,MAAM0D,YAAY,MAC3B,kBAAC,IAAD,KACE,kBAAC,IAAD,KACG/G,EAAME,KAAKgB,MACXsW,EAAO,SAEV,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAMlJ,eAAA,GACJ,kBAAC,IAAD,CAAUjO,UAAU,QAAQa,MAAM,IAjHtD,WACE,IAAI4W,EAAM,GAIV,OAHA9X,EAAME,KAAK6X,SAASxa,KAAI,SAACuP,GAAD,OACtBgL,EAAIlc,KAAK,kBAAC,IAAD,CAAM4B,IAAK,WAAasP,EAAI1O,GAAIuD,KAAMmL,EAAI5L,YAE7C4W,EA4GgDhH,IACtC,kBAAC,IAAD,CAAUzQ,UAAU,QAAQa,MAAM,IArFhDlB,EAAME,KAAK8X,UACLlY,EAAKmY,OAELnY,EAAKoY,SAmFG,kBAAC,IAAD,CAAU7X,UAAU,QAAQa,MAAM,IAAIlB,EAAME,KAAK0B,WAIrD,kBAAC,IAAD,KACG4V,EAAO,eAKd,kBAAC,IAAD,CAAKnU,MAAM,MAAM0D,YAAY,MAC1ByQ,EAAO,kBAKZ,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKnU,MAAM,MAAM0D,YAAY,OAC1ByQ,EAAO,WAIZ,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKnU,MAAM,MAAM0D,YAAY,OAC1ByQ,EAAO,aAIZ,kBAAC,IAAD,KAAa1X,EAAKqY,aAEjBX,EAAO,YACR,kBAAC,GAAD,CACExB,SAAUhW,EAAMgW,SAAUc,qBAAsB9W,EAAM8W,qBACtDO,SAAUrX,EAAMqX,SAAUN,eAAgB/W,EAAM+W,uBAjD1D,EA6DuBS,CAAO,SAEhC,OAAQ,MCpKShJ,G,YACnB,aAAe,IAAD,8BACZ,+CACK5P,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAKG,QAAU,EAAKA,QAAQH,KAAb,gBACf,EAAKoQ,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAKwb,WAAa,EAAKA,WAAWxb,KAAhB,gBAClB,EAAK4X,cAAgB,EAAKA,cAAc5X,KAAnB,gBACrB,EAAK6W,WAAa,EAAKA,WAAW7W,KAAhB,gBAClB,EAAKsW,cAAgB,EAAKA,cAActW,KAAnB,gBACrB,EAAKiY,aAAe,EAAKA,aAAajY,KAAlB,gBACpB,EAAK8X,UAAY,EAAKA,UAAU9X,KAAf,gBACjB,EAAKyb,cAAgB,EAAKA,cAAczb,KAAnB,gBACrB,EAAK+a,cAAgB,EAAKA,cAAc/a,KAAnB,gBACrB,EAAKya,SAAW,EAAKA,SAASza,KAAd,gBAChB,EAAKyW,WAAa,EAAKA,WAAWzW,KAAhB,gBAClB,EAAKka,qBAAuB,EAAKA,qBAAqBla,KAA1B,gBAC5B,EAAKuX,SAAW,EAAKA,SAASvX,KAAd,gBAChB,EAAKma,eAAiB,EAAKA,eAAena,KAApB,gBACtB,EAAKwZ,YAAc,EAAKA,YAAYxZ,KAAjB,gBACnB,EAAKgZ,aAAe,EAAKA,aAAahZ,KAAlB,gBACpB,EAAKyY,WAAa,EAAKA,WAAWzY,KAAhB,gBAIlB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCvH,KAAM,KACN9B,GAAI,KACJiO,MAAO,KACPkC,cAAe,KACf3B,QAAS,KACTe,aAAc,GACdE,cAAc,EACdjD,QAAS,KACToL,SAAU,KACV/T,MAAO,KACPwS,MAAO,KACPjB,SAAU,GACV5B,SAAU,GACV4F,OAAQ,GACRd,eAAgB,GAChBX,QAAS,KACTuC,YAAa,KACb7U,QAAS,KACT8S,IAAK9T,IAAOC,IAAIC,UAAUC,OAAO,KA7CvB,E,kFAkDZiF,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,WAAYvM,KAAKwB,SAC/B8K,EAAWC,GAAG,mBAAoBvM,KAAKqD,e,6CAIvCiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,WAAYxM,KAAKwB,SAC3C8K,EAAWE,eAAe,mBAAoBxM,KAAKqD,e,0CAInD9C,QAAQC,IAAIR,KAAKmT,SAASxR,OAAd,QACZ+M,EAAsB,QAAS1O,KAAKmT,SAASxR,OAAd,OAAgC3B,KAAKgM,MAAMpK,S,oCAI1E,IAAI+C,EAAO2H,EAAWoD,aAClB3P,EAAQuM,EAAWsC,WACnBjK,GAAkB,SAAV5E,GACVC,KAAK6O,SAAS,CACZlK,KAAMA,EACN9B,GAAI8B,EAAK9B,GACTmQ,cAAerO,EAAKmM,MACpBpK,MAAO/B,EAAK+B,MACZwB,QAASvD,EAAKuD,QACduS,SAAU9V,EAAKqY,aACff,OAAQtX,EAAKsY,YACbzC,QAAS,KACTuC,YAAa,OAGjBxc,QAAQC,IAAI,UACZD,QAAQC,IAAImE,EAAM5E,GAClBC,KAAKwN,GAAG,YAAYxN,KAAKgM,MAAMgP,KAAKkC,IAAI,M,iCAI9B,IAAD,OACTld,KAAK6O,SAAS,CAAEnN,KAAM1B,KAAKgM,MAAMtK,KAAO,IAAK,WAC3CgN,EAAsB,QAAS,EAAKyE,SAASxR,OAAd,OAAgC,EAAKqK,MAAMpK,MAAO,EAAKoK,MAAMtK,W,gCAK9F,IAAI9B,EAAO0M,EAAW9K,UAClBzB,EAAQuM,EAAWsC,WACnBhP,GAAkB,SAAVG,GACVC,KAAK6O,SAAS,CACZiC,MAAOlR,IAGPA,GAAkB,YAAVG,GACVC,KAAK6O,SAAS,CACZoJ,SAAUrY,IAGVA,GAAkB,WAAVG,GACVC,KAAK6O,SAAS,CACZwH,SAAUzW,IAGVA,GAAkB,WAAVG,GACVC,KAAK6O,SAAS,CACZ3G,QAAStI,IAGTA,GAAkB,SAAVG,GACVC,KAAK6O,SAAS,CACZnI,MAAO9G,M,+BAMXI,KAAKwN,GAAG,QAAQ4F,OAChBpT,KAAKwN,GAAG,eAAepH,KAAK7B,EAAK8O,YAEjC3E,EAAsB,oBADX,CAAEyO,QAASnd,KAAKgM,MAAMnJ,GAAIwO,QAASrR,KAAKgM,MAAMqF,SACRrR,KAAKgM,MAAMpK,S,oCAGhD6R,GAAM,IAAD,OACjBzT,KAAK6O,SAAS,CAAEoJ,SAAU,KAC1BjY,KAAK6O,SAAS4E,GAAK,WACjB/E,EAAkB,kBAAmB,EAAK1C,MAAMtK,KAAM,CAAE0b,EAAG,EAAKpR,MAAMkN,a,mCAI7DzF,GAAM,IAAD,OAChBzT,KAAK6O,SAAS,CAAEwH,SAAU,KAC1BrW,KAAK6O,SAAS4E,GAAK,WACjB/E,EAAkB,kBAAmB,EAAK1C,MAAMtK,KAAM,CAAE0b,EAAG,EAAKpR,MAAMkN,a,iCAI/DmE,GAET3O,EAAsB,qBADX,CAAE7L,GAAI7C,KAAKgM,MAAMnJ,GAAIya,WAAYD,GACMrd,KAAKgM,MAAMpK,S,gCAGrD2b,GAER7O,EAAsB,eADX,CAAE7L,GAAI7C,KAAKgM,MAAMnJ,GAAIuT,UAAWmH,GACCvd,KAAKgM,MAAMpK,S,oCAG3Cyb,GAEZ3O,EAAyB,qBADd,CAAE7L,GAAI7C,KAAKgM,MAAMnJ,GAAIya,WAAYD,GACSrd,KAAKgM,MAAMpK,S,iCAGvD0b,EAAYxK,GAErBpE,EAAsB,oBADX,CAAE7L,GAAI7C,KAAKgM,MAAMnJ,GAAIya,WAAYA,EAAYxK,KAAMA,GACb9S,KAAKgM,MAAMpK,S,sCAK5D8M,EAAsB,WADX,CAAE8O,iBAAkB,OAAQC,eAAgBzd,KAAKgM,MAAMnJ,GAAIuX,QAASpa,KAAKgM,MAAMmP,eAAgBuC,SAAU1d,KAAKgM,MAAMwO,SACvFxa,KAAKgM,MAAMpK,S,2CAIhCiB,GACnB,IAAM4J,EAAOzM,KACDyM,EAAKE,IACbgR,OAAO5H,QAAQxR,EAAKqZ,aAAcrZ,EAAKsZ,OAAO,kBAAMpR,EAAKqQ,cAAcja,Q,oCAG/DA,GAEZ6L,EAAyB,WADd,CAAE7L,GAAIA,GAC0B7C,KAAKgM,MAAMpK,MAAO5B,KAAKgM,MAAMtK,Q,mCAG7D0b,GACX1O,EAAkB,iBAAkB1O,KAAKgM,MAAMtK,KAAM,CAAEyb,QAASnd,KAAKgM,MAAMnJ,GAAIua,EAAGA,GAAKpd,KAAKgM,MAAMpK,S,iCAGzFwb,GACT1O,EAAkB,eAAgB1O,KAAKgM,MAAMtK,KAAM,CAAEyb,QAASnd,KAAKgM,MAAMnJ,GAAIua,EAAGA,GAAKpd,KAAKgM,MAAMpK,S,wCAIhF6R,GAChBzT,KAAK6O,SAAS4E,K,4BAId,GAAIzT,KAAKgM,MAAMrH,KACb,OACE,kBAAC,IAAD,CAAK8C,KAAM,UAAYzH,KAAKgM,MAAMrH,KAAK9B,GAAK,QAAS+C,OAAO,aAAa2I,SAAS,cAAc5G,KAAK,QAAQqD,MAAM,QACjH,kBAAC,IAAD,CAAM6G,IAAI,UAAUC,OAAO,UAAUC,GAAG,kBACxC,kBAAC,IAAD,CAAMF,IAAI,WAAWC,OAAO,WAAWC,GAAG,sB,iCAQvCV,GACT3C,EAAyB,oBAAqB,CAAE2C,QAASA,EAAS8L,QAASnd,KAAKgM,MAAMnJ,IAAM7C,KAAKgM,MAAMpK,S,+BAGhG8D,EAAG7C,GACV,IAAI1C,EAAO,CAAE0C,GAAI7C,KAAKgM,MAAMnJ,GAAIib,SAAUjb,GACtC6C,EAAEE,OAAO0O,QACX5F,EAAsB,2BAA4BvO,EAAMH,KAAKgM,MAAMpK,OAEnE8M,EAAyB,2BAA4BvO,EAAMH,KAAKgM,MAAMpK,S,qCAI3DiB,GACb7C,KAAK6O,SAAS,CAAE2L,QAAS3X,IACzB7C,KAAKwN,GAAG,YAAYxN,KAAKgM,MAAMgP,KAAK+C,U,oCAIpC/d,KAAK6O,SAAS,CAAE2L,QAAS,S,6BAKvB,OAAQ,kBAAC,IAAD,CAAM/S,KAAM,WAAY,IAAIlD,EAAKqP,Q,+BAGnC,IAAD,EAIuC5T,KAAKgM,MAFjDrH,EAFK,EAELA,KAAMmM,EAFD,EAECA,MAAOkC,EAFR,EAEQA,cAAe3D,EAFvB,EAEuBA,QAC5B4I,EAHK,EAGLA,SAAU5B,EAHL,EAGKA,SAAU3P,EAHf,EAGeA,MAAOyU,EAHtB,EAGsBA,eAC3BV,EAJK,EAILA,SAAUwB,EAJL,EAIKA,OAAQzB,EAJb,EAIaA,QAASQ,EAJtB,EAIsBA,IAAK9S,EAJ3B,EAI2BA,QAClC,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQvC,MAAOpB,EAAKY,OACnBnF,KAAK4T,OACJ,kBAAC,IAAD,CAAMtI,UAAU,SACd,kBAAC,IAAD,CAAMC,GAAG,WAGb,kBAAC,GAAD,CACE5G,KAAMA,EAAMmM,MAAOA,EAAOzB,QAASA,EAAS4I,SAAUA,EAAU5B,SAAUA,EAC1EsB,cAAe3X,KAAK2X,cAAeO,WAAYlY,KAAKkY,WACpDe,cAAejZ,KAAKiZ,cAAetG,cAAe3S,KAAK2S,cACvDK,cAAeA,EAAeP,WAAYzS,KAAKyS,WAC/CoK,WAAY7c,KAAK6c,WAAYpL,OAAQzR,KAAKyR,OAAQL,aAAcpR,KAAKkT,kBACrEoG,aAActZ,KAAKsZ,aAAcH,UAAWnZ,KAAKmZ,UAAWzS,MAAOA,EACnE0V,cAAepc,KAAKoc,cAAeb,qBAAsBvb,KAAKub,qBAC9DJ,eAAgBA,EAAgBV,SAAUA,EAAUqB,SAAU9b,KAAK8b,SACnEhE,WAAY9X,KAAK8X,WAAYmE,OAAQA,EAAQrD,SAAU5Y,KAAK4Y,SAC5D4C,eAAgBxb,KAAKwb,eAAgBhB,QAASA,EAASK,YAAa7a,KAAK6a,YACzEG,IAAKA,EAAKX,aAAcra,KAAKqa,aAAcnS,QAASA,EAAS4R,WAAY9Z,KAAK8Z,kB,GAtQpD7K,aCoCrB+O,GA3CG,SAACvZ,GAiBjB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQkB,MAAOpB,EAAKY,OAClB,kBAAC,IAAD,CAAMmG,UAAU,SACd,kBAAC,IAAD,CAAMC,GAAG,WAGb,kBAAC,IAAD,KAAahH,EAAK3E,MAvBtB,SAAagQ,GACX,GAAInL,EAAM4K,QAAS,CACjB,IAAIzK,EAAS,GACbH,EAAM4K,QAAQrN,KAAI,SAAC8N,GACbA,EAAGnK,QAAUiK,GAAKE,EAAGjK,OACvBjB,EAAOvE,KACL,kBAAC,IAAD,CAAKoH,KAAK,aAAa7B,OAAO,aAAa2I,SAAS,cAAc5G,KAAK,QAAQqD,MAAM,cACnF,kBAAC,IAAD,CAAM6G,IAAI,SAASC,OAAO,SAASC,GAAG,iBACtC,kBAAC,IAAD,CAAMF,IAAI,WAAWC,OAAO,WAAWC,GAAG,wBAMpD,OAAOnN,EAUNiP,CAAI,eACH,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAK/L,MAAM,MAAM0D,YAAY,MAC3B,kBAAC,IAAD,KACE,kBAAC,EAAD,CAAUrG,MAAOV,EAAMU,MAAOE,OAAQd,EAAKkH,WAAYnG,WAAYb,EAAMa,eAG7E,kBAAC,IAAD,CAAKwC,MAAM,MAAM0D,YAAY,MAC3B,kBAAC,IAAD,KACE,kBAAC,EAAD,CAAU9E,MAAOjC,EAAMiC,MAAOrB,OAAQd,EAAKoH,kBAAmBrG,WAAYb,EAAMa,kBC/BvE2N,G,YACnB,aAAe,IAAD,8BACZ,+CACKzR,QAAU,EAAKA,QAAQH,KAAb,gBACf,EAAKiE,WAAa,EAAKA,WAAWjE,KAAhB,gBAElB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnC/G,MAAO,KACPuB,MAAO,KACP2I,QAAS,MATC,E,kFAaZ/C,EAAWC,GAAG,WAAYvM,KAAKwB,W,6CAI/B8K,EAAWE,eAAe,WAAYxM,KAAKwB,W,0CAI3CxB,KAAK8L,a,iCAGI7L,GACTyO,EAAkB,QAAS1O,KAAKgM,MAAMtK,KAAM,CAACsN,MAAO/O,EAAE0F,OAAQ3F,KAAKgM,MAAMpK,S,iCAIlDsM,IAAWpO,SAC/BqO,MAAMC,KAAK,CAAEhI,KAAM7B,EAAK8J,UAAWC,aAAc,IAAMC,SAAU,QACpEG,EAAkB,QAAS1O,KAAKgM,MAAMtK,KAAM,GAAI1B,KAAKgM,MAAMpK,OAC3D8M,EAAkB,QAAS1O,KAAKgM,MAAMtK,KAAM,GAAI1B,KAAKgM,MAAMpK,S,gCAI3D,IAAIhC,EAAO0M,EAAW9K,UAClBzB,EAAQuM,EAAWsC,WACnBhP,GAAkB,SAAVG,GACVC,KAAK6O,SAAS,CACZ1J,MAAOvF,EACPyP,QAASzP,EAAK,GAAGyP,UAGjBzP,GAAkB,SAAVG,GACVC,KAAK6O,SAAS,CACZnI,MAAO9G,M,+BAKH,IAAD,EACyBI,KAAKgM,MAA9B7G,EADA,EACAA,MAAOuB,EADP,EACOA,MAAO2I,EADd,EACcA,QACrB,OAAO,kBAAC,GAAD,CAAWlK,MAAOA,EAAOkK,QAASA,EAAS3I,MAAOA,EAAOpB,WAAYtF,KAAKsF,iB,GAtDjD2O,IAAMhF,WCgH3BgP,GAnHE,SAACxZ,GAChB,GAAIA,EAAMyZ,SACR,IAAIC,GAAe,OAEfA,GAAe,EAqDrB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KAAa5Z,EAAKI,MAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEyE,MAAO7E,EAAKoB,MACZjF,KAAK,OACLwR,YAAa3N,EAAK6Z,yBAClB/L,aAAc5N,EAAME,KAAKgB,MACzB0Y,UAAU,EACVlM,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAEzL,MAAOD,EAAEE,OAAOC,WAIzC,kBAAC,IAAD,CACEuD,MAAO7E,EAAK8B,QACZ3F,KAAK,WACLwR,YAAa3N,EAAK+Z,8BAClBzY,MAAOpB,EAAM4B,QACb8L,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAE/K,QAASX,EAAEE,OAAOC,WAI3C,kBAAC,IAAD,CAAUwO,OAAK,EAACxO,OAAO,EAAOyO,SAAU6J,EAAc3Y,KAAK,eAAeG,MAAOpB,EAAKoY,QACpFlX,SAAU,SAACC,GACTnF,QAAQC,IAAIkF,GACZjB,EAAM2M,aAAa,CAAE8M,SAAU1J,KAAKC,MAAM/O,EAAEE,OAAOC,YAGvD,kBAAC,IAAD,CAAUwO,OAAK,EAACxO,OAAO,EAAMyO,QAAS6J,EAAc3Y,KAAK,eAAeG,MAAOpB,EAAKmY,OAClFjX,SAAU,SAACC,GACTnF,QAAQC,IAAIkF,GACZjB,EAAM2M,aAAa,CAAE8M,SAAU1J,KAAKC,MAAM/O,EAAEE,OAAOC,YAKvD,kBAAC,IAAD,CAAUF,MA1FhB,WACE,GAAIlB,EAAM8Q,KAAM,CACd,IAAIgJ,EAAQ,CACV,6BACE,uBAAGzZ,UAAU,SAAS2C,KAAK,IAAI5E,GAAG,gCAChC,yBAAKiC,UAAU,oBACb,uBAAGA,UAAU,+BACZP,EAAKgR,KAFR,QASN,OAHA9Q,EAAM8Q,KAAKvT,KAAI,SAACuP,GAAD,OACbgN,EAAMle,KAAK,kBAAC,IAAD,CAAM+F,KAAMmL,EAAI5L,MAAOiV,YAAU,EAACpK,QAAS,kBAAM/L,EAAM+Z,UAAUjN,EAAI1O,WAE3E0b,GA4EYhJ,MA9DvB,WACE,GAAI9Q,EAAMmQ,QACR,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAU6J,UAAQ,EAAC5Y,MAAOpB,EAAM4X,SAAU/H,QAAS7P,EAAM4X,SAAU1W,MAAOpB,EAAK8X,SAC7E5W,SAAU,SAACC,GACTjB,EAAM2M,aAAa,CAAEiL,UAAW7H,KAAKC,MAAM/O,EAAEE,OAAOC,YAGxD,kBAAC,IAAD,CACEuD,MAAO7E,EAAK+X,aACZ5b,KAAK,WACLwR,YAAa3N,EAAKma,mBAClB7Y,MAAOpB,EAAMka,YACbxM,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAEuN,YAAajZ,EAAEE,OAAOC,YAmDlD+Y,GAED,kBAAC,IAAD,CAAOtN,QAAM,GACX,kBAAC,IAAD,CAAKC,IAAI,KA/Ef,WACE,GAAI9M,EAAMmQ,QACR,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQ9P,UAAU,eAAe+T,SAAO,EAAC7N,MAAM,MAAM2J,UAAWlQ,EAAMmQ,QAASpE,QAAS,kBAAM/L,EAAMoa,sBAAsBta,EAAKua,SA4E9HC,GACD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAMja,UAAU,eAChB,kBAAC,IAAD,CAAQA,UAAU,UAAU0M,MAAI,EAAChB,QAAS/L,EAAMgN,QAASlN,EAAKkN,aCrGrDuN,G,YACnB,aAAe,IAAD,8BACZ,+CACKvN,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAK4d,SAAW,EAAKA,SAAS5d,KAAd,gBAChB,EAAK+J,YAAc,EAAKA,YAAY/J,KAAjB,gBACnB,EAAKmd,UAAY,EAAKA,UAAUnd,KAAf,gBAEjB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCvH,KAAM,GACNgB,MAAO,KACPU,QAAS,KACT6Y,SAAU,IAAIhS,KACdiS,MAAO,IAAIjS,KACXkS,UAAW,OACXC,aAAc,OACdC,aAAa,EACb/J,KAAM,GACN2I,UAAU,GApBA,E,kFA0BZ5R,EAAWC,GAAG,eAAgBvM,KAAKuD,e,6CAInC+I,EAAWE,eAAe,eAAgBxM,KAAKuD,e,iCAI/C,IAAMkJ,EAAOzM,KACP0M,EAAMD,EAAKE,IAEjBD,EAAI6S,aAAavS,OAAO,CACtBiK,OAAQ,QACRuI,SAAU,gCACV7Q,UAAU,EACV8Q,cAAe,KACfC,aAAc,QACdC,qBAAsBpb,EAAKqV,OAC3BgG,mBAAoBrb,EAAKsb,MACzBC,aAAcvb,EAAKwb,UACnBC,MAAO,GACPC,qBAAsB1b,EAAKuU,OAC3BoH,WAAW,EACXC,OAAQ,SAAUjH,EAAOkH,GACvB,IAAIb,EAAevf,KACfqgB,EAAU,GACO,IAAjBnH,EAAM9Y,QAKVmf,EAAae,gBAEb5T,EAAI6T,QAAQ,CACVxd,IAAKzB,EAAKC,OAAS,eACnBif,OAAQ,MACRC,SAAU,OAEVtgB,KAAM,CACJid,EAAGlE,GAELwH,QAAS,SAAU1Y,GAEjB,IAAK,IAAI/H,EAAI,EAAGA,EAAI+H,EAAK7H,KAAKC,OAAQH,IAChC+H,EAAK7H,KAAKF,GAAG0F,MAAMgb,QAAQzH,IAAU,GAAGmH,EAAQhgB,KAAK2H,EAAK7H,KAAKF,IAGrEsf,EAAaqB,gBAEbR,EAAOC,OAtBTD,EAAOC,IA0BX9T,GAAI,CACFsU,OAAQ,SAAUhb,GACZA,GAASA,EAAMA,EAAMzF,OAAS,IAChCqM,EAAKoC,SAAS,CAAE0G,KAAM9I,EAAKT,MAAMuJ,KAAKuL,OAAO,CAAEnb,MAAOE,EAAMA,EAAMzF,OAAS,GAAGuF,MAAO9C,GAAIgD,EAAMA,EAAMzF,OAAS,GAAGyC,a,oCAQzH7C,KAAKif,a,+BAILjf,KAAKwN,GAAG,QAAQ4F,OAChBpT,KAAKwN,GAAG,eAAepH,KAAK7B,EAAK8O,YACjC,IAAIlT,EAAO,CACTwF,MAAO3F,KAAKgM,MAAMrG,MAAO+W,OAAQ1c,KAAKgM,MAAMkS,SAC5C7X,QAASrG,KAAKgM,MAAM3F,QAASkP,KAAMvV,KAAKgM,MAAMuJ,MAEhD,GAAIvV,KAAKgM,MAAMrG,OAAS3F,KAAKgM,MAAMrG,MAAMvF,OAAS,EAChDsO,EAAsB,QAASvO,EAAMH,KAAKgM,MAAMpK,WAC3C,CACQ5B,KACR2M,IAAIgR,OAAOE,MAAMtZ,EAAKwc,gBAAiBxc,EAAKsZ,U,gCAK3Chb,GACR7C,KAAK6O,SAAS,CACZ0G,KAAMvV,KAAKgM,MAAMuJ,KAAKyL,QAAO,SAAUzP,GACrC,OAAOA,EAAI1O,KAAOA,S,wCAMN4Q,GAChBzT,KAAK6O,SAAS4E,K,oCAIdzT,KAAKwN,GAAG,QAAQY,OAChBpO,KAAK+U,UAAUC,SAAS,a,+BAKhB,IAAD,EAC0BhV,KAAKgM,MAA9BrH,EADD,EACCA,KAAM4Q,EADP,EACOA,KAAM2I,EADb,EACaA,SACpB,OACE,kBAAC,IAAD,CAAM/S,cAAenL,KAAKoL,YAAY/J,KAAKrB,MAAO2T,SAAUpP,EAAKqP,KAAMqN,eAAe,GACpF,kBAAC,IAAD,CAAQtb,MAAOpB,EAAK2c,UAAWvN,SAAUpP,EAAKqP,OAC9C,kBAAC,IAAD,KAAarP,EAAK2c,WAClB,kBAAC,GAAD,CACEvc,KAAMA,EAAM6Z,UAAWxe,KAAKwe,UAAWjJ,KAAMA,EAAM2I,SAAUA,EAC7DzM,OAAQzR,KAAKyR,OAAQmD,SAAS,EAAOxD,aAAcpR,KAAKkT,yB,GA1I1BjE,aCUnBiG,G,YACnB,aAAe,IAAD,gCACZ,+CACKzD,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAKgC,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAK+J,YAAc,EAAKA,YAAY/J,KAAjB,gBACnB,EAAK4d,SAAW,EAAKA,SAAS5d,KAAd,gBAChB,EAAKmd,UAAY,EAAKA,UAAUnd,KAAf,gBACjB,EAAKwd,kBAAoB,EAAKA,kBAAkBxd,KAAvB,gBACzB,EAAK8f,WAAa,EAAKA,WAAW9f,KAAhB,gBAClB,EAAK+f,eAAiB,EAAKA,eAAe/f,KAApB,gBAGtB,EAAK2K,OAAL,GACEpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCvH,KAAM,GACN9B,GAAI,KACJ8C,MAAO,KACPU,QAAS,KACTiZ,aAAa,GANf,wBAOW,MAPX,qBAQQ,IARR,0BASY,GATZ,8BAUgB,GAVhB,0BAWY,GAXZ,4BAYe,MAZf,GAdY,E,kFA+BZhT,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,eAAgBvM,KAAKuD,aACnC+I,EAAWC,GAAG,mBAAoBvM,KAAKohB,kB,6CAIvC9U,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,eAAgBxM,KAAKuD,aAC/C+I,EAAWE,eAAe,mBAAoBxM,KAAKohB,kB,oCAKnDphB,KAAKif,a,iCAIL,IAAMxS,EAAOzM,KACP0M,EAAMD,EAAKE,IAEjBD,EAAI6S,aAAavS,OAAO,CACtBiK,OAAQ,QACRuI,SAAU,gCACV7Q,UAAU,EACV8Q,cAAe,KACfC,aAAc,QACdM,MAAO,GACPC,qBAAsB1b,EAAKuU,OAC3B6G,qBAAsBpb,EAAKqV,OAC3BgG,mBAAoBrb,EAAKsb,MACzBC,aAAcvb,EAAKwb,UACnBG,WAAW,EACXC,OAAQ,SAAUjH,EAAOkH,GACvB,IAAIb,EAAevf,KACfqgB,EAAU,GACO,IAAjBnH,EAAM9Y,QAKVmf,EAAae,gBAEb5T,EAAI6T,QAAQ,CACVxd,IAAKzB,EAAKC,OAAS,eACnBif,OAAQ,MACRC,SAAU,OAEVtgB,KAAM,CACJid,EAAGlE,GAELwH,QAAS,SAAU1Y,GAEjB,IAAK,IAAI/H,EAAI,EAAGA,EAAI+H,EAAK7H,KAAKC,OAAQH,IAChC+H,EAAK7H,KAAKF,GAAG0F,MAAMgb,QAAQzH,IAAU,GAAGmH,EAAQhgB,KAAK2H,EAAK7H,KAAKF,IAGrEsf,EAAaqB,gBAEbR,EAAOC,OAtBTD,EAAOC,IA0BX9T,GAAI,CACFsU,OAAQ,SAAUhb,GACZA,GAASA,EAAMA,EAAMzF,OAAS,IAChCqM,EAAKoC,SAAS,CAAE0G,KAAM9I,EAAKT,MAAMuJ,KAAKuL,OAAO,CAAEnb,MAAOE,EAAMA,EAAMzF,OAAS,GAAGuF,MAAO9C,GAAIgD,EAAMA,EAAMzF,OAAS,GAAGyC,a,+BAUzH7C,KAAKwN,GAAG,QAAQ4F,OAChBpT,KAAKwN,GAAG,eAAepH,KAAK7B,EAAK8O,YACjC,IAAIlT,EAAO,CACT0C,GAAI7C,KAAKgM,MAAMnJ,GAAI8C,MAAO3F,KAAKgM,MAAMrG,MAAO+W,OAAQ1c,KAAKgM,MAAMkS,SAC/D7X,QAASrG,KAAKgM,MAAM3F,QAASkP,KAAMvV,KAAKgM,MAAMuJ,KAAM+G,aAActc,KAAKgM,MAAM2S,YAC7EtC,SAAUrc,KAAKgM,MAAMqQ,UAEvB,GAAIrc,KAAKgM,MAAMrG,OAAS3F,KAAKgM,MAAMrG,MAAMvF,OAAS,EAChDsO,EAAyB,QAASvO,EAAMH,KAAKgM,MAAMpK,WAC9C,CACQ5B,KACR2M,IAAIgR,OAAOE,MAAMtZ,EAAKwc,gBAAiBxc,EAAKsZ,U,0CAMnD7d,KAAK8L,a,iCAIkBoC,IAAWpO,SAC/BqO,MAAMC,KAAK,CAAEhI,KAAM7B,EAAK8J,UAAWC,aAAc,IAAMC,SAAU,QAChEvO,KAAKmT,SAASxR,OAAd,QACF+M,EAAsB,QAAS1O,KAAKmT,SAASxR,OAAd,OAAgC3B,KAAKgM,MAAMpK,S,oCAK/D,IAAD,OACR+C,EAAO2H,EAAWoD,aAClB3P,EAAQuM,EAAWsC,WACnBjK,GAAkB,SAAV5E,GACVC,KAAK6O,SAAS,CACZlJ,MAAOhB,EAAKgB,MACZU,QAAS1B,EAAK0B,QACdxD,GAAI8B,EAAK9B,GACT8B,KAAMA,EACN0c,YAAa1c,EAAK2c,aAClB/L,KAAM5Q,EAAK6X,SACX0B,SAAUvZ,EAAK8X,UACfJ,SAAU1X,EAAK0X,SACfsC,YAAaha,EAAK2X,eACjB,kBAAM,EAAK2C,gB,gCAKRpc,GACR7C,KAAK6O,SAAS,CACZ0G,KAAMvV,KAAKgM,MAAMuJ,KAAKyL,QAAO,SAAUzP,GACrC,OAAOA,EAAI1O,KAAOA,S,wCAKN4Q,GAChBlT,QAAQC,IAAIiT,GACZzT,KAAK6O,SAAS4E,K,0CAIDzT,KACI2M,IACbgR,OAAO5H,QAAQxR,EAAKqZ,aAAcrZ,EAAKsZ,MAF9B7d,KAE0CmhB,c,mCAKvDzS,EAAyB,QADd,CAAE7L,GAAI7C,KAAKgM,MAAMnJ,IACY7C,KAAKgM,MAAMpK,S,uCAKnD5B,KAAK+U,UAAUC,SAAS,a,oCAKxB,IAAIrQ,EAAO2H,EAAWoD,aAClB3P,EAAQuM,EAAWsC,WACnBjK,GAAkB,SAAV5E,IACVC,KAAKwN,GAAG,QAAQY,OAChBpO,KAAK+U,UAAUC,SAAS,UAAYrQ,EAAK9B,O,+BAKnC,IAAD,EAC4F7C,KAAKgM,MAAhGrH,EADD,EACCA,KAAM0c,EADP,EACOA,YAAa1b,EADpB,EACoBA,MAAOU,EAD3B,EAC2BA,QAAS6X,EADpC,EACoCA,SAAU3I,EAD9C,EAC8CA,KAAMgM,EADpD,EACoDA,aAAclF,EADlE,EACkEA,SAAUsC,EAD5E,EAC4EA,YACnF,OACE,kBAAC,IAAD,CAAMxT,cAAenL,KAAKoL,YAAY/J,KAAKrB,MAAO2T,SAAUpP,EAAKqP,KAAMqN,eAAe,GACpF,kBAAC,IAAD,CAAQtb,MAAOpB,EAAK2c,UAAWvN,SAAUpP,EAAKqP,OAC9C,kBAAC,IAAD,KAAarP,EAAK2c,WAClB,kBAAC,GAAD,CACEvc,KAAMA,EAAMgB,MAAOA,EAAOuY,SAAUA,EACpC3I,KAAMA,EAAMiJ,UAAWxe,KAAKwe,UAAW+C,aAAcA,EACrDlb,QAASA,EAASgb,YAAaA,EAAa5P,OAAQzR,KAAKyR,OACzDmD,SAAS,EAAMxD,aAAcpR,KAAKkT,kBAClC2L,kBAAmB7e,KAAK6e,kBACxBxC,SAAUA,EAAUsC,YAAaA,S,GA/MC1P,aCiD7BuS,GA9DS,SAAC/c,GAEvB,GAAIA,EAAM8S,aAAc,CAAC,IAmBdC,EAAT,SAAgB1E,EAAM2E,GACpB,IAAI1R,GAAW,EAIf,OAHI0R,EAAY3E,MAAQA,IACtB/M,GAAW,GAEL,4BAAQF,MAAOiN,EAAM/M,SAAUA,GAAWxB,EAAKuO,KAEhD4E,EAAT,SAAiBD,GACf,GAAIhT,EAAMkT,cACR,OACE,yBAAK7S,UAAU,UA5BrB,SAAoB2S,GAClB,GAAyB,YAArBA,EAAY3E,MAAsBrO,EAAM4Q,SAC1C,OAAO,kBAAC,IAAD,CAAMvQ,UAAU,OAAO0L,QAAS,kBAAM/L,EAAMkT,cAAcF,EAAYjQ,QAAQ3E,MAAM0B,EAAKqT,QA2B1FC,CAAWJ,GACb,uBAAG3S,UAAU,wCAAwCS,eAAa,WAxB1E,SAAgBkS,GACd,GAAyB,YAArBA,EAAY3E,MAAsBrO,EAAM4Q,SAC1C,OACE,4BAAQ7P,KAAK,OAAOC,SAAU,SAACC,GAAQjB,EAAMqT,WAAWL,EAAYjQ,QAAQ3E,GAAI6C,EAAEE,OAAOC,SACtF2R,EAAO,QAASC,GAChBD,EAAO,YAAaC,GACpBD,EAAO,YAAaC,GACpBD,EAAO,WAAYC,IAkBjBM,CAAON,GACR,yBAAK3S,UAAU,gBACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,cAAcP,EAAKuO,MAClC,yBAAKhO,UAAU,mBAAmBP,EAAKkT,EAAY3E,YAQjE,OACE,kBAAC,IAAD,CAAMhO,UAAU,SACbL,EAAM8S,aAAavV,KAAI,SAACyV,GAAD,OACtB,kBAAC,IAAD,CACExV,IAAK,cAAgBwV,EAAYjQ,QAAQ3E,GACzC8C,MAAO8R,EAAYjQ,QAAQE,SAC3BpB,MAAOoR,EAAQD,IACf,yBAAK9P,KAAK,QAAQC,IAAK6P,EAAYjQ,QAAQK,OAAQC,MAAM,KAAKC,OAAO,YAM7E,OAAQ,8BCRGqQ,GAjDK,SAAC3T,GA2BjB,OAAIA,EAAMgC,KAEF,kBAAC,IAAD,KACI,kBAAC,IAAD,KACKlC,EAAK8T,WAEV,kBAAC,IAAD,CAAavT,UAAU,SACnB,kBAAC,IAAD,KACI,kBAAC,GAAD,CACIyS,aAAc9S,EAAMgC,KAAK6R,iBAAkBX,cAAelT,EAAMkT,cAChEG,WAAYrT,EAAMqT,WAAYzC,SAAU5Q,EAAM4Q,aAG1D,kBAAC,IAAD,KAvCZ,WACI,GAAI5Q,EAAM4Q,SACN,OACI,kBAAC,IAAD,CAAMkD,eAAa,EAACzT,UAAU,SAC9B,kBAAC,IAAD,CAAU0T,eAAa,EAAC1T,UAAU,QAAQa,MAAO,KAAOpB,EAAK4T,KACzD,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CACIU,SAAO,EACPzP,MAAO7E,EAAKuU,OACZC,eAAa,EACbrY,KAAK,OACLwR,YAAY,GACZ8G,aAAW,EACX7G,QAAS,SAACzM,GACNjB,EAAMwU,cAAc,CAAEC,MAAOxT,EAAEE,OAAOC,YAIlD,kBAAC,GAAD,CAAYoS,SAAUxT,EAAMwT,SAAUC,WAAYzT,EAAMyT,gBAqB3D7C,KAKL,8BCQD+D,GAvDE,SAAC3U,GAuCd,OAAIA,EAAMgC,KAGF,kBAAC,IAAD,CAAM8R,eAAa,EAACzT,UAAU,SAC1B,kBAAC,IAAD,CAAU0T,eAAa,EAAC1T,UAAU,QAC9B7C,IAAK,SAAWwC,EAAMgC,KAAK5D,GAC3B8C,OA5CFkF,EA4CcpG,EAAMgC,KAAKoE,OA3C/BA,EAEI,6BACI,yBAAK/F,UAAU,QACX,yBAAKA,UAAU,aAAaiG,MAAO,CAAEzB,gBAAiBuB,EAAOG,QACzD,uBAAGlG,UAAU,2BAAb,eACA,uBAAGA,UAAU,iCAEjB,yBAAKA,UAAU,cAAc+F,EAAOlF,SAKxC,6BAAMpB,EAAK8U,cAG3B,WACI,GAAI5U,EAAM4Q,SACN,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CACIwD,SAAO,EACPzP,MAAO7E,EAAKuU,OACZC,eAAa,EACbrY,KAAK,OACLwR,YAAY,GACZ8G,aAAW,EACX7G,QAAS,SAACzM,GACNjB,EAAM6U,aAAa,CAAEJ,MAAOxT,EAAEE,OAAOC,YAIjD,kBAAC,GAAD,CAAYwQ,SAAU5R,EAAM4R,SAAU8C,UAAW1U,EAAM0U,aAYtD9D,KAKL,6BAnDZ,IAAcxK,GC8CHkP,GAhDC,SAACtV,GACb,GAAIA,EAAMgC,KAAM,CAAC,IACJuT,EAAT,SAAkBC,GACd,IAAI5P,EAAO,IAAI6C,KAAK,IAAIlE,OAAOC,MAAMgR,IACrC,OAAO,kBAAC,IAAD,CAAQ5P,KAAMA,EAAM6P,SAAO,KAOtC,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KACK3V,EAAK2D,QARlB,WACI,GAAIzD,EAAM4Q,SACN,OAAS,kBAAC,IAAD,CAAM5N,KAAM,sBAAwBhD,EAAMgC,KAAK5D,IAAI,uBAAGiC,UAAU,oBAAhE,IAAwFP,EAAKmV,KAOjGrE,IAEL,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAMlP,WAAS,GACV1B,EAAMyD,QAAQlG,KAAI,SAACoG,GAAD,OACf,kBAAC,IAAD,CACInG,IAAK,SAAWmG,EAAOvF,GACvBiC,UAAU,mBACVyB,KAAM,YAAc6B,EAAOvF,GAC3B8C,MAAOyC,EAAOzC,MACdW,MAAO0T,EAAS5R,EAAO+R,eACvB/T,KAAMgC,EAAOgS,eAO7B,kBAAC,IAAD,KACI,kBAAC,IAAD,CACItV,UAAU,iBACV6U,kBAAmBpV,EAAKqV,OACxB1H,YAAa3N,EAAKuU,OAClBe,QAAQ,EACRpU,SAAU,SAACC,GAAD,OAAOjB,EAAM4V,aAAa3U,EAAEE,OAAOC,YAM7D,OAAQ,8BCID4b,GAjDe,SAAChd,GAe7B,SAASid,EAAGC,GACV,OAAIA,EAAKC,MACC,0BAEA,YAGZ,OAAInd,EAAMod,MAEN,kBAAC,IAAD,CAAM/c,UAAU,UACbL,EAAMod,MAAM7f,KAAI,SAAC2f,GAAD,OAEf,wBAAI7c,UAAW4c,EAAGC,GAAO1f,IAAK,OAAS0f,EAAK9e,IAC1C,2BAAOiC,UAAU,8BACf,2BAAOpE,KAAK,WAAWmF,MAAM,GAAGyO,QAASqN,EAAKC,MAAOnc,SAAU,SAACC,GAAD,OAAOjB,EAAMqd,YAAYH,EAAK9e,GAAI6C,MACjG,uBAAGZ,UAAU,uBACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,iCAAiC6c,EAAKhc,OACrD,yBAAKb,UAAU,cACb,8BAhChB,SAAyB6c,GACvB,IAAIpD,EAAQ,GASZ,OARAoD,EAAKpK,aAAavV,KAAI,SAACyV,GAAD,OACpB8G,EAAMle,KAAK,kBAAC,IAAD,CAAM4B,IAAK,QAAe0f,EAAK9e,GAAK,IAAM4U,EAAYjQ,QAAQ3E,GAAIiC,UAAU,OAAOsB,KAAMqR,EAAYjQ,QAAQE,eAEtHjD,EAAM4Q,WACRkJ,EAAMle,KAAK,kBAAC,IAAD,CAAM4B,IAAK,WAAa0f,EAAK9e,GAAI4E,KAAM,UAAYka,EAAK9e,GAAK,SAAS,uBAAGiC,UAAU,sBAC9FyZ,EAAMle,KAAK,kBAAC,IAAD,CAAM4B,IAAK,aAAe0f,EAAK9e,GAAI2N,QAAS,kBAAM/L,EAAMsd,kBAAkBJ,EAAK9e,MAAK,uBAAGiC,UAAU,wBAGtGyZ,EAuBSyD,CAAgBL,YAWzB,8BCQGM,GAzDE,SAACxd,GACL,IACAyd,EAAT,SAA4BC,GAC1B,IAAIC,GAAO,EAOX,OANA3d,EAAM8S,aAAavV,KAAI,SAACyV,GAClBA,EAAY5U,KAAOsf,EAAgB3a,QAAQ3E,KAC7Cuf,GAAO,MAIJA,GAET,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEngB,IAAI,mBACJmH,MAAO7E,EAAKoB,MACZjF,KAAK,OACLwR,YAAa3N,EAAK6Z,yBAClB/L,aAAc5N,EAAMkB,MACpB0Y,UAAU,EACVlM,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAEzL,MAAOD,EAAEE,OAAOC,WAIzC,kBAAC,IAAD,CAAMf,UAAU,UACbL,EAAM4d,iBAAiBrgB,KAAI,SAACmgB,GAAD,OAC1B,kBAAC,IAAD,CACElgB,IAAKkgB,EAAgBtf,GACrB4b,UAAQ,EACRnK,QAAS4N,EAAmBC,GAC5B1c,SAAU,SAACC,GAAD,OAAOjB,EAAM6d,iBAAiBH,EAAgB3a,QAAQ3E,GAAI6C,IACpEC,MAAOwc,EAAgB3a,QAAQE,SAC/BpB,MAAM,SAQZ,kBAAC,IAAD,CAAOgL,QAAM,GACX,kBAAC,IAAD,CAAKC,IAAI,KACP,kBAAC,IAAD,KACA,kBAAC,IAAD,CAAMzM,UAAU,eACd,kBAAC,IAAD,CAAQA,UAAU,UAAU0M,MAAI,EAACmD,UAAWlQ,EAAMmQ,QAASpE,QAAS/L,EAAMgN,QAASlN,EAAKkN,aCVvF8Q,GA9BE,SAAC9d,GACd,GAAIA,EAAMgC,KAAM,CAMZ,OACI,kBAAC,IAAD,CAAM3B,UAAU,WACZ,kBAAC,IAAD,KACKP,EAAKie,UARlB,WACI,GAAI/d,EAAM4Q,SACN,OAAS,kBAAC,IAAD,CAAM5N,KAAM,cAAgBhD,EAAMgC,KAAK5D,IAAI,uBAAGiC,UAAU,oBAAxD,IAAgFP,EAAKmV,KAOzFrE,IAEL,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,GAAD,CACAwM,MAAOpd,EAAMod,MAAOC,YAAard,EAAMqd,YACvCC,kBAAmBtd,EAAMsd,kBAAmB1M,SAAU5Q,EAAM4Q,aAIpE,kBAAC,IAAD,OAMR,OAAQ,8BCkIDoN,GA3JE,SAAChe,GAqJhB,OAAIA,EAAMgC,MAAQhC,EAAMwX,OACd,kBAAC,IAAM7W,SAAP,KAjIV,SAAS6W,EAAOC,GACd,GAAgB,aAAZA,EAAwB,CAC1B,IAAI7G,GAAW,EAIf,OAHI5Q,EAAMwX,OAAOE,SAAS,cACxB9G,GAAW,GAGX,kBAAC,GAAD,CACE5O,KAAMhC,EAAMgC,KAAM6S,aAAc7U,EAAM6U,aAAcjE,SAAUA,EAC9DgB,SAAU5R,EAAM4R,SAAU8C,UAAW1U,EAAM0U,YAKjD,GAAgB,iBAAZ+C,EAA4B,CAC1B7G,GAAW,EAIf,OAHI5Q,EAAMwX,OAAOE,SAAS,kBACxB9G,GAAW,GAGX,kBAAC,GAAD,CACE5O,KAAMhC,EAAMgC,KAAMwS,cAAexU,EAAMwU,cACvCtB,cAAelT,EAAMkT,cAAeO,WAAYzT,EAAMyT,WACtDD,SAAUxT,EAAMwT,SAAUH,WAAYrT,EAAMqT,WAC5CzC,SAAUA,IAIhB,GAAgB,UAAZ6G,EAAqB,CACnB7G,GAAW,EAIf,OAHI5Q,EAAMwX,OAAOE,SAAS,WACxB9G,GAAW,GAGX,kBAAC,GAAD,CACA5O,KAAMhC,EAAMgC,KAAMob,MAAOpd,EAAMod,MAC/BxM,SAAUA,EAAUyM,YAAard,EAAMqd,YACvCC,kBAAmBtd,EAAMsd,oBAM7B,GAAgB,YAAZ7F,EAAuB,CACrB7G,GAAW,EAIf,OAHI5Q,EAAMwX,OAAOE,SAAS,aACxB9G,GAAW,GAEL,kBAAC,GAAD,CAAS5O,KAAMhC,EAAMgC,KAAM4O,SAAUA,EAAUnN,QAASzD,EAAMyD,QAASmS,aAAc5V,EAAM4V,eAGrG,MAAgB,aAAZ6B,GACEzX,EAAMwX,OAAOE,SAAS,YAChB,kBAAC,GAAD,CACN1a,MAAOgD,EAAMgC,KAAMgL,OAAQhN,EAAM2X,cACjChL,aAAc3M,EAAM2M,aAAcoJ,QAAS/V,EAAM+V,QACjDC,SAAUhW,EAAMgW,SAAUI,YAAapW,EAAMoW,YAC7CG,IAAKvW,EAAMuW,MAKD,SAAZkB,GACEzX,EAAMwX,OAAOE,SAAS,QAChB,kBAAC,IAAD,CAAM1U,KAAM,UAAYhD,EAAMgC,KAAK5D,GAAK,SAAS,uBAAGiC,UAAU,oBAK1D,SAAZoX,GACEzX,EAAMwX,OAAOE,SAAS,QAEtB,kBAAC,IAAM/W,SAAP,KA5FR,WACE,GAAGX,EAAMgC,KAAK4V,SACZ,OACE,kBAAC,IAAD,KACA,kBAAC,IAAD,CAAKvU,MAAM,MAAM0D,YAAY,OAC7B,kBAAC,IAAD,CAAM1G,UAAU,qBACd,kBAAC,IAAD,KACA,uBAAGC,MAAM,kCAAkCC,cAAY,SACtDT,EAAK8X,SAFN,IAEgB,6BACf5X,EAAMgC,KAAK9B,KAAK2X,iBAoFdD,GACD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKvU,MAAM,MAAM0D,YAAY,MAC3B,kBAAC,IAAD,KACE,kBAAC,IAAD,KACG/G,EAAMgC,KAAKd,MACXsW,EAAO,SAEV,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAMlJ,eAAA,GACJ,kBAAC,IAAD,CAAUjO,UAAU,QAAQa,MAAOpB,EAAKI,KAAO,KAAOF,EAAMgC,KAAK9B,KAAKgB,MAAO8B,KAAM,UAAYhD,EAAMgC,KAAK9B,KAAK9B,KAC/G,kBAAC,IAAD,CAAUiC,UAAU,QAAQa,MAAOpB,EAAKme,WAAa,KAAOje,EAAMgC,KAAKkc,eACvE,kBAAC,IAAD,CAAU7d,UAAU,QAAQa,MAAOpB,EAAK2a,SAAW,KAAOza,EAAMgC,KAAKmc,kBAErE,kBAAC,IAAD,CAAU9d,UAAU,QAAQa,MAAM,MAEpC,0BAAMb,UAAU,SAASL,EAAMgC,KAAKJ,UAGtC,kBAAC,IAAD,KACG4V,EAAO,eAKd,kBAAC,IAAD,CAAKnU,MAAM,MAAM0D,YAAY,MAC1ByQ,EAAO,kBAIZ,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKnU,MAAM,MAAM0D,YAAY,OAC1ByQ,EAAO,WAIZ,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKnU,MAAM,MAAM0D,YAAY,OAC1ByQ,EAAO,aAGXA,EAAO,YAER,kBAAC,GAAD,CACExB,SAAUhW,EAAMgW,SAAUc,qBAAsB9W,EAAM8W,qBACtDC,eAAgB/W,EAAM+W,uBAjDhC,EA4DyBS,CAAO,SAExB,MCxJShJ,G,YACnB,aAAe,IAAD,8BACZ,+CACK5P,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAKG,QAAU,EAAKA,QAAQH,KAAb,gBACf,EAAKoQ,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAKwhB,WAAa,EAAKA,WAAWxhB,KAAhB,gBAClB,EAAKoR,WAAa,EAAKA,WAAWpR,KAAhB,gBAClB,EAAKsR,cAAgB,EAAKA,cAActR,KAAnB,gBACrB,EAAK4X,cAAgB,EAAKA,cAAc5X,KAAnB,gBACrB,EAAK6W,WAAa,EAAKA,WAAW7W,KAAhB,gBAClB,EAAKsW,cAAgB,EAAKA,cAActW,KAAnB,gBACrB,EAAKiY,aAAe,EAAKA,aAAajY,KAAlB,gBACpB,EAAK8X,UAAY,EAAKA,UAAU9X,KAAf,gBACjB,EAAKyb,cAAgB,EAAKA,cAAczb,KAAnB,gBACrB,EAAKka,qBAAuB,EAAKA,qBAAqBla,KAA1B,gBAC5B,EAAK+a,cAAgB,EAAKA,cAAc/a,KAAnB,gBACrB,EAAKya,SAAW,EAAKA,SAASza,KAAd,gBAChB,EAAKyW,WAAa,EAAKA,WAAWzW,KAAhB,gBAClB,EAAKygB,YAAc,EAAKA,YAAYzgB,KAAjB,gBACnB,EAAK0gB,kBAAoB,EAAKA,kBAAkB1gB,KAAvB,gBACzB,EAAKyhB,WAAa,EAAKA,WAAWzhB,KAAhB,gBAClB,EAAKma,eAAiB,EAAKA,eAAena,KAApB,gBACtB,EAAKwZ,YAAc,EAAKA,YAAYxZ,KAAjB,gBACnB,EAAKgZ,aAAe,EAAKA,aAAahZ,KAAlB,gBAEpB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCzF,KAAM,KACN5D,GAAI,KACJiO,MAAO,KACPkC,cAAe,KACf3B,QAAS,KACTe,aAAc,GACdE,cAAc,EACdjD,QAAS,KACT6J,MAAO,KACPjB,SAAU,GACV5B,SAAU,GACV8E,eAAgB,GAChBc,OAAQ,KACRxB,SAAU,KACVoH,MAAO,GACPrH,QAAS,KACTtS,QAAS,KACT8S,IAAK9T,IAAOC,IAAIC,UAAUC,OAAO,KA7CvB,E,kFAkDZiF,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,WAAYvM,KAAKwB,SAC/B8K,EAAWC,GAAG,mBAAoBvM,KAAKqD,e,6CAIvCiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,WAAYxM,KAAKwB,SAC3C8K,EAAWE,eAAe,mBAAoBxM,KAAKqD,e,0CAInD9C,QAAQC,IAAI,0BACZkO,EAAsB,QAAS1O,KAAKmT,SAASxR,OAAd,OAAgC3B,KAAKgM,MAAMpK,S,oCAI1E,IAAI6E,EAAO6F,EAAWoD,aAClB3P,EAAQuM,EAAWsC,WACnBnI,GAAkB,SAAV1G,GACVC,KAAK6O,SAAS,CACZpI,KAAMA,EACN5D,GAAI4D,EAAK5D,GACTmQ,cAAevM,EAAKqK,MACpB5I,QAASzB,EAAKyB,QACduS,SAAUhU,EAAKuW,aACff,OAAQxV,EAAKwW,YACb4E,MAAOpb,EAAKsc,UACZvI,QAAS,OAIbxa,KAAKwN,GAAG,QAAQY,OAChBpO,KAAKwN,GAAG,YAAcxN,KAAKgM,MAAMgP,KAAKkC,IAAI,M,gCAI1C,IAAItd,EAAO0M,EAAW9K,UAClBzB,EAAQuM,EAAWsC,WACnBhP,GAAkB,SAAVG,GACVC,KAAK6O,SAAS,CACZiC,MAAOlR,IAGPA,GAAkB,YAAVG,GACVC,KAAK6O,SAAS,CACZoJ,SAAUrY,IAGVA,GAAkB,WAAVG,GACVC,KAAK6O,SAAS,CACZwH,SAAUzW,IAGVA,GAAkB,WAAVG,GACVC,KAAK6O,SAAS,CACZ3G,QAAStI,M,+BAMbI,KAAKwN,GAAG,QAAQ4F,OAChBpT,KAAKwN,GAAG,eAAepH,KAAK7B,EAAK8O,YAEjC3E,EAAsB,oBADX,CAAEsU,QAAShjB,KAAKgM,MAAMnJ,GAAIwO,QAASrR,KAAKgM,MAAMqF,SACRrR,KAAKgM,MAAMpK,S,oCAGhD6R,GAAM,IAAD,OACjBzT,KAAK6O,SAAS,CAAEoJ,SAAU,KAC1BjY,KAAK6O,SAAS4E,GAAK,WACjB/E,EAAkB,kBAAmB,EAAK1C,MAAMtK,KAAM,CAAE0b,EAAG,EAAKpR,MAAMkN,a,mCAI7DzF,GAAM,IAAD,OAChBzT,KAAK6O,SAAS,CAAEwH,SAAU,KAC1BrW,KAAK6O,SAAS4E,GAAK,WACjB/E,EAAkB,kBAAmB,EAAK1C,MAAMtK,KAAM,CAAE0b,EAAG,EAAKpR,MAAMkN,a,iCAI/DmE,GAET3O,EAAsB,qBADX,CAAE7L,GAAI7C,KAAKgM,MAAMnJ,GAAIya,WAAYD,GACMrd,KAAKgM,MAAMpK,S,gCAGrD2b,GAER7O,EAAsB,eADX,CAAE7L,GAAI7C,KAAKgM,MAAMnJ,GAAIuT,UAAWmH,GACCvd,KAAKgM,MAAMpK,S,oCAG3Cyb,GAEZ3O,EAAyB,qBADd,CAAE7L,GAAI7C,KAAKgM,MAAMnJ,GAAIya,WAAYD,GACSrd,KAAKgM,MAAMpK,S,mCAKhE8M,EAAsB,kBADX,CAAE7L,GAAI7C,KAAKgM,MAAMnJ,GAAI0Q,cAAevT,KAAKgM,MAAMoG,aAAcoB,cAAexT,KAAKgM,MAAMsG,cACnDtS,KAAKgM,MAAMpK,S,iCAGjD0b,EAAYxK,GAErBpE,EAAsB,oBADX,CAAE7L,GAAI7C,KAAKgM,MAAMnJ,GAAIya,WAAYA,EAAYxK,KAAMA,GACb9S,KAAKgM,MAAMpK,S,iCAIlD,IAAD,OACT5B,KAAK6O,SAAS,CAAEnN,KAAM1B,KAAKgM,MAAMtK,KAAO,IAAK,WAC3CnB,QAAQC,IAAI,2BACZkO,EAAsB,QAAS,EAAKyE,SAASxR,OAAd,OAAgC,EAAKqK,MAAMpK,MAAO,EAAKoK,MAAMtK,W,sCAO9FgN,EAAsB,WADX,CAAE8O,iBAAkB,OAAQC,eAAgBzd,KAAKgM,MAAMnJ,GAAIuX,QAASpa,KAAKgM,MAAMmP,eAAgBuC,SAAU1d,KAAKgM,MAAMwO,SACvFxa,KAAKgM,MAAMpK,S,2CAIhCiB,GACnB,IAAM4J,EAAOzM,KACDyM,EAAKE,IACbgR,OAAO5H,QAAQxR,EAAKqZ,aAAcrZ,EAAKsZ,OAAO,kBAAMpR,EAAKqQ,cAAcja,Q,oCAG/DA,GAEZ6L,EAAyB,WADd,CAAE7L,GAAIA,GAC0B7C,KAAKgM,MAAMpK,MAAO5B,KAAKgM,MAAMtK,Q,wCAGxD+R,GAChBzT,KAAK6O,SAAS4E,K,kCAGJ5Q,EAAI6C,GAEdgJ,EAAsB,mBADX,CAAE7L,GAAIA,EAAIogB,QAASvd,EAAEE,OAAO0O,SACStU,KAAKgM,MAAMpK,S,4BAI3D,GAAI5B,KAAKgM,MAAMvF,KACb,OACE,kBAAC,IAAD,CAAKgB,KAAM,UAAYzH,KAAKgM,MAAMvF,KAAK5D,GAAK,QAAS+C,OAAO,aAAa2I,SAAS,cAAc5G,KAAK,QAAQqD,MAAM,QACjH,kBAAC,IAAD,CAAM6G,IAAI,UAAUC,OAAO,UAAUC,GAAG,kBACxC,kBAAC,IAAD,CAAMF,IAAI,WAAWC,OAAO,WAAWC,GAAG,sB,wCAMhClP,GAChB,IAAM4J,EAAOzM,KACDyM,EAAKE,IACbgR,OAAO5H,QAAQxR,EAAKqZ,aAAcrZ,EAAKsZ,OAAO,kBAAMpR,EAAKqW,WAAWjgB,Q,iCAG/DA,GAET6L,EAAyB,QADd,CAAE7L,GAAIA,GACuB7C,KAAKgM,MAAMpK,S,iCAG1CyP,GACT3C,EAAyB,oBAAqB,CAAE2C,QAASA,EAAS2R,QAAShjB,KAAKgM,MAAMnJ,IAAM7C,KAAKgM,MAAMpK,S,oCAG3F+D,GACZ+I,EAAyB,kBAAmB,CAAE7L,GAAI7C,KAAKgM,MAAMnJ,GAAI8C,MAAOA,GAAS3F,KAAKgM,MAAMpK,S,qCAG/EiB,GACb7C,KAAK6O,SAAS,CAAE2L,QAAS3X,IACzB7C,KAAKwN,GAAG,YAAcxN,KAAKgM,MAAMgP,KAAK+C,U,oCAItC/d,KAAK6O,SAAS,CAAE2L,QAAS,S,mCAGd4C,GACX1O,EAAkB,iBAAkB1O,KAAKgM,MAAMtK,KAAM,CAAEshB,QAAShjB,KAAKgM,MAAMnJ,GAAIua,EAAGA,GAAKpd,KAAKgM,MAAMpK,S,6BAIlG,GAAI5B,KAAKgM,MAAMvF,MAAQzG,KAAKgM,MAAMvF,KAAK9B,KACrC,OAAQ,kBAAC,IAAD,CAAM8C,KAAM,UAAUzH,KAAKgM,MAAMvF,KAAK9B,KAAK9B,IAAK,IAAI0B,EAAKqP,Q,+BAK3D,IAAD,EAC6H5T,KAAKgM,MAAjIvF,EADD,EACCA,KAAMqK,EADP,EACOA,MAAOkC,EADd,EACcA,cAAe3D,EAD7B,EAC6BA,QAAS4I,EADtC,EACsCA,SAAU5B,EADhD,EACgDA,SAAUoE,EAD1D,EAC0DA,SAAUU,EADpE,EACoEA,eAAgBc,EADpF,EACoFA,OAAQ4F,EAD5F,EAC4FA,MAAOrH,EADnG,EACmGA,QAASQ,EAD5G,EAC4GA,IAAK9S,EADjH,EACiHA,QACxH,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQvC,MAAOpB,EAAKmC,OAClB,kBAAC,IAAD,CAAM4E,UAAU,SACd,kBAAC,IAAD,CAAMC,GAAG,UAEVvL,KAAK4T,QAER,kBAAC,GAAD,CACEnN,KAAMA,EAAMqK,MAAOA,EAAOzB,QAASA,EAAS4I,SAAUA,EAAU5B,SAAUA,EAC1EsB,cAAe3X,KAAK2X,cAAeO,WAAYlY,KAAKkY,WACpDe,cAAejZ,KAAKiZ,cAAetG,cAAe3S,KAAK2S,cACvDK,cAAeA,EAAeP,WAAYzS,KAAKyS,WAC/CoQ,WAAY7iB,KAAK6iB,WAAYpR,OAAQzR,KAAKyR,OAAQL,aAAcpR,KAAKkT,kBACrEoG,aAActZ,KAAKsZ,aAAcH,UAAWnZ,KAAKmZ,UACjDiD,cAAepc,KAAKoc,cAAeb,qBAAsBvb,KAAKub,qBAC9DJ,eAAgBA,EAAgBV,SAAUA,EAAUqB,SAAU9b,KAAK8b,SACnEhE,WAAY9X,KAAK8X,WAAYmE,OAAQA,EAAQ4F,MAAOA,EACpDC,YAAa9hB,KAAK8hB,YAAaC,kBAAmB/hB,KAAK+hB,kBACvDvG,eAAgBxb,KAAKwb,eAAgBhB,QAASA,EAASK,YAAa7a,KAAK6a,YACzEG,IAAKA,EAAKX,aAAcra,KAAKqa,aAAcnS,QAASA,S,GA3Q1B+G,aCcrBzI,GAnBE,SAAC/B,GAChB,SAASkB,EAAMsU,GACb,IAAI5P,EAAO,IAAI6C,KAAK,IAAIlE,OAAOC,MAAMgR,IACrC,OAAO,kBAAC,IAAD,CAAQ5P,KAAMA,EAAM6P,SAAO,IAEpC,OAAIzV,EAAMiC,OACRnG,QAAQC,IAAIiE,EAAMiC,OAGhB,kBAAC,IAAD,KACGjC,EAAMiC,MAAM1E,KAAI,SAACyE,GAAD,OACjB,kBAAC,IAAD,CAAUxE,IAAK,WAAawE,EAAK5D,GAAIwC,OAAQoB,EAAKd,MAAOA,MAAOA,EAAMc,EAAKyc,eAAgB3c,KAAM,UAAUE,EAAK5D,UAK5G,8BCVGsgB,GAVG,SAAC1e,GACjB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQkB,MAAOpB,EAAKmC,MAAOiN,SAAUpP,EAAKqP,OAE1C,kBAAC,IAAD,KAAarP,EAAK3E,MAClB,kBAAC,GAAD,CAAU8G,MAAOjC,EAAMiC,UCFRuM,G,YACnB,aAAe,IAAD,8BACZ,+CACKzR,QAAU,EAAKA,QAAQH,KAAb,gBACf,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCxF,MAAO,MALG,E,kFASZ4F,EAAWC,GAAG,WAAYvM,KAAKwB,W,6CAI/B8K,EAAWE,eAAe,WAAYxM,KAAKwB,W,0CAI3CxB,KAAK8L,a,iCAIkBoC,IAAWpO,SAC/BqO,MAAMC,KAAK,CAAEhI,KAAM7B,EAAK8J,UAAWC,aAAc,IAAMC,SAAU,QACpEG,EAAkB,QAAS1O,KAAKgM,MAAMtK,KAAM,GAAI1B,KAAKgM,MAAMpK,S,gCAI3D,IAAI8E,EAAQ4F,EAAW9K,UACnBzB,EAAQuM,EAAWsC,WACnBlI,GAAmB,SAAV3G,GACXC,KAAK6O,SAAS,CACZnI,MAAOA,M,+BAKH,IACDA,EAAS1G,KAAKgM,MAAdtF,MACP,OAAO,kBAAC,GAAD,CAAWA,MAAOA,Q,GAvCOuN,IAAMhF,WCwG3BmU,GA3GE,SAAC3e,GAChB,GAAIA,EAAM4e,kBAeV,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KAAa9e,EAAKkC,MAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,CACE2C,MAAO7E,EAAKoB,MACZjF,KAAK,OACLwR,YAAa3N,EAAK6Z,yBAClB/L,aAAc5N,EAAMgC,KAAKd,MACzB0Y,UAAU,EACVlM,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAEzL,MAAOD,EAAEE,OAAOC,WAMzC,kBAAC,IAAD,CACEuD,MAAO7E,EAAKkV,SACZ/Y,KAAK,SACL2R,aAAc5N,EAAMgV,SACpBhU,SAAU,SAACC,GACTjB,EAAM2M,aAAa,CAAEqI,SAAU/T,EAAEE,OAAOC,UAG1C,4BAAQA,MAAM,UAAUtB,EAAK+e,QAC7B,4BAAQzd,MAAM,QAAQtB,EAAKgf,MAC3B,4BAAQ1d,MAAM,UAAUtB,EAAKif,SAI/B,4BACE,yBAAKze,MAAM,2BACT,yBAAKA,MAAM,cACT,yBAAKA,MAAM,yBAAyBR,EAAKme,YACzC,yBAAK3d,MAAM,mBACT,2BAAOrE,KAAK,OAAOwR,YAAa3N,EAAKkf,cAAehN,SAAS,WAAW5T,GAAG,uBAMnF,4BACE,yBAAKkC,MAAM,2BACT,yBAAKA,MAAM,cACT,yBAAKA,MAAM,yBAAyBR,EAAKmf,YACzC,yBAAK3e,MAAM,mBACT,2BAAOrE,KAAK,OAAOwR,YAAa3N,EAAKof,cAAe9d,MAAOpB,EAAM2a,UAAW3I,SAAS,WAAW5T,GAAG,0BAK3G,4BACE,yBAAKkC,MAAM,6BAIb,4BACE,yBAAKA,MAAM,2BACT,yBAAKA,MAAM,cACT,yBAAKA,MAAM,yBAAyBR,EAAK2a,UACzC,yBAAKna,MAAM,mBACT,2BAAOrE,KAAK,OAAOwR,YAAa3N,EAAKkf,cAAehN,SAAS,WAAW5T,GAAG,0BAMnF,4BACE,yBAAKkC,MAAM,2BACT,yBAAKA,MAAM,cACT,yBAAKA,MAAM,yBAAyBR,EAAKqf,eACzC,yBAAK7e,MAAM,mBACT,2BAAOrE,KAAK,OAAOwR,YAAa3N,EAAKof,cAAe9d,MAAOpB,EAAM4a,aAAc5I,SAAS,WAAW5T,GAAG,8BAOhH,kBAAC,IAAD,CAAOyO,QAAM,GACX,kBAAC,IAAD,CAAKC,IAAI,KA1Ff,WACE,GAAI9M,EAAMmQ,QACR,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQ9P,UAAU,eAAe+T,SAAO,EAAC7N,MAAM,MAAM2J,UAAWlQ,EAAMmQ,QAASpE,QAAS,kBAAM/L,EAAMof,sBAAsBtf,EAAKua,SAuF9HC,GACD,kBAAC,IAAD,CAAMja,UAAU,eAChB,kBAAC,IAAD,CAAQA,UAAU,UAAU0M,MAAI,EAAChB,QAAS/L,EAAMgN,QAASlN,EAAKkN,YC/FnDqS,G,YACnB,aAAe,IAAD,8BACZ,+CACKrS,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAK0K,aAAe,EAAKA,aAAa1K,KAAlB,gBACpB,EAAK+J,YAAc,EAAKA,YAAY/J,KAAjB,gBAEnB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCzF,KAAM,GACNd,MAAO,KACPU,QAAS,KACT6Y,SAAU,IAAIhS,KACdiS,MAAO,IAAIjS,KACXkS,UAAY,OACZC,aAAc,OACdgE,aAAa,EACb5J,SAAU,UAlBA,E,kFAwBZnN,EAAWC,GAAG,eAAgBvM,KAAKuD,e,6CAInC+I,EAAWE,eAAe,eAAgBxM,KAAKuD,e,iFAQ/CvD,KAAK+L,eACL/L,KAAK+jB,a,iCAIO,IAAI7W,KAAhB,IACMT,EAAOzM,KACP0M,EAAMD,EAAKE,IAEjBD,EAAIsX,OAAOhX,OAAO,CAChB6J,QAAS,qBACPoN,cAAc,EACd1X,GAAI,CACF4K,OAAQ,SAAU6M,GAChBvX,EAAKoC,SAAS,CAAEuQ,UAAW4E,EAAOne,MAAM,GAAG,IAAIme,EAAOne,MAAM,OAGhEqe,KAAM,CACJ,CACEC,OAAS,cAAeC,MAAM,MAEhC,CACEC,UAAW,OACXF,OAAS,gEAAiEC,MAAM,SAKxF1X,EAAIsX,OAAOhX,OAAO,CAChB6J,QAAS,wBACPoN,cAAc,EAAa1X,GAAI,CAC7B4K,OAAQ,SAAU6M,GAChBvX,EAAKoC,SAAS,CAAEwQ,aAAc2E,EAAOne,MAAM,GAAG,IAAIme,EAAOne,MAAM,OAGnEqe,KAAM,CACJ,CACEC,OAAS,cAAeC,MAAM,MAEhC,CACEC,UAAW,OACXF,OAAS,gEAAiEC,MAAM,W,qCAQxF,IAAM3X,EAAOzM,KACP0M,EAAMD,EAAKE,IAEjBD,EAAIK,SAASC,OAAO,CAClB6J,QAAS,kBACThR,MAAO,CAAC,IAAIqH,MACZoX,eAAe,EACfC,SAAU,EACVC,YAAa,CAAC,EAAG,GACjB3X,WAAY,CAAC,6CAAW,mDAAY,iCAAS,qBAAO,iCAAS,uCAAU,qBAAO,2BAAQ,qBAAO,eAAM,2BAAQ,kCAC3G4X,SAAU,CAAC,uCAAU,uCAAU,wCAAW,mDAAY,mDAAY,2BAAQ,4BAC1EC,cAAe,CAAC,eAAM,eAAM,gBAAO,2BAAQ,2BAAQ,2BAAQ,4BAC3DnY,GAAI,CACF4K,OAAQ,SAAU5J,GAChBhN,QAAQC,IAAI+M,EAAE1H,MAAM,GAAG+J,GACvBnD,EAAKoC,SAAS,CAAEsQ,MAAO5R,EAAE1H,MAAM,GAAG+J,QAKxClD,EAAIK,SAASC,OAAO,CAClB6J,QAAS,qBACTyN,eAAe,EACfze,MAAO,CAAC,IAAIqH,MACZqX,SAAU,EACVC,YAAa,CAAC,EAAG,GACjB3X,WAAY,CAAC,6CAAW,mDAAY,iCAAS,qBAAO,iCAAS,uCAAU,qBAAO,2BAAQ,qBAAO,eAAM,2BAAQ,kCAC3G4X,SAAU,CAAC,uCAAU,uCAAU,wCAAW,mDAAY,mDAAY,2BAAQ,4BAC1EC,cAAe,CAAC,eAAM,eAAM,gBAAO,2BAAQ,2BAAQ,2BAAQ,4BAC3DnY,GAAI,CACF4K,OAAQ,SAAU5J,GAChBd,EAAKoC,SAAS,CAAEqQ,SAAU3R,EAAE1H,MAAM,GAAG+J,U,+BAQ3C5P,KAAKwN,GAAG,QAAQ4F,OAChBpT,KAAKwN,GAAG,eAAepH,KAAK7B,EAAK8O,YACjC,IAAIlT,EAAO,CACTwF,MAAO3F,KAAKgM,MAAMrG,MAAOU,QAASrG,KAAKgM,MAAM3F,QAC7C8Y,MAAOnf,KAAKgM,MAAMmT,MAAOuE,WAAY1jB,KAAKgM,MAAMoT,UAChDF,SAAUlf,KAAKgM,MAAMkT,SAAU0E,cAAe5jB,KAAKgM,MAAMqT,aACzDlC,QAASnd,KAAKmT,SAASxR,OAAd,OAAgC8X,SAAUzZ,KAAKgM,MAAMyN,UAEhE,GAAIzZ,KAAKgM,MAAMrG,OAAS3F,KAAKgM,MAAMrG,MAAMvF,OAAS,EAChDsO,EAAsB,QAASvO,EAAMH,KAAKgM,MAAMpK,WAC3C,CACQ5B,KACR2M,IAAIgR,OAAOE,MAAMtZ,EAAKwc,gBAAiBxc,EAAKsZ,U,wCAMnCpK,GAChBzT,KAAK6O,SAAS4E,K,oCAId,IAAIhN,EAAO6F,EAAWoD,aAClB3P,EAAQuM,EAAWsC,WACnBnI,GAAkB,SAAV1G,GACVC,KAAKwN,GAAG,QAAQY,OAChBpO,KAAK+U,UAAUC,SAAS,UAAUvO,EAAK5D,MAEvC7C,KAAKwN,GAAG,QAAQY,OAChBpO,KAAK+U,UAAUC,SAAS,c,+BAOlB,IACAvO,EAASzG,KAAKgM,MAAdvF,KACR,OACE,kBAAC,IAAD,CAAM0E,cAAenL,KAAKoL,YAAY/J,KAAKrB,OACzC,kBAAC,IAAD,CAAQ2F,MAAOpB,EAAKogB,YACpB,kBAAC,IAAD,KAAapgB,EAAKogB,WAClB,kBAAC,GAAD,CAAUle,KAAMA,EAAMgL,OAAQzR,KAAKyR,OAAQmD,SAAS,EAAOxD,aAAcpR,KAAKkT,yB,GAxK9CjE,aCUnBiG,G,YACnB,aAAe,IAAD,8BACZ,+CACKzD,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAKgC,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAK0iB,SAAW,EAAKA,SAAS1iB,KAAd,gBAChB,EAAK0K,aAAe,EAAKA,aAAa1K,KAAlB,gBACpB,EAAK+J,YAAc,EAAKA,YAAY/J,KAAjB,gBACnB,EAAKwiB,kBAAoB,EAAKA,kBAAkBxiB,KAAvB,gBACzB,EAAKujB,WAAa,EAAKA,WAAWvjB,KAAhB,gBAClB,EAAK+f,eAAiB,EAAKA,eAAe/f,KAApB,gBAItB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCzF,KAAM,GACN5D,GAAI,KACJ8C,MAAO,KACPU,QAAS,KACT6Y,SAAU,IAAIhS,KACdiS,MAAO,IAAIjS,KACXkS,UAAW,OACXC,aAAc,OACdgE,aAAa,EACb5J,SAAU,UA1BA,E,kFA+BZnN,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,eAAgBvM,KAAKuD,aACnC+I,EAAWC,GAAG,mBAAoBvM,KAAKohB,kB,6CAIvC9U,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,eAAgBxM,KAAKuD,aAC/C+I,EAAWE,eAAe,mBAAoBxM,KAAKohB,kB,oCAKnDphB,KAAK+jB,a,iCAIO,IAAI7W,KAAhB,IACMT,EAAOzM,KACP0M,EAAMD,EAAKE,IAEjBD,EAAIsX,OAAOhX,OAAO,CAChB6J,QAAS,qBACToN,cAAc,EACd1X,GAAI,CACF4K,OAAQ,SAAU6M,GAChBvX,EAAKoC,SAAS,CAAEuQ,UAAW4E,EAAOne,MAAM,GAAK,IAAMme,EAAOne,MAAM,OAGpEqe,KAAM,CACJ,CACEC,OAAS,cAAeC,MAAM,MAEhC,CACEC,UAAW,OACXF,OAAS,gEAAiEC,MAAM,SAKtF1X,EAAIsX,OAAOhX,OAAO,CAChB6J,QAAS,wBACToN,cAAc,EAAM1X,GAAI,CACtB4K,OAAQ,SAAU6M,GAChBvX,EAAKoC,SAAS,CAAEwQ,aAAc2E,EAAOne,MAAM,GAAK,IAAMme,EAAOne,MAAM,OAGvEqe,KAAM,CACJ,CACEC,OAAS,cAAeC,MAAM,MAEhC,CACEC,UAAW,OACXF,OAAS,gEAAiEC,MAAM,W,qCAQtF,IAAM3X,EAAOzM,KACP0M,EAAMD,EAAKE,IAEjBD,EAAIK,SAASC,OAAO,CAClB6J,QAAS,kBACThR,MAAO,CAAC7F,KAAKgM,MAAMmT,OACnBmF,eAAe,EACfC,SAAU,EACVC,YAAa,CAAC,EAAG,GACjB3X,WAAY,CAAC,6CAAW,mDAAY,iCAAS,qBAAO,iCAAS,uCAAU,qBAAO,2BAAQ,qBAAO,eAAM,2BAAQ,kCAC3G4X,SAAU,CAAC,uCAAU,uCAAU,wCAAW,mDAAY,mDAAY,2BAAQ,4BAC1EC,cAAe,CAAC,eAAM,eAAM,gBAAO,2BAAQ,2BAAQ,2BAAQ,4BAC3DnY,GAAI,CACF4K,OAAQ,SAAU5J,GAChBd,EAAKoC,SAAS,CAAEsQ,MAAO5R,EAAE1H,MAAM,GAAG+J,QAKxClD,EAAIK,SAASC,OAAO,CAClB6J,QAAS,qBACTyN,eAAe,EACfze,MAAO,CAAC7F,KAAKgM,MAAMkT,UACnBqF,SAAU,EACVC,YAAa,CAAC,EAAG,GACjB3X,WAAY,CAAC,6CAAW,mDAAY,iCAAS,qBAAO,iCAAS,uCAAU,qBAAO,2BAAQ,qBAAO,eAAM,2BAAQ,kCAC3G4X,SAAU,CAAC,uCAAU,uCAAU,wCAAW,mDAAY,mDAAY,2BAAQ,4BAC1EC,cAAe,CAAC,eAAM,eAAM,gBAAO,2BAAQ,2BAAQ,2BAAQ,4BAC3DnY,GAAI,CACF4K,OAAQ,SAAU5J,GAEhBd,EAAKoC,SAAS,CAAEqQ,SAAU3R,EAAE1H,MAAM,GAAG+J,U,+BAU3C5P,KAAKwN,GAAG,QAAQ4F,OAChBpT,KAAKwN,GAAG,eAAepH,KAAK7B,EAAK8O,YACjC,IAAIlT,EAAO,CACT0C,GAAI7C,KAAKgM,MAAMnJ,GAAI8C,MAAO3F,KAAKgM,MAAMrG,MAAOU,QAASrG,KAAKgM,MAAM3F,QAChE8Y,MAAOnf,KAAKgM,MAAMmT,MAAOuE,WAAY1jB,KAAKgM,MAAMoT,UAChDF,SAAUlf,KAAKgM,MAAMkT,SAAU0E,cAAe5jB,KAAKgM,MAAMqT,aACzD5F,SAAUzZ,KAAKgM,MAAMyN,UAEvB,GAAIzZ,KAAKgM,MAAMrG,OAAS3F,KAAKgM,MAAMrG,MAAMvF,OAAS,EAChDsO,EAAyB,QAASvO,EAAMH,KAAKgM,MAAMpK,WAC9C,CACQ5B,KACR2M,IAAIgR,OAAOE,MAAMtZ,EAAKwc,gBAAiBxc,EAAKsZ,U,0CAMnD7d,KAAK8L,a,iCAIkBoC,IAAWpO,SAC/BqO,MAAMC,KAAK,CAAEhI,KAAM7B,EAAK8J,UAAWC,aAAc,IAAMC,SAAU,QAChEvO,KAAKmT,SAASxR,OAAd,SACFpB,QAAQC,IAAI,4BACZkO,EAAsB,QAAS1O,KAAKmT,SAASxR,OAAd,OAAgC3B,KAAKgM,MAAMpK,U,oCAK/D,IAAD,OACR6E,EAAO6F,EAAWoD,aAClB3P,EAAQuM,EAAWsC,WACnBnI,GAAkB,SAAV1G,GACVC,KAAK6O,SAAS,CACZlJ,MAAOc,EAAKd,MACZyU,QAAS3T,EAAKJ,QACdxD,GAAI4D,EAAK5D,GACT4D,KAAMA,EACN0Y,MAAO,IAAInW,OAAOC,MAAMxC,EAAKic,YAC7BxD,SAAU,IAAIlW,OAAOC,MAAMxC,EAAKyc,eAChC9D,UAAW3Y,EAAKid,WAChBrE,aAAc5Y,EAAKmd,cACnBiB,YAAape,EAAKqe,aAClBrL,SAAUhT,EAAKgT,WACd,kBAAM,EAAK1N,oB,0CAKH/L,KACI2M,IACbgR,OAAO5H,QAAQxR,EAAKqZ,aAAcrZ,EAAKsZ,MAF9B7d,KAE0C4kB,c,mCAKvDlW,EAAyB,QADd,CAAE7L,GAAI7C,KAAKgM,MAAMnJ,IACY7C,KAAKgM,MAAMpK,S,uCAInD5B,KAAK+U,UAAUC,SAAS,a,wCAIRvB,GAChBzT,KAAK6O,SAAS4E,K,oCAKdzT,KAAKwN,GAAG,QAAQY,OAChBpO,KAAK+U,UAAUC,SAAS,UAAUhV,KAAKgM,MAAMnJ,M,+BAIrC,IAAD,EAC0E7C,KAAKgM,MAA9EvF,EADD,EACCA,KAAMoe,EADP,EACOA,YAAalf,EADpB,EACoBA,MAAOyU,EAD3B,EAC2BA,QAASgF,EADpC,EACoCA,UAAWC,EAD/C,EAC+CA,aAAc5F,EAD7D,EAC6DA,SACpE,OACE,kBAAC,IAAD,CAAMtO,cAAenL,KAAKoL,YAAY/J,KAAKrB,OACzC,kBAAC,IAAD,CAAQ2F,MAAOpB,EAAKogB,YACpB,kBAAC,IAAD,KAAapgB,EAAKogB,WAClB,kBAAC,GAAD,CACAle,KAAMA,EAAMd,MAAOA,EAAOyZ,UAAWA,EACrCC,aAAcA,EAAcjF,QAASA,EACrCyK,YAAaA,EAAapT,OAAQzR,KAAKyR,OACvCmD,SAAS,EAAMxD,aAAcpR,KAAKkT,kBAClC2Q,kBAAmB7jB,KAAK6jB,kBACxBpK,SAAUA,S,GA/N0BxK,aCVvB8V,G,YACnB,aAAe,IAAD,8BACZ,+CACKtT,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAKgC,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAKihB,iBAAmB,EAAKA,iBAAiBjhB,KAAtB,gBAGxB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCyV,KAAM,GACNhc,MAAO,KACP4R,aAAc,GACd8K,iBAAkB,IAdR,E,kFAoBZ/V,EAAWC,GAAG,eAAgBvM,KAAKuD,aACnC+I,EAAWC,GAAG,eAAgBvM,KAAKqD,e,6CAInCiJ,EAAWE,eAAe,eAAgBxM,KAAKuD,aAC/C+I,EAAWE,eAAe,eAAgBxM,KAAKqD,e,0CAI/C9C,QAAQC,IAAI,4BACZkO,EAAsB,QAAS1O,KAAKmT,SAASxR,OAAd,OAAgC3B,KAAKgM,MAAMpK,S,+BAK1E5B,KAAKwN,GAAG,QAAQ4F,OAChBpT,KAAKwN,GAAG,eAAepH,KAAK7B,EAAK8O,YACjC,IAAIlT,EAAO,CACPwF,MAAO3F,KAAKgM,MAAMrG,MAAOqd,QAAShjB,KAAKmT,SAASxR,OAAd,OAClC4V,aAAcvX,KAAKgM,MAAMuL,cAE7B,GAAIvX,KAAKgM,MAAMrG,OAAS3F,KAAKgM,MAAMrG,MAAMvF,OAAS,EAChDsO,EAAsB,QAASvO,EAAMH,KAAKgM,MAAMpK,WAC3C,CACQ5B,KACR2M,IAAIgR,OAAOE,MAAMtZ,EAAKwc,gBAAiBxc,EAAKsZ,U,wCAOnCpK,GAChBzT,KAAK6O,SAAS4E,K,oCAId,IAAIkO,EAAOrV,EAAWoD,aAClB3P,EAAQuM,EAAWsC,WACnB+S,GAAkB,SAAV5hB,IACVC,KAAKwN,GAAG,QAAQY,OAChBpO,KAAK+U,UAAUC,SAAS,UAAU2M,EAAKqB,Y,oCAKzC,IAAIvc,EAAO6F,EAAWoD,aAClB3P,EAAQuM,EAAWsC,WACnBnI,GAAkB,SAAV1G,GACVC,KAAK6O,SAAS,CACZwT,iBAAkB5b,EAAK6R,qB,uCAKZzV,EAAI6C,GACfA,EAAEE,OAAO0O,QACXtU,KAAK6O,SAAS,CAAE0I,aAAcvX,KAAKgM,MAAMuL,aAAauJ,OAAO,CAAEje,GAAIA,MAEnE7C,KAAK6O,SAAS,CACZ0I,aAAcvX,KAAKgM,MAAMuL,aAAayJ,QAAO,SAAUvJ,GACrD,OAAOA,EAAY5U,KAAOA,S,+BAQxB,IAAD,EAC0C7C,KAAKgM,MAA9C2V,EADD,EACCA,KAAMpK,EADP,EACOA,aAAc8K,EADrB,EACqBA,iBAC5B,OACE,kBAAC,IAAD,CAAO1O,SAAUpP,EAAKqP,KAAMqN,eAAe,GACzC,kBAAC,IAAD,CAAQtb,MAAOpB,EAAKogB,UAAWhR,SAAUpP,EAAKqP,OAC9C,kBAAC,IAAD,KAAarP,EAAKogB,WAClB,kBAAC,GAAD,CACAhD,KAAMA,EAAMU,iBAAkBA,EAC7B9K,aAAcA,EAAcyN,kBAAmBhlB,KAAKglB,kBACrDvT,OAAQzR,KAAKyR,OAAQmD,SAAS,EAAM0N,iBAAkBtiB,KAAKsiB,iBAC3DlR,aAAcpR,KAAKkT,yB,GArGajE,aCCnB8V,G,YACnB,aAAe,IAAD,8BACZ,+CACKtT,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAK2jB,kBAAoB,EAAKA,kBAAkB3jB,KAAvB,gBACzB,EAAKgC,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAKihB,iBAAmB,EAAKA,iBAAiBjhB,KAAtB,gBACxB,EAAK4jB,gBAAkB,EAAKA,gBAAgB5jB,KAArB,gBAGvB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCyV,KAAM,GACNhc,MAAO,KACP9C,GAAI,KACJ0U,aAAc,GACd8K,iBAAkB,IAjBR,E,kFAuBZ/V,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,eAAgBvM,KAAKuD,e,6CAInC+I,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,eAAgBxM,KAAKuD,e,0CAI/CvD,KAAK8L,a,iCAIkBoC,IAAWpO,SAC/BqO,MAAMC,KAAK,CAAEhI,KAAM7B,EAAK8J,UAAWC,aAAc,IAAMC,SAAU,QAChEvO,KAAKmT,SAASxR,OAAd,QACF+M,EAAsB,QAAS1O,KAAKmT,SAASxR,OAAd,OAAgC3B,KAAKgM,MAAMpK,S,+BAM5E5B,KAAKwN,GAAG,QAAQ4F,OAChBpT,KAAKwN,GAAG,eAAepH,KAAK7B,EAAK8O,YACjC,IAAIlT,EAAO,CACP0C,GAAI7C,KAAKgM,MAAMnJ,GACf8C,MAAO3F,KAAKgM,MAAMrG,MAClB4R,aAAcvX,KAAKgM,MAAMuL,cAE7B,GAAIvX,KAAKgM,MAAMrG,OAAS3F,KAAKgM,MAAMrG,MAAMvF,OAAS,EAChDsO,EAAyB,QAASvO,EAAMH,KAAKgM,MAAMpK,WAC9C,CACQ5B,KACR2M,IAAIgR,OAAOE,MAAMtZ,EAAKwc,gBAAiBxc,EAAKsZ,U,wCAKnChb,GAChB7C,KAAK6O,SAAS,CACZ0I,aAAcvX,KAAKgM,MAAMuL,aAAayJ,QAAO,SAAUvJ,GACrD,OAAOA,EAAY5U,KAAOA,S,oCAKjB,IAAD,OACR8e,EAAOrV,EAAWoD,aAClB3P,EAAQuM,EAAWsC,WACnB+S,GAAkB,SAAV5hB,GACVC,KAAK6O,SAAS,CACZlJ,MAAOgc,EAAKhc,MACZ9C,GAAI8e,EAAK9e,GAETwf,iBAAkBV,EAAKuD,oBACtB,kBAAO,EAAKD,uB,wCAKjBjlB,KAAK6O,SAAS,CAAE0I,aAAc,KAC9B,IAAIgF,EAAM,GACVvc,KAAKgM,MAAMqW,iBAAiBrgB,KAAI,SAACmgB,GAC5BA,EAAgBP,OACjBrF,EAAIlc,KAAK,CAAEwC,GAAIsf,EAAgB3a,QAAQ3E,QAG3C7C,KAAK6O,SAAS,CAAE0I,aAAcgF,M,uCAIf1Z,EAAI6C,GACfA,EAAEE,OAAO0O,QACXtU,KAAK6O,SAAS,CAAE0I,aAAcvX,KAAKgM,MAAMuL,aAAauJ,OAAO,CAAEje,GAAIA,MAEnE7C,KAAK6O,SAAS,CACZ0I,aAAcvX,KAAKgM,MAAMuL,aAAayJ,QAAO,SAAUvJ,GACrD,OAAOA,EAAY5U,KAAOA,S,wCAQhB4Q,GAChBzT,KAAK6O,SAAS4E,K,oCAId,IAAIkO,EAAOrV,EAAWoD,aAClB3P,EAAQuM,EAAWsC,WACnB+S,GAAkB,SAAV5hB,IACVC,KAAKwN,GAAG,QAAQY,OAChBpO,KAAK+U,UAAUC,SAAS,UAAU2M,EAAKqB,Y,+BAMjC,IAAD,EACiDhjB,KAAKgM,MAArD2V,EADD,EACCA,KAAMpK,EADP,EACOA,aAAc5R,EADrB,EACqBA,MAAQ0c,EAD7B,EAC6BA,iBACpC,OACE,kBAAC,IAAD,CAAO1O,SAAUpP,EAAKqP,KAAMqN,eAAe,GACzC,kBAAC,IAAD,CAAQtb,MAAOpB,EAAKogB,UAAWhR,SAAUpP,EAAKqP,OAC9C,kBAAC,IAAD,KAAarP,EAAKogB,WAClB,kBAAC,GAAD,CACAhD,KAAMA,EAAMU,iBAAkBA,EAC7B1c,MAAOA,EAAO4R,aAAcA,EAAc+K,iBAAkBtiB,KAAKsiB,iBAClE0C,kBAAmBhlB,KAAKglB,kBAAmBvT,OAAQzR,KAAKyR,OAAQmD,SAAS,EAAMxD,aAAcpR,KAAKkT,yB,GAtIlEjE,aC+DzBkW,GApEO,SAAC1gB,GACrB,SAAS2gB,EAAYC,GACnB,IAAI9G,EAAQ,CACV,6BACE,yBAAKzZ,UAAU,oBACZP,EAAK+gB,aADR,OAaJ,OARI7gB,EAAM8gB,WAAWC,kBACnB/gB,EAAM8gB,WAAWC,iBAAiBxjB,KAAI,SAACojB,GACjCA,EAAYC,MAAQA,GACtB9G,EAAMle,KAAK,uBAAGoH,KAAM,IAAM2d,EAAYK,OAAS,IAAML,EAAYviB,GAAK,KAAK,kBAAC,IAAD,CAAMuD,KAAMgf,EAAYzf,aAKlG4Y,EAGT,OAAI9Z,EAAM8gB,WAEN,kBAAC,IAAMngB,SAAP,KACE,kBAAC,IAAD,KAAab,EAAKmhB,YAClB,kBAAC,IAAD,CAAM3S,eAAA,GACJ,kBAAC,IAAD,KAAWtO,EAAM8gB,WAAWI,QAG9B,kBAAC,IAAD,CAAM7gB,UAAU,SACfL,EAAM8gB,WAAWjN,iBAAiBtW,KAAI,SAACyV,GAAD,OACrC,kBAAC,IAAD,CACExV,IAAK,cAAgBwV,EAAYjQ,QAAQ3E,GACzC8C,MAAO8R,EAAYjQ,QAAQE,SAC3BpB,MAAM,IACN,yBAAKqB,KAAK,QAAQC,IAAK6P,EAAYjQ,QAAQK,OAAQC,MAAM,KAAKC,OAAO,YAKzE,kBAAC,IAAD,KAAaxD,EAAKqhB,gBAClB,kBAAC,IAAD,CAAM7S,eAAA,GACJ,kBAAC,IAAD,KAAWtO,EAAM8gB,WAAWK,gBAC5B,kBAAC,IAAD,KAAWR,EAAY,aAGzB,kBAAC,IAAD,KAAa7gB,EAAKshB,kBAClB,kBAAC,IAAD,CAAM9S,eAAA,GACJ,kBAAC,IAAD,KAAWtO,EAAM8gB,WAAWM,kBAC5B,kBAAC,IAAD,KAAWT,EAAY,eAGzB,kBAAC,IAAD,KAAa7gB,EAAKuhB,cAClB,kBAAC,IAAD,CAAM/S,eAAA,GACJ,kBAAC,IAAD,KAAWtO,EAAM8gB,WAAWO,cAC5B,kBAAC,IAAD,KAAWV,EAAY,WAGzB,kBAAC,GAAD,CAAa3jB,MAAOgD,EAAM8gB,WAAY9T,OAAQhN,EAAM2X,cAAehL,aAAc3M,EAAM2M,eAEvF,kBAAC,GAAD,CACQqJ,SAAUhW,EAAMgW,SAAUc,qBAAsB9W,EAAM8W,qBACtDO,SAAUrX,EAAMqX,YAIpB,MCpDS7I,G,YACnB,aAAe,IAAD,8BACZ,+CACK5P,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAKG,QAAU,EAAKA,QAAQH,KAAb,gBACf,EAAKoQ,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAKyb,cAAgB,EAAKA,cAAczb,KAAnB,gBACrB,EAAK+a,cAAgB,EAAKA,cAAc/a,KAAnB,gBACrB,EAAKka,qBAAuB,EAAKA,qBAAqBla,KAA1B,gBAG5B,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCqZ,WAAY,KACZ1iB,GAAI,KACJwO,QAAS,KACToJ,SAAU,MAhBA,E,kFAqBZnO,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,WAAYvM,KAAKwB,SAC/B8K,EAAWC,GAAG,mBAAoBvM,KAAKqD,e,6CAIvCiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,WAAYxM,KAAKwB,SAC3C8K,EAAWE,eAAe,mBAAoBxM,KAAKqD,e,0CAInDqL,EAAsB,cAAe1O,KAAKmT,SAASxR,OAAd,YAAqC3B,KAAKgM,MAAMpK,S,oCAIrF,IAAI2jB,EAAajZ,EAAWoD,aACxB3P,EAAQuM,EAAWsC,WACnB2W,GAAwB,cAAVxlB,GAChBC,KAAK6O,SAAS,CACZ0W,WAAYA,EACZ1iB,GAAI0iB,EAAW1iB,GACf4X,SAAU8K,EAAWvI,eAGzBhd,KAAKwN,GAAG,QAAQY,S,gCAIhB,IAAI0C,EAAQxE,EAAW9K,UACnBzB,EAAQuM,EAAWsC,WACnBkC,GAAmB,SAAV/Q,GACXC,KAAK6O,SAAS,CACZiC,MAAOA,M,+BAMX9Q,KAAKwN,GAAG,QAAQ4F,OAChBpT,KAAKwN,GAAG,eAAepH,KAAK7B,EAAK8O,YAEjC3E,EAAsB,oBADX,CAAEqX,cAAe/lB,KAAKgM,MAAMnJ,GAAIwO,QAASrR,KAAKgM,MAAMqF,SACdrR,KAAKgM,MAAMpK,S,sCAK5D8M,EAAsB,WADX,CAAE8O,iBAAkB,YAAaC,eAAgBzd,KAAKgM,MAAMnJ,GAAIuX,QAASpa,KAAKgM,MAAMmP,gBACvDnb,KAAKgM,MAAMpK,S,2CAIhCiB,GACnB,IAAM4J,EAAOzM,KACDyM,EAAKE,IACbgR,OAAO5H,QAAQxR,EAAKqZ,aAAcrZ,EAAKsZ,OAAO,kBAAMpR,EAAKqQ,cAAcja,Q,oCAG/DA,GAEZ6L,EAAyB,WADd,CAAE7L,GAAIA,GAC0B7C,KAAKgM,MAAMpK,MAAO5B,KAAKgM,MAAMtK,Q,wCAKxD+R,GAChBzT,KAAK6O,SAAS4E,K,4BAId,GAAIzT,KAAKgM,MAAMuZ,WACb,OACE,kBAAC,IAAD,CAAK9d,KAAM,gBAAkBzH,KAAKgM,MAAMuZ,WAAW1iB,GAAK,QAAS+C,OAAO,aAAa2I,SAAS,cAAc5G,KAAK,QAAQqD,MAAM,QAC7H,kBAAC,IAAD,CAAM6G,IAAI,UAAUC,OAAO,UAAUC,GAAG,kBACxC,kBAAC,IAAD,CAAMF,IAAI,WAAWC,OAAO,WAAWC,GAAG,sB,+BAMxC,IAAD,EAC0B/R,KAAKgM,MAA9BuZ,EADD,EACCA,WAAY9K,EADb,EACaA,SACpB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQ9U,MAAOpB,EAAK4L,YAAawD,SAAUpP,EAAKqP,OAChD,kBAAC,IAAD,MACC5T,KAAK6T,MACN,kBAAC,GAAD,CACE0R,WAAYA,EACZ9T,OAAQzR,KAAKyR,OAAQL,aAAcpR,KAAKkT,kBACxCuH,SAAUA,EACV2B,cAAepc,KAAKoc,cAAeb,qBAAsBvb,KAAKub,4B,GAlHpCtM,aCqBrB+W,GApCO,SAACvhB,GAErB,OAAIA,EAAM0L,YAEN,kBAAC,IAAD,KACE,kBAAC,IAAD,KACG1L,EAAMY,QAET,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAMc,WAAS,EAACrB,UAAU,SACvBL,EAAM0L,YAAYnO,KAAI,SAACujB,GAAD,OACrB,kBAAC,IAAD,CACAzgB,UAAU,QACR7C,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,IACjCd,KAAM,gBAAkBgf,EAAW1iB,GACnCkN,aAAa,EACbpK,MAAO4f,EAAWI,MAClBrf,MAAM,GACNyN,SAAUwR,EAAW/d,QAAQE,SAC7BtB,KAAK,IAEJ,yBAAKuB,KAAK,QAAQC,IAAK2d,EAAW/d,QAAQK,OAAQC,MAAM,KAAKC,OAAO,aAK7E,kBAAC,IAAD,KACE,kBAAC,IAAD,MACE,kBAAC,IAAD,CAASyI,QAAS,kBAAM/L,EAAMqX,SAASrX,EAAM/C,QAAQ6C,EAAKwX,QAK1D,8BCLGkK,GA5BQ,SAACxhB,GACtB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQkB,MAAOpB,EAAK4L,YAAawD,SAAUpP,EAAKqP,OAEhD,kBAAC,IAAD,KAAarP,EAAK3E,MAClB,kBAAC,IAAD,CAAK6H,KAAK,mBAAmB7B,OAAO,aAAa2I,SAAS,cAAc5G,KAAK,QAAQqD,MAAM,cACzF,kBAAC,IAAD,CAAM6G,IAAI,SAASC,OAAO,SAASC,GAAG,iBACtC,kBAAC,IAAD,CAAMF,IAAI,WAAWC,OAAO,WAAWC,GAAG,oBAE5C,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKjK,MAAM,MAAM0D,YAAY,MAC3B,kBAAC,GAAD,CACE2E,YAAa1L,EAAMyhB,oBAAqB7gB,OAAQd,EAAK4hB,WACrDzkB,KAAK,eAAeoa,SAAUrX,EAAMqX,YAGxC,kBAAC,IAAD,CAAKhU,MAAM,MAAM0D,YAAY,MAC3B,kBAAC,GAAD,CACE2E,YAAa1L,EAAM2hB,iBAAkB/gB,OAAQd,EAAK8hB,WAClD3kB,KAAK,YAAYoa,SAAUrX,EAAMqX,eChBxB7I,G,YACnB,aAAe,IAAD,8BACZ,+CACKpH,eAAiB,EAAKA,eAAexK,KAApB,gBACtB,EAAKya,SAAW,EAAKA,SAASza,KAAd,gBAChB,EAAKG,QAAU,EAAKA,QAAQH,KAAb,gBAEf,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCka,iBAAkB,GAClBF,oBAAqB,GACrBI,UAAW,EACXC,aAAc,GAXJ,E,kFAeZja,EAAWC,GAAG,oBAAqBvM,KAAK6L,gBACxCS,EAAWC,GAAG,WAAYvM,KAAKwB,W,6CAI/B8K,EAAWE,eAAe,oBAAqBxM,KAAK6L,gBACpDS,EAAWE,eAAe,WAAYxM,KAAKwB,W,0CAK3CxB,KAAK8L,a,iCAIkBoC,IAAWpO,SAC/BqO,MAAMC,KAAK,CAAEhI,KAAM7B,EAAK8J,UAAWC,aAAc,IAAMC,SAAU,QACpEG,EAA0B,cAAe1O,KAAKgM,MAAMtK,KAAM,GAAI1B,KAAKgM,MAAMpK,S,+BAIlE4kB,GAAI,IAAD,OAEA,cAANA,GACFxmB,KAAK6O,SAAS,CAAEyX,UAAWtmB,KAAKgM,MAAMsa,UAAY,IAAK,WACrD5X,EAAkB,mBAAoB,EAAK1C,MAAMsa,UAAW,GAAI,EAAKta,MAAMpK,UAGrE,iBAAN4kB,GACFxmB,KAAK6O,SAAS,CAAE0X,aAAcvmB,KAAKgM,MAAMua,aAAe,IAAK,WAC3D7X,EAAkB,sBAAuB,EAAK1C,MAAMua,aAAc,GAAI,EAAKva,MAAMpK,Y,gCAMrF,IAAIhC,EAAO0M,EAAW9K,UAClBzB,EAAQuM,EAAWsC,WACvBrO,QAAQC,IAAIZ,GACRA,GAAkB,kBAAVG,GACVC,KAAK6O,SAAS,CACZuX,iBAAkBpmB,KAAKgM,MAAMoa,iBAAiBtF,OAAOlhB,KAGrDA,GAAkB,qBAAVG,GACVC,KAAK6O,SAAS,CACZqX,oBAAqBlmB,KAAKgM,MAAMka,oBAAoBpF,OAAOlhB,O,uCAM/D,IAAI+O,EAAWrC,EAAWT,iBACtB9L,EAAQuM,EAAWsC,WACvBrO,QAAQC,IAAImO,GACRA,GAAsB,cAAV5O,GACdC,KAAK6O,SAAS,CACZuX,iBAAkBzX,EAAS8X,KAC3BP,oBAAqBvX,EAAS+X,Y,+BAK1B,IAAD,EACyC1mB,KAAKgM,MAA9Coa,EADA,EACAA,iBAAkBF,EADlB,EACkBA,oBACzB,OAAO,kBAAC,GAAD,CACLE,iBAAkBA,EAAkBF,oBAAqBA,EACzDpK,SAAU9b,KAAK8b,e,GAnFe7H,IAAMhF,WC+G3B0X,GAlHO,SAACliB,GAGrB,SAAS2gB,EAAY1kB,GACnB,IAAI6d,EAAQ,CACV,6BACE,uBAAGzZ,UAAU,SAAS2C,KAAK,IAAI5E,GAAInC,EAAO,gBACxC,yBAAKoE,UAAU,oBACb,uBAAGA,UAAU,+BACZP,EAAK+gB,aAFR,QAeN,OARI7gB,EAAM6gB,cACR7gB,EAAM6gB,aAAatjB,KAAI,SAACojB,GAClBA,EAAYC,MAAQ3kB,GACtB6d,EAAMle,KAAK,kBAAC,IAAD,CAAM+F,KAAMgf,EAAYzf,MAAOiV,YAAU,EAACpK,QAAS,kBAAM/L,EAAMmiB,kBAAkBxB,EAAYviB,GAAInC,UAK3G6d,EAuBT,OAAI9Z,EAAM8gB,WAEN,kBAAC,IAAD,KACE,kBAAC,IAAD,KAAahhB,EAAKghB,YAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEnc,MAAO7E,EAAKqhB,eACZllB,KAAK,WACLwR,YAAa3N,EAAKsiB,0BAClBhhB,MAAOpB,EAAM8gB,WAAWK,eACxBzT,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAE0V,cAAephB,EAAEE,OAAOC,WAKjD,kBAAC,IAAD,CAAUF,MAAOyf,EAAY,aAE7B,kBAAC,IAAD,CACEhc,MAAO7E,EAAKshB,iBACZnlB,KAAK,WACLwR,YAAa3N,EAAKsiB,0BAClBhhB,MAAOpB,EAAM8gB,WAAWM,iBACxB1T,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAE2V,gBAAiBrhB,EAAEE,OAAOC,WAInD,kBAAC,IAAD,CAAUF,MAAOyf,EAAY,eAE7B,kBAAC,IAAD,CACEhc,MAAO7E,EAAKuhB,aACZplB,KAAK,WACLwR,YAAa3N,EAAKsiB,0BAClBhhB,MAAOpB,EAAMqhB,aACb3T,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAE4V,YAAathB,EAAEE,OAAOC,WAI/C,kBAAC,IAAD,CAAUF,MAAOyf,EAAY,WAE7B,4BACE,yBAAKtgB,UAAU,2BACb,yBAAKA,UAAU,cACb,yBAAKA,UAAU,yBAAyBP,EAAKmhB,YAC7C,yBAAK5gB,UAAU,mBACb,2BAAOA,UAAU,aAAapE,KAAK,OAAOwR,YAAa3N,EAAKkf,cAAehN,SAAS,WAAW5T,GAAG,4BAM1G,kBAAC,IAAD,CAAU8C,MA1EpB,WACE,IAAI4Y,EAAQ,CACV,6BACE,uBAAGzZ,UAAU,SAAS2C,KAAK,IAAI5E,GAAG,2BAChC,yBAAKiC,UAAU,oBACb,uBAAGA,UAAU,oCACZP,EAAK0iB,WAFR,QAaN,OANIxiB,EAAM8S,cACR9S,EAAM8S,aAAavV,KAAI,SAACyV,GACtB8G,EAAMle,KAAK,kBAAC,IAAD,CAAM+F,KAAMqR,EAAY/P,SAAUkT,YAAU,EAACpK,QAAS,kBAAM/L,EAAMugB,kBAAkBvN,EAAY5U,WAIxG0b,EAyDkBhH,OAGrB,kBAAC,IAAD,KAEE,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAQ/F,MAAI,EAACmD,UAAWlQ,EAAMmQ,QAASpE,QAAS/L,EAAMgN,QAASlN,EAAKkN,UAMlE,MC/FSyV,G,YACnB,aAAe,IAAD,8BACZ,+CACKzV,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAK0K,aAAe,EAAKA,aAAa1K,KAAlB,gBACpB,EAAK8lB,gBAAkB,EAAKA,gBAAgB9lB,KAArB,gBACvB,EAAKulB,kBAAoB,EAAKA,kBAAkBvlB,KAAvB,gBACzB,EAAK2jB,kBAAoB,EAAKA,kBAAkB3jB,KAAvB,gBAKzB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnC4a,cAAe,KACfC,gBAAiB,KACjBC,YAAa,KACb1B,aAAc,GACd/N,aAAc,GACdgO,WAAY,GACZ6B,cAAgB,IAAIla,KACpBgR,UAAU,GAtBA,E,kFA4BZ5R,EAAWC,GAAG,eAAgBvM,KAAKuD,e,6CAInC+I,EAAWE,eAAe,eAAgBxM,KAAKuD,e,+BAU/CmL,EAAsB,cANX,CACT4W,aAActlB,KAAKgM,MAAMsZ,aACzBM,eAAgB5lB,KAAKgM,MAAM8a,cAAejB,iBAAkB7lB,KAAKgM,MAAM+a,gBACvEjB,aAAc9lB,KAAKgM,MAAMgb,YAAatB,WAAY1lB,KAAKgM,MAAMob,cAC7D7P,aAAcvX,KAAKgM,MAAMuL,cAEgBvX,KAAKgM,MAAMpK,S,wCAItD,IAAM6K,EAAOzM,KACP0M,EAAMD,EAAKE,IAEjBD,EAAI6S,aAAavS,OAAO,CACtBiK,OAAQ,QACRuI,SAAU,uBACV7Q,UAAU,EACV8Q,cAAe,KACfC,aAAc,QACdC,qBAAsBpb,EAAKqV,OAC3BgG,mBAAoBrb,EAAKsb,MACzBC,aAAcvb,EAAKwb,UACnBC,MAAO,GACPC,qBAAsB1b,EAAKuU,OAC3BoH,WAAW,EACXC,OAAQ,SAAUjH,EAAOkH,GACvB,IAAIb,EAAevf,KACfqgB,EAAU,GACO,IAAjBnH,EAAM9Y,QAKVmf,EAAae,gBAEb5T,EAAI6T,QAAQ,CACVxd,IAAMzB,EAAKC,OAAS,0BACpBif,OAAQ,MACRC,SAAU,OAEVtgB,KAAM,CACJid,EAAGlE,GAELwH,QAAS,SAAU1Y,GAEjB,IAAK,IAAI/H,EAAI,EAAGA,EAAI+H,EAAK7H,KAAKC,OAAQH,IACpCogB,EAAQhgB,KAAK2H,EAAK7H,KAAKF,IAGzBsf,EAAaqB,gBAEbR,EAAOC,OAtBTD,EAAOC,IA0BX9T,GAAI,CACFsU,OAAQ,SAAUhb,GACZA,GAASA,EAAMA,EAAMzF,OAAS,KAChCG,QAAQC,IAAIqF,EAAMA,EAAMzF,OAAS,IACjCqM,EAAKoC,SAAS,CAAEyW,aAAc7Y,EAAKT,MAAMsZ,aAAaxE,OAAO,CAAEnb,MAAOE,EAAMA,EAAMzF,OAAS,GAAGuF,MAAO9C,GAAIgD,EAAMA,EAAMzF,OAAS,GAAGyC,GAAK4iB,OAAS5f,EAAMA,EAAMzF,OAAS,GAAGqlB,OAAQJ,KAAM,mBAM7L3Y,EAAI6S,aAAavS,OAAO,CACtBiK,OAAQ,QACRuI,SAAU,yBACV7Q,UAAU,EACV8Q,cAAe,KACfC,aAAc,QACdC,qBAAsBpb,EAAKqV,OAC3BgG,mBAAoBrb,EAAKsb,MACzBC,aAAcvb,EAAKwb,UACnBC,MAAO,GACPC,qBAAsB1b,EAAKuU,OAE3BqH,OAAQ,SAAUjH,EAAOkH,GACvB,IACIC,EAAU,GACO,IAAjBnH,EAAM9Y,OAOVsM,EAAI6T,QAAQ,CACVxd,IAAKzB,EAAKC,OAAU,0BACpBif,OAAQ,MACRC,SAAU,OAEVtgB,KAAM,CACJid,EAAGlE,GAELwH,QAAS,SAAU1Y,GAEjB,IAAK,IAAI/H,EAAI,EAAGA,EAAI+H,EAAK7H,KAAKC,OAAQH,IACpCogB,EAAQhgB,KAAK2H,EAAK7H,KAAKF,IAKzBmgB,EAAOC,MAtBTD,EAAOC,IA0BX9T,GAAI,CACFsU,OAAQ,SAAUhb,GACZA,GAASA,EAAMA,EAAMzF,OAAS,IAChCqM,EAAKoC,SAAS,CAAEyW,aAAc7Y,EAAKT,MAAMsZ,aAAaxE,OAAO,CAAEnb,MAAOE,EAAMA,EAAMzF,OAAS,GAAGuF,MAAO9C,GAAIgD,EAAMA,EAAMzF,OAAS,GAAGyC,GAAM4iB,OAAS5f,EAAMA,EAAMzF,OAAS,GAAGqlB,OAAQJ,KAAM,oBAM9L3Y,EAAI6S,aAAavS,OAAO,CACtBiK,OAAQ,QACRuI,SAAU,qBACV7Q,UAAU,EACV8Q,cAAe,KACfC,aAAc,QACdC,qBAAsBpb,EAAKqV,OAC3BgG,mBAAoBrb,EAAKsb,MACzBC,aAAcvb,EAAKwb,UACnBC,MAAO,GACPC,qBAAsB1b,EAAKuU,OAE3BqH,OAAQ,SAAUjH,EAAOkH,GACvB,IACIC,EAAU,GACO,IAAjBnH,EAAM9Y,OAOVsM,EAAI6T,QAAQ,CACVxd,IAAKzB,EAAKC,OAAS,0BACnBif,OAAQ,MACRC,SAAU,OAEVtgB,KAAM,CACJid,EAAGlE,GAELwH,QAAS,SAAU1Y,GAEjB,IAAK,IAAI/H,EAAI,EAAGA,EAAI+H,EAAK7H,KAAKC,OAAQH,IACpCogB,EAAQhgB,KAAK2H,EAAK7H,KAAKF,IAKzBmgB,EAAOC,MAtBTD,EAAOC,IA0BX9T,GAAI,CACFsU,OAAQ,SAAUhb,GACZA,GAASA,EAAMA,EAAMzF,OAAS,IAChCqM,EAAKoC,SAAS,CAAEyW,aAAc7Y,EAAKT,MAAMsZ,aAAaxE,OAAO,CAAEnb,MAAOE,EAAMA,EAAMzF,OAAS,GAAGuF,MAAO9C,GAAIgD,EAAMA,EAAMzF,OAAS,GAAGyC,GAAM4iB,OAAS5f,EAAMA,EAAMzF,OAAS,GAAGqlB,OAAQJ,KAAM,gBAM9L3Y,EAAI6S,aAAavS,OAAO,CACtBiK,OAAQ,QACRuI,SAAU,2BACV7Q,UAAU,EACV8Q,cAAe,KACfC,aAAc,WACdC,qBAAsBpb,EAAKqV,OAC3BgG,mBAAoBrb,EAAKsb,MACzBC,aAAcvb,EAAKwb,UACnBC,MAAO,GACPC,qBAAsB1b,EAAKuU,OAE3BqH,OAAQ,SAAUjH,EAAOkH,GACvB,IACIC,EAAU,GACO,IAAjBnH,EAAM9Y,OAOVsM,EAAI6T,QAAQ,CACVxd,IAAKzB,EAAKC,OAAS,mBACnBif,OAAQ,MACRC,SAAU,OAEVtgB,KAAM,CACJid,EAAGlE,GAELwH,QAAS,SAAU1Y,GAEjB,IAAK,IAAI/H,EAAI,EAAGA,EAAI+H,EAAK7H,KAAKC,OAAQH,IACnCogB,EAAQhgB,KAAK2H,EAAK7H,KAAKF,IAK1BmgB,EAAOC,MAtBTD,EAAOC,IA0BX9T,GAAI,CACFsU,OAAQ,SAAUhb,GACZA,GAASA,EAAMA,EAAMzF,OAAS,IAChCqM,EAAKoC,SAAS,CAAE0I,aAAc9K,EAAKT,MAAMuL,aAAauJ,OAAO,CAAEpZ,SAAU7B,EAAMA,EAAMzF,OAAS,GAAGsH,SAAU7E,GAAIgD,EAAMA,EAAMzF,OAAS,GAAGyC,a,wCAQ/H4Q,GAChBzT,KAAK6O,SAAS4E,K,oCAKdzT,KAAK+U,UAAUC,SAAS,mB,oCAIxBhV,KAAK+L,eACL/L,KAAKmnB,oB,qCAKL,IAAM1a,EAAOzM,KACP0M,EAAMD,EAAKE,IACb0a,EAAQ,IAAIre,OAAOC,MACnBqe,GAAU,IAAIte,OAAOC,OAAQse,QAAQF,EAAMG,UAAY,GAC3D9a,EAAIK,SAASC,OAAO,CAClB6J,QAAS,uBACThR,MAAO,CAAC,IAAIqH,MACZoX,eAAe,EACfC,SAAU,EACVC,YAAa,CAAC,EAAG,GACjB3X,WAAY,CAAC,6CAAW,mDAAY,iCAAS,qBAAO,iCAAS,uCAAU,qBAAO,2BAAQ,qBAAO,eAAM,2BAAQ,kCAC3G4X,SAAU,CAAC,uCAAU,uCAAU,wCAAW,mDAAY,mDAAY,2BAAQ,4BAC1EC,cAAe,CAAC,eAAM,eAAM,gBAAO,2BAAQ,2BAAQ,2BAAQ,4BAC3D/P,SAAU,SAAUtK,GAClB,QAAIA,EAAOid,GAAWjd,EAAOgd,IAO/B9a,GAAI,CACF4K,OAAQ,SAAU5J,GAChBd,EAAKoC,SAAS,CAAEuY,cAAe7Z,EAAE1H,MAAM,GAAG+J,U,wCAMhC/M,EAAIwiB,GACpBrlB,KAAK6O,SAAS,CACZyW,aAActlB,KAAKgM,MAAMsZ,aAAatE,QAAO,SAAUoE,GACrD,OAAQA,EAAYviB,KAAOA,GAAMuiB,EAAYC,OAASA,S,wCAK1CxiB,GAChB7C,KAAK6O,SAAS,CACZ0I,aAAcvX,KAAKgM,MAAMuL,aAAayJ,QAAO,SAAUvJ,GACrD,OAAOA,EAAY5U,KAAOA,S,+BAQtB,IAAD,EAC0C7C,KAAKgM,MAA/CuZ,EADA,EACAA,WAAYD,EADZ,EACYA,aAAc/N,EAD1B,EAC0BA,aACjC,OACE,kBAAC,IAAD,CAAMpM,cAAenL,KAAKoL,YAAY/J,KAAKrB,OACzC,kBAAC,IAAD,CAAQ2F,MAAOpB,EAAKkjB,gBAAiB9T,SAAUpP,EAAKqP,OACpD,kBAAC,IAAD,KAAarP,EAAKkjB,iBAClB,kBAAC,GAAD,CACElC,WAAYA,EAAY9T,OAAQzR,KAAKyR,OACpCmD,SAAS,EAAMxD,aAAcpR,KAAKkT,kBAClCoS,aAAcA,EAAcsB,kBAAmB5mB,KAAK4mB,kBACpDrP,aAAcA,EAAcyN,kBAAmBhlB,KAAKglB,yB,GA3UlB/V,aCAxBiY,G,YACnB,aAAe,IAAD,8BACZ,+CACKzV,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAK0K,aAAe,EAAKA,aAAa1K,KAAlB,gBACpB,EAAK8lB,gBAAkB,EAAKA,gBAAgB9lB,KAArB,gBACvB,EAAKulB,kBAAoB,EAAKA,kBAAkBvlB,KAAvB,gBACzB,EAAK2jB,kBAAoB,EAAKA,kBAAkB3jB,KAAvB,gBACzB,EAAKgC,YAAc,EAAKA,YAAYhC,KAAjB,gBAMnB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnC4a,cAAe,KACfC,gBAAiB,KACjBC,YAAa,KACbnkB,GAAI,KACJyiB,aAAc,GACd/N,aAAc,GACdgO,WAAY,KACZ6B,cAAgB,IAAIla,MAxBV,E,kFA8BZZ,EAAWC,GAAG,eAAgBvM,KAAKuD,aACnC+I,EAAWC,GAAG,eAAgBvM,KAAKqD,e,6CAInCiJ,EAAWE,eAAe,eAAgBxM,KAAKuD,aAC/C+I,EAAWE,eAAe,eAAgBxM,KAAKqD,e,0CAI/CrD,KAAK8L,a,iCAID9L,KAAKmT,SAASxR,OAAd,aACF+M,EAAsB,cAAe1O,KAAKmT,SAASxR,OAAd,YAAqC3B,KAAKgM,MAAMpK,S,+BAYvF8M,EAAyB,cAPd,CACT7L,GAAI7C,KAAKgM,MAAMnJ,GACfyiB,aAActlB,KAAKgM,MAAMsZ,aACzBM,eAAgB5lB,KAAKgM,MAAM8a,cAAejB,iBAAkB7lB,KAAKgM,MAAM+a,gBACvEjB,aAAc9lB,KAAKgM,MAAMgb,YAAatB,WAAY1lB,KAAKgM,MAAMob,cAC7D7P,aAAcvX,KAAKgM,MAAMuL,cAEmBvX,KAAKgM,MAAMpK,S,oCAG7C,IAAD,OACP2jB,EAAajZ,EAAWoD,aACxB3P,EAAQuM,EAAWsC,WACnB2W,GAAwB,cAAVxlB,GAChBC,KAAK6O,SAAS,CACZhM,GAAI0iB,EAAW1iB,GACf0iB,WAAYA,EACZ6B,cAAe7B,EAAWlb,KAC1BkN,aAAcgO,EAAWjN,iBACzBgN,aAAcC,EAAWC,mBACxB,kBAAM,EAAK2B,qBAGhB5mB,QAAQC,IAAI+kB,K,wCAIZ,IAAM9Y,EAAOzM,KACP0M,EAAMD,EAAKE,IAEjBD,EAAI6S,aAAavS,OAAO,CACtBiK,OAAQ,QACRuI,SAAU,uBACV7Q,UAAU,EACV8Q,cAAe,KACfC,aAAc,QACdC,qBAAsBpb,EAAKqV,OAC3BgG,mBAAoBrb,EAAKsb,MACzBC,aAAcvb,EAAKwb,UACnBC,MAAO,GACPC,qBAAsB1b,EAAKuU,OAC3BoH,WAAW,EACXC,OAAQ,SAAUjH,EAAOkH,GACvB,IAAIb,EAAevf,KACfqgB,EAAU,GACO,IAAjBnH,EAAM9Y,QAKVmf,EAAae,gBAEb5T,EAAI6T,QAAQ,CACVxd,IAAMzB,EAAKC,OAAS,0BACpBif,OAAQ,MACRC,SAAU,OAEVtgB,KAAM,CACJid,EAAGlE,GAELwH,QAAS,SAAU1Y,GAEjB,IAAK,IAAI/H,EAAI,EAAGA,EAAI+H,EAAK7H,KAAKC,OAAQH,IACpCogB,EAAQhgB,KAAK2H,EAAK7H,KAAKF,IAGzBsf,EAAaqB,gBAEbR,EAAOC,OAtBTD,EAAOC,IA0BX9T,GAAI,CACFsU,OAAQ,SAAUhb,GACZA,GAASA,EAAMA,EAAMzF,OAAS,KAChCG,QAAQC,IAAIiM,EAAKT,MAAMsZ,cACvB7Y,EAAKoC,SAAS,CAAEyW,aAAc7Y,EAAKT,MAAMsZ,aAAaxE,OAAO,CAAEnb,MAAOE,EAAMA,EAAMzF,OAAS,GAAGuF,MAAO9C,GAAIgD,EAAMA,EAAMzF,OAAS,GAAGyC,GAAK4iB,OAAS5f,EAAMA,EAAMzF,OAAS,GAAGqlB,OAAQJ,KAAM,mBAM7L3Y,EAAI6S,aAAavS,OAAO,CACtBiK,OAAQ,QACRuI,SAAU,yBACV7Q,UAAU,EACV8Q,cAAe,KACfC,aAAc,QACdC,qBAAsBpb,EAAKqV,OAC3BgG,mBAAoBrb,EAAKsb,MACzBC,aAAcvb,EAAKwb,UACnBC,MAAO,GACPC,qBAAsB1b,EAAKuU,OAE3BqH,OAAQ,SAAUjH,EAAOkH,GACvB,IACIC,EAAU,GACO,IAAjBnH,EAAM9Y,OAOVsM,EAAI6T,QAAQ,CACVxd,IAAKzB,EAAKC,OAAS,0BACnBif,OAAQ,MACRC,SAAU,OAEVtgB,KAAM,CACJid,EAAGlE,GAELwH,QAAS,SAAU1Y,GAEjB,IAAK,IAAI/H,EAAI,EAAGA,EAAI+H,EAAK7H,KAAKC,OAAQH,IACpCogB,EAAQhgB,KAAK2H,EAAK7H,KAAKF,IAKzBmgB,EAAOC,MAtBTD,EAAOC,IA0BX9T,GAAI,CACFsU,OAAQ,SAAUhb,GACZA,GAASA,EAAMA,EAAMzF,OAAS,IAChCqM,EAAKoC,SAAS,CAAEyW,aAAc7Y,EAAKT,MAAMsZ,aAAaxE,OAAO,CAAEnb,MAAOE,EAAMA,EAAMzF,OAAS,GAAGuF,MAAO9C,GAAIgD,EAAMA,EAAMzF,OAAS,GAAGyC,GAAM4iB,OAAS5f,EAAMA,EAAMzF,OAAS,GAAGqlB,OAAQJ,KAAM,oBAM9L3Y,EAAI6S,aAAavS,OAAO,CACtBiK,OAAQ,QACRuI,SAAU,qBACV7Q,UAAU,EACV8Q,cAAe,KACfC,aAAc,QACdC,qBAAsBpb,EAAKqV,OAC3BgG,mBAAoBrb,EAAKsb,MACzBC,aAAcvb,EAAKwb,UACnBC,MAAO,GACPC,qBAAsB1b,EAAKuU,OAE3BqH,OAAQ,SAAUjH,EAAOkH,GACvB,IACIC,EAAU,GACO,IAAjBnH,EAAM9Y,OAOVsM,EAAI6T,QAAQ,CACVxd,IAAKzB,EAAKC,OAAQ,0BAClBif,OAAQ,MACRC,SAAU,OAEVtgB,KAAM,CACJid,EAAGlE,GAELwH,QAAS,SAAU1Y,GAEjB,IAAK,IAAI/H,EAAI,EAAGA,EAAI+H,EAAK7H,KAAKC,OAAQH,IACpCogB,EAAQhgB,KAAK2H,EAAK7H,KAAKF,IAKzBmgB,EAAOC,MAtBTD,EAAOC,IA0BX9T,GAAI,CACFsU,OAAQ,SAAUhb,GACZA,GAASA,EAAMA,EAAMzF,OAAS,IAChCqM,EAAKoC,SAAS,CAAEyW,aAAc7Y,EAAKT,MAAMsZ,aAAaxE,OAAO,CAAEnb,MAAOE,EAAMA,EAAMzF,OAAS,GAAGuF,MAAO9C,GAAIgD,EAAMA,EAAMzF,OAAS,GAAGyC,GAAM4iB,OAAS5f,EAAMA,EAAMzF,OAAS,GAAGqlB,OAAQJ,KAAM,gBAM9L3Y,EAAI6S,aAAavS,OAAO,CACtBiK,OAAQ,QACRuI,SAAU,2BACV7Q,UAAU,EACV8Q,cAAe,KACfC,aAAc,WACdC,qBAAsBpb,EAAKqV,OAC3BgG,mBAAoBrb,EAAKsb,MACzBC,aAAcvb,EAAKwb,UACnBC,MAAO,GACPC,qBAAsB1b,EAAKuU,OAE3BqH,OAAQ,SAAUjH,EAAOkH,GACvB,IACIC,EAAU,GACO,IAAjBnH,EAAM9Y,OAOVsM,EAAI6T,QAAQ,CACVxd,IAAKzB,EAAKC,OAAS,mBACnBif,OAAQ,MACRC,SAAU,OAEVtgB,KAAM,CACJid,EAAGlE,GAELwH,QAAS,SAAU1Y,GAEjB,IAAK,IAAI/H,EAAI,EAAGA,EAAI+H,EAAK7H,KAAKC,OAAQH,IACnCogB,EAAQhgB,KAAK2H,EAAK7H,KAAKF,IAK1BmgB,EAAOC,MAtBTD,EAAOC,IA0BX9T,GAAI,CACFsU,OAAQ,SAAUhb,GACZA,GAASA,EAAMA,EAAMzF,OAAS,IAChCqM,EAAKoC,SAAS,CAAE0I,aAAc9K,EAAKT,MAAMuL,aAAauJ,OAAO,CAAEpZ,SAAU7B,EAAMA,EAAMzF,OAAS,GAAGsH,SAAU7E,GAAIgD,EAAMA,EAAMzF,OAAS,GAAGyC,a,wCAQ/H4Q,GAChBzT,KAAK6O,SAAS4E,K,oCAKdzT,KAAK+U,UAAUC,SAAS,mB,oCAIxBhV,KAAK+L,eACL/L,KAAKmnB,oB,qCAKL,IAAM1a,EAAOzM,KACDyM,EAAKE,IAEbI,SAASC,OAAO,CAClB6J,QAAS,uBACThR,MAAO,CAAC,IAAIqH,MACZoX,eAAe,EACfC,SAAU,EACVC,YAAa,CAAC,EAAG,GACjB3X,WAAY,CAAC,6CAAW,mDAAY,iCAAS,qBAAO,iCAAS,uCAAU,qBAAO,2BAAQ,qBAAO,eAAM,2BAAQ,kCAC3G4X,SAAU,CAAC,uCAAU,uCAAU,wCAAW,mDAAY,mDAAY,2BAAQ,4BAC1EC,cAAe,CAAC,eAAM,eAAM,gBAAO,2BAAQ,2BAAQ,2BAAQ,4BAC3DnY,GAAI,CACF4K,OAAQ,SAAU5J,GAChBd,EAAKoC,SAAS,CAAEuY,cAAe7Z,EAAE1H,MAAM,GAAG+J,U,wCAMhC/M,EAAIwiB,GACpBrlB,KAAK6O,SAAS,CACZyW,aAActlB,KAAKgM,MAAMsZ,aAAatE,QAAO,SAAUoE,GACrD,OAAQA,EAAYviB,KAAOA,GAAMuiB,EAAYC,OAASA,S,wCAK1CxiB,GAChB7C,KAAK6O,SAAS,CACZ0I,aAAcvX,KAAKgM,MAAMuL,aAAayJ,QAAO,SAAUvJ,GACrD,OAAOA,EAAY5U,KAAOA,S,+BAQtB,IAAD,EAC0C7C,KAAKgM,MAA/CuZ,EADA,EACAA,WAAYD,EADZ,EACYA,aAAc/N,EAD1B,EAC0BA,aACjC,OACE,kBAAC,IAAD,CAAMpM,cAAenL,KAAKoL,YAAY/J,KAAKrB,OACzC,kBAAC,IAAD,CAAQ2F,MAAOpB,EAAKkjB,gBAAiB9T,SAAUpP,EAAKqP,OACpD,kBAAC,IAAD,KAAarP,EAAKkjB,iBAClB,kBAAC,GAAD,CACElC,WAAYA,EAAY9T,OAAQzR,KAAKyR,OACpCmD,SAAS,EAAMxD,aAAcpR,KAAKkT,kBAClCoS,aAAcA,EAAcsB,kBAAmB5mB,KAAK4mB,kBACpDrP,aAAcA,EAAcyN,kBAAmBhlB,KAAKglB,yB,GAjWlB/V,aCY9ByY,I,cA3BK,SAACjjB,GAEnB,OAAIA,EAAM+C,SACRjH,QAAQC,IAAIiE,GAEV,kBAAC,IAAMW,SAAP,KACE,kBAAC,IAAD,CAAMN,UAAU,SACd,kBAAC,IAAD,CACE7C,IAAK,eAAiBwC,EAAM+C,QAAQ3E,GACpC8C,MAAOlB,EAAM+C,QAAQE,SACrBpB,MAAM,IACN,yBAAKqB,KAAK,QAAQC,IAAKnD,EAAM+C,QAAQK,OAAQC,MAAM,KAAKC,OAAO,SAInE,kBAAC,IAAD,KACE,kBAAC,EAAD,CAAU5C,MAAOV,EAAM+C,QAAQmgB,UAAWtiB,OAAQd,EAAKY,MAAOG,WAAYb,EAAMa,cAElF,kBAAC,IAAD,KACE,kBAAC,EAAD,CAAUoB,MAAOjC,EAAM+C,QAAQogB,UAAWviB,OAAQd,EAAKmC,MAAOpB,WAAYb,EAAMa,gBAK9E,OCXS2N,G,YACnB,aAAe,IAAD,8BACZ,+CACK5P,YAAc,EAAKA,YAAYhC,KAAjB,gBAEnB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnC1E,QAAS,KACT3E,GAAI,KACJglB,QAAS,KACTC,MAAO,KACPC,SAAU,MAVA,E,kFAeZzb,EAAWC,GAAG,eAAgBvM,KAAKqD,e,6CAInCiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,e,0CAI/CqL,EAAsB,WAAY1O,KAAKmT,SAASxR,OAAd,UAAmC3B,KAAKgM,MAAMpK,S,oCAIhF,IAAI4F,EAAU8E,EAAWoD,aACrB3P,EAAQuM,EAAWsC,WACnBpH,GAAqB,YAAVzH,GACbC,KAAK6O,SAAS,CACZrH,QAASA,EACT3E,GAAI2E,EAAQ3E,O,4BAMhB,GAAI7C,KAAKgM,MAAMxE,QACb,OACE,kBAAC,IAAD,CAAKC,KAAM,aAAezH,KAAKgM,MAAMxE,QAAQ3E,GAAK,QAAS+C,OAAO,aAAa2I,SAAS,cAAc5G,KAAK,QAAQqD,MAAM,QACvH,kBAAC,IAAD,CAAM6G,IAAI,UAAUC,OAAO,UAAUC,GAAG,kBACxC,kBAAC,IAAD,CAAMF,IAAI,WAAWC,OAAO,WAAWC,GAAG,sB,+BAOxC,IACAvK,EAAYxH,KAAKgM,MAAjBxE,QACR,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQ7B,MAAOpB,EAAK0T,SAAUtE,SAAUpP,EAAKqP,OAC5C5T,KAAK6T,MACN,kBAAC,GAAD,CAAarM,QAASA,S,GAxDMyH,aCYrB+Y,GAvBK,SAACvjB,GAEnB,OAAIA,EAAMwT,SAEN,kBAAC,IAAD,CAAM9R,WAAS,GACZ1B,EAAMwT,SAASjW,KAAI,SAACwF,GAAD,OAClB,kBAAC,IAAD,CACAvF,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,IACjCd,KAAM,aAAeiB,EAAQ3E,GAC7B8C,MAAO6B,EAAQE,SACfpB,MAAM,GACNyN,SAAS,GACT3N,KAAK,IAEC,yBAAKuB,KAAK,QAAQC,IAAKJ,EAAQK,OAAQC,MAAM,KAAKC,OAAO,YAM7D,8BCGGkgB,GA3BM,SAACxjB,GACpB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQkB,MAAOpB,EAAK0T,SAAUtE,SAAUpP,EAAKqP,MAC3C,kBAAC,IAAD,CAAMtI,UAAU,SACd,kBAAC,IAAD,CAAMC,GAAG,UAEX,kBAAC,IAAD,CAAW2c,OAAO,GAChB,kBAAC,IAAD,CACEvO,kBAAmBpV,EAAKqV,OACxB1H,YAAa3N,EAAKuU,OAClBrT,SAAU,SAACC,GACTjB,EAAMqU,OAAO,CAAEI,MAAOxT,EAAEE,OAAOC,aAKvC,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAK4B,KAAK,gBAAgB7B,OAAO,aAAa2I,SAAS,cAAc5G,KAAK,QAAQqD,MAAM,cACtF,kBAAC,IAAD,CAAM6G,IAAI,SAASC,OAAO,SAASC,GAAG,iBACtC,kBAAC,IAAD,CAAMF,IAAI,WAAWC,OAAO,WAAWC,GAAG,oBAE5C,kBAAC,GAAD,CAAakG,SAAUxT,EAAMwT,aClBdhF,G,YACnB,aAAe,IAAD,8BACZ,+CACKzR,QAAU,EAAKA,QAAQH,KAAb,gBACf,EAAKyX,OAAS,EAAKA,OAAOzX,KAAZ,gBAEd,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnC+L,SAAU,KACViB,MAAO,MARG,E,kFAYZ5M,EAAWC,GAAG,WAAYvM,KAAKwB,W,6CAI/B8K,EAAWE,eAAe,WAAYxM,KAAKwB,W,0CAI3CxB,KAAK8L,a,iCAIL4C,EAAkB,WAAY1O,KAAKgM,MAAMtK,KAAM,GAAI1B,KAAKgM,MAAMpK,S,6BAGzD6R,GAAK,IAAD,OACTzT,KAAK6O,SAAS4E,GAAK,WACjB/E,EAAkB,kBAAmB,EAAK1C,MAAMtK,KAAM,CAAC0b,EAAG,EAAKpR,MAAMkN,OAAQ,EAAKlN,MAAMpK,Y,gCAK1F,IAAIqW,EAAW3L,EAAW9K,UACtBzB,EAAQuM,EAAWsC,WACnBqJ,GAAsB,YAAVlY,GACdC,KAAK6O,SAAS,CACZoJ,SAAUA,M,+BAKN,IACDA,EAAYjY,KAAKgM,MAAjBiM,SACP,OAAO,kBAAC,GAAD,CAAcA,SAAUA,EAAUa,OAAQ9Y,KAAK8Y,a,GA9CtB7E,IAAMhF,W,qBCyD3BkZ,GA5DK,SAAC1jB,GACnB,OAAIA,EAAM+C,QAEN,kBAAC,IAAMpC,SAAP,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KAAab,EAAK6jB,cAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEhf,MAAO7E,EAAK8jB,UACZ3nB,KAAK,OACLwR,YAAY,MACZG,aAAc5N,EAAMe,KACpB2M,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAE5L,KAAME,EAAEE,OAAOC,WAIxC,kBAAC,IAAD,CACEuD,MAAO7E,EAAK+jB,SACZ5nB,KAAK,OACLwR,YAAY,MACZG,aAAc5N,EAAM6jB,SACpBnW,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAEkX,SAAU5iB,EAAEE,OAAOC,aAKhD,kBAAC,IAAD,KACE,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAMf,UAAU,eAChB,kBAAC,IAAD,CAAQA,UAAU,UAAU0M,MAAI,EAAChB,QAAS/L,EAAMgN,QAASlN,EAAKkN,UAMlE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,yBAAK7J,IAAKnD,EAAMoD,OAAQC,MAAM,KAAKC,OAAO,QAE5C,kBAAC,KAAD,CACEwgB,UAAU,EACVC,WAAYjkB,EAAKkkB,aACjBhjB,SAAUhB,EAAMikB,OAChBC,gBAAgB,aAChBC,aAAc,CAAC,OAAQ,QAAS,QAChCC,YAAa,YAQb,MCzCSC,G,YACnB,aAAe,IAAD,8BACZ,+CACKrX,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAK0nB,wBAA0B,EAAKA,wBAAwB1nB,KAA7B,gBAC/B,EAAK2nB,aAAe,EAAKA,aAAa3nB,KAAlB,gBACpB,EAAKgC,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAK4nB,aAAe,EAAKA,aAAa5nB,KAAlB,gBACpB,EAAKqnB,OAAS,EAAKA,OAAOrnB,KAAZ,gBACd,EAAKG,QAAU,EAAKA,QAAQH,KAAb,gBAGf,EAAKG,QAAU,EAAKA,QAAQH,KAAb,gBAEf,EAAK2K,MAAQ,CACXxE,QAAS,GACTsgB,MAAO,KACPlmB,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCgd,OAAQ,GACR1jB,KAAM,KACN8iB,SAAU,GACVa,SAAU,GACVthB,OAAQ,MAvBE,E,kFA6BZyE,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,mBAAoBvM,KAAKqD,aACvCiJ,EAAWC,GAAG,WAAYvM,KAAKwB,W,6CAI/B8K,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,mBAAoBxM,KAAKqD,aACnDiJ,EAAWE,eAAe,WAAYxM,KAAKwB,W,0CAI3CxB,KAAK8L,a,iCAKL4C,EAAkB,QAAS1O,KAAKgM,MAAMtK,Q,6BAGjC0nB,GACL7oB,QAAQC,IAAI4oB,EAAQ,IACpB1a,EAAqB,WAAY1O,KAAKgM,MAAMnJ,GAAIumB,EAAQ,GAAIppB,KAAKgM,MAAMpK,S,+BAMvE8M,EAAyB,WADd,CAAC7L,GAAI7C,KAAKgM,MAAMnJ,GAAI2C,KAAMxF,KAAKgM,MAAMxG,KAAM8iB,SAAUtoB,KAAKgM,MAAMsc,UAChCtoB,KAAKgM,MAAMpK,S,qCAKtD8M,EAAsB,UADX,CAAC2a,QAASrpB,KAAKgM,MAAMsd,OAAQlP,QAASpa,KAAKgM,MAAMkd,QACrBlpB,KAAKgM,MAAMpK,S,wCAIlC6R,GAChBzT,KAAK6O,SAAS4E,K,8CAGQxR,EAAK4D,EAAOyjB,GAClC,IAAIJ,EAASlpB,KAAKgM,MAAMkd,OACxB,GAAIA,EAAO9oB,OAAS,EAClB,IAAK,IAAIH,EAAI,EAAGA,EAAIipB,EAAO9oB,OAAQH,IACjC,GAAIipB,EAAOjpB,GAAGspB,KAAOL,EAAOjpB,GAAGspB,MAAQtnB,EAAK,CAC1C,IAAIunB,EAAW1nB,OAAO2nB,OAAO,GAAIzpB,KAAKgM,OACtCwd,EAASN,OAAOjpB,GAAK,CAAEspB,IAAKtnB,EAAK4D,MAAOA,EAAOyjB,OAAQA,GACvDtpB,KAAK6O,SAAS2a,QAEdxpB,KAAK6O,SAAS,CAAEqa,OAAQlpB,KAAKgM,MAAMkd,OAAOpI,OAAO,CAAEyI,IAAKtnB,EAAK4D,MAAOA,EAAQyjB,OAAOA,WAIvFtpB,KAAK6O,SAAS,CAAEqa,OAAQlpB,KAAKgM,MAAMkd,OAAOpI,OAAO,CAAEyI,IAAKtnB,EAAK4D,MAAOA,EAAOyjB,OAAOA,Q,oCAMpFtpB,KAAK+U,UAAUC,SAAS,gB,oCAIxB,IAAIxN,EAAU8E,EAAWoD,aACrB3P,EAAQuM,EAAWsC,WACnBpH,GAAqB,YAAVzH,GACbC,KAAK6O,SAAS,CACZiZ,MAAOtgB,EAAQsgB,MACftgB,QAASA,M,mCAMFkiB,GACXhb,EAAyB,UAAW,CAACgb,KAAMA,M,gCAI3C,IAAI5B,EAAQxb,EAAW9K,UACnBzB,EAAQuM,EAAWsC,WACnBkZ,GAAmB,SAAV/nB,GACXC,KAAK6O,SAAS,CACZiZ,MAAOA,M,+BAOH,IAAD,EAC0C9nB,KAAKgM,MAAtC8b,GADT,EACAtgB,QADA,EACSsgB,OAAOtiB,EADhB,EACgBA,KAAMqC,EADtB,EACsBA,OAAQygB,EAD9B,EAC8BA,SACrC,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQ3iB,MAAOpB,EAAKolB,aAAchW,SAAUpP,EAAKqP,OACjD,kBAAC,IAAD,KAAarP,EAAKolB,cAClB,kBAAC,GAAD,CAAankB,KAAMA,EAAMqC,OAAQA,EAAQygB,SAAUA,EAAUR,MAAOA,EAAOY,OAAQ1oB,KAAK0oB,OAAQM,aAAchpB,KAAKgpB,aAAcC,aAAcjpB,KAAKipB,aAAcxX,OAAQzR,KAAKyR,OAAQmD,SAAS,EAAMmU,wBAAyB/oB,KAAK+oB,wBAAyB3X,aAAcpR,KAAKkT,yB,GAjI7OjE,aCTtB6Z,G,YACnB,aAAe,IAAD,8BACZ,+CACKrX,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAKgC,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAKqnB,OAAS,EAAKA,OAAOrnB,KAAZ,gBAKd,EAAK2K,MAAQ,CACXxG,KAAM,KACN8iB,SAAU,KACV1mB,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnC1E,QAAS,KACT3E,GAAI,KACJsmB,SAAU,GACVthB,OAAQ,MAlBE,E,kFAwBZyE,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,eAAgBvM,KAAKuD,aACnC+I,EAAWC,GAAG,cAAevM,KAAKqD,e,6CAIlCiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,eAAgBxM,KAAKuD,aAC/C+I,EAAWE,eAAe,cAAexM,KAAKqD,e,0CAI9CrD,KAAK8L,a,iCAID9L,KAAKmT,SAASxR,OAAd,WACF+M,EAAsB,WAAY1O,KAAKmT,SAASxR,OAAd,UAAmC3B,KAAKgM,MAAMpK,S,6BAI7EwnB,GACL7oB,QAAQC,IAAI4oB,EAAQ,IACpB1a,EAAqB,WAAY1O,KAAKgM,MAAMnJ,GAAIumB,EAAQ,GAAIppB,KAAKgM,MAAMpK,S,+BAMvE8M,EAAyB,WADd,CAAC7L,GAAI7C,KAAKgM,MAAMnJ,GAAI2C,KAAMxF,KAAKgM,MAAMxG,KAAM8iB,SAAUtoB,KAAKgM,MAAMsc,UAChCtoB,KAAKgM,MAAMpK,S,wCAMtC6R,GAChBzT,KAAK6O,SAAS4E,K,oCAOdzT,KAAK+U,UAAUC,SAAS,gB,oCAIxB,IAAIxN,EAAU8E,EAAWoD,aACrB3P,EAAQuM,EAAWsC,WACnBpH,GAAqB,YAAVzH,GACbC,KAAK6O,SAAS,CACZhM,GAAI2E,EAAQ3E,GACZ2E,QAASA,EACThC,KAAMgC,EAAQhC,KACd8iB,SAAW9gB,EAAQ8gB,SACnBzgB,OAAQL,EAAQK,W,+BAUZ,IAAD,EACmC7H,KAAKgM,MAAxCxE,EADA,EACAA,QAAShC,EADT,EACSA,KAAM8iB,EADf,EACeA,SAAUzgB,EADzB,EACyBA,OAChC,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQlC,MAAOpB,EAAKolB,aAAchW,SAAUpP,EAAKqP,OACjD,kBAAC,IAAD,KAAarP,EAAKolB,cAClB,kBAAC,GAAD,CAAaniB,QAASA,EACpBhC,KAAMA,EAAMqC,OAAQA,EAAQygB,SAAUA,EAAUI,OAAQ1oB,KAAK0oB,OAC9DjX,OAAQzR,KAAKyR,OAAQmD,SAAS,EAC9BxD,aAAcpR,KAAKkT,yB,GAnGejE,a,2BCwG5B2a,GAxGI,SAACnlB,GAuBlB,GAtBFlE,QAAQC,IAAIiE,GAsBNA,EAAM2D,QAAU3D,EAAM2D,OAAOyhB,MAAO,CAAC,IACjCC,EAAeC,0BAAetlB,EAAM2D,OAAOyhB,OAC3CG,EAAcC,eAAYC,kBAAkBJ,GAclD,OACE,kBAAC,IAAM1kB,SAAP,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,OAIF,kBAAC,IAAD,CAAM2N,eAAA,GAnBJtO,EAAM2D,OAAO+hB,SACP,kBAAC,IAAD,CAAUxkB,MAAOlB,EAAM2D,OAAO+hB,SAASxkB,MAAO8B,KAAM,UAAYhD,EAAM2D,OAAO+hB,SAAStnB,KAE5F4B,EAAM2D,OAAOgiB,SACP,kBAAC,IAAD,CAAUzkB,MAAOlB,EAAM2D,OAAOgiB,SAASzkB,MAAO8B,KAAM,UAAYhD,EAAM2D,OAAOgiB,SAASvnB,UADhG,GAoBE,kBAAC,IAAD,CAAMkQ,eAAA,GACJ,kBAAC,IAAD,CACE9Q,IAAK,UAAYwC,EAAM2D,OAAOZ,QAAQ3E,GACtC8C,MAAOlB,EAAM2D,OAAOZ,QAAQE,SAC5BpB,MAAM,IACN,yBAAKqB,KAAK,QAAQC,IAAKnD,EAAM2D,OAAOZ,QAAQK,OAAQC,MAAM,KAAKC,OAAO,SAO1E,kBAAC,IAAD,KAAaxD,EAAKoB,OAClB,kBAAC,IAAD,CAAMoN,eAAA,GACJ,kBAAC,IAAD,KAAWtO,EAAM2D,OAAOzC,QAG1B,kBAAC,IAAD,KAAapB,EAAK6V,SAClB,kBAAC,UAAD,CAAQ4P,YAAaA,EACnBK,QAAS,CAAE3gB,QAAS,IACpB4gB,UAAU,IAEZ,kBAAC,IAAD,CAAMvX,eAAA,GACJ,kBAAC,IAAD,CAAUpN,MAtChB,SAAkBsU,GAChB,IAAI5P,EAAO,IAAI6C,KAAK,IAAIlE,OAAOC,MAAMgR,IACrC,OAAQ,kBAAC,IAAD,CAAQ5P,KAAMA,EAAM6P,SAAO,IAoCdF,CAASvV,EAAM2D,OAAO+R,kBAGzC,kBAAC,IAAD,KAAa5V,EAAKgmB,aAClB,kBAAC,IAAD,KACG9lB,EAAM2D,OAAOmiB,YAAYvoB,KAAI,SAACwoB,GAAD,OAC5B,wBAAI1lB,UAAU,IACZ,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,cACb,yBAAKA,UAAU,cACb,uBAAGA,UAAU,gBAAgBc,OAAO,SAAS6B,KAAM+iB,EAAWjkB,MAC5D,uBAAGzB,UAAU,4BAA4BE,cAAY,SACpDwlB,EAAWC,kBAnFhC,WACE,GAAIhmB,EAAMwX,OAAOE,SAAS,gBACxB,OACE,kBAAC,GAAD,CACE1a,MAAOgD,EAAME,KAAM8M,OAAQhN,EAAM2X,cACjChL,aAAc3M,EAAM2M,aAAcoJ,QAAS/V,EAAM+V,QACjDC,SAAUhW,EAAMgW,SAAUI,YAAapW,EAAMoW,YAC7CG,IAAKvW,EAAMuW,MAqFZ0P,GA9EP,WACE,GAAIjmB,EAAMgW,SACT,OAAQ,kBAAC,GAAD,CACPA,SAAUhW,EAAMgW,SAAUc,qBAAsB9W,EAAM8W,qBACtDO,SAAUrX,EAAMqX,SAAWN,eAAgB/W,EAAM+W,iBA2E9Cf,IAML,OAAQ,MCnGSxH,G,YACnB,aAAe,IAAD,8BACZ,+CACK5P,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAKG,QAAU,EAAKA,QAAQH,KAAb,gBACf,EAAK+a,cAAgB,EAAKA,cAAc/a,KAAnB,gBACrB,EAAKyb,cAAgB,EAAKA,cAAczb,KAAnB,gBACrB,EAAKka,qBAAuB,EAAKA,qBAAqBla,KAA1B,gBAC5B,EAAKya,SAAW,EAAKA,SAASza,KAAd,gBAChB,EAAKma,eAAiB,EAAKA,eAAena,KAApB,gBACtB,EAAKwZ,YAAc,EAAKA,YAAYxZ,KAAjB,gBAKnB,EAAK2K,MAAQ,CACX5D,OAAQ,KACRvF,GAAI,KACJnB,KAAM,EACNipB,gBAAiB,KACjBC,aAAa,EACbzP,eAAgB,GAChBV,SAAU,KACVwB,OAAQ,KACRzB,QAAS,KACT5Y,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnC8O,IAAK9T,IAAOC,IAAIC,UAAUC,OAAO,KA3BvB,E,kFAiCZiF,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,eAAgBvM,KAAKuD,aACnC+I,EAAWC,GAAG,WAAYvM,KAAKwB,SAC/B8K,EAAWC,GAAG,mBAAoBvM,KAAKqD,e,6CAKvCiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,eAAgBxM,KAAKuD,aAC/C+I,EAAWE,eAAe,WAAYxM,KAAKwB,SAC3C8K,EAAWE,eAAe,mBAAoBxM,KAAKqD,e,0CAInDqL,EAAsB,UAAW1O,KAAKmT,SAASxR,OAAd,SAAkC3B,KAAKgM,MAAMpK,S,oCAI9E,IAAIwG,EAASkE,EAAWoD,aACpB3P,EAAQuM,EAAWsC,WACnBxG,GAAoB,WAAVrI,GACZC,KAAK6O,SAAS,CACZzG,OAAQA,EACRvF,GAAIuF,EAAOvF,GACX4X,SAAUrS,EAAO4U,aACjBf,OAAQ7T,EAAO6U,YACfzC,QAAS,S,uEAUb,IAAIpS,EAASkE,EAAWoD,aACpB3P,EAAQuM,EAAWsC,WACnBxG,GAAoB,WAAVrI,GACZC,KAAK6O,SAAS,CACZzG,OAAQA,EACRqS,SAAUrS,EAAO4U,aACjBtb,KAAM,IAGV1B,KAAKwN,GAAG,YAAYxN,KAAKgM,MAAMgP,KAAKkC,IAAI,M,iCAG9B,IAAD,OACTld,KAAK6O,SAAS,CAAEnN,KAAM1B,KAAKgM,MAAMtK,KAAO,IAAK,WAC3CgN,EAAsB,UAAW,EAAKyE,SAASxR,OAAd,SAAkC,EAAKqK,MAAMpK,MAAO,EAAKoK,MAAMtK,W,4BAKlG,GAAI1B,KAAKgM,MAAM5D,OACb,OACE,kBAAC,IAAD,CAAKX,KAAM,YAAczH,KAAKgM,MAAM5D,OAAOvF,GAAK,QAAS+C,OAAO,aAAa2I,SAAS,cAAc5G,KAAK,QAAQqD,MAAM,QACrH,kBAAC,IAAD,CAAM6G,IAAI,UAAUC,OAAO,UAAUC,GAAG,kBACxC,kBAAC,IAAD,CAAMF,IAAI,WAAWC,OAAO,WAAWC,GAAG,sB,wCAMhC0B,GAChBzT,KAAK6O,SAAS4E,K,sCAOd/E,EAAsB,WADX,CAAE8O,iBAAkB,SAAUC,eAAgBzd,KAAKgM,MAAMnJ,GAAIuX,QAASpa,KAAKgM,MAAMmP,eAAiBuC,SAAU1d,KAAKgM,MAAMwO,SAC1Fxa,KAAKgM,MAAMpK,S,2CAIhCiB,GACnB,IAAM4J,EAAOzM,KACDyM,EAAKE,IACbgR,OAAO5H,QAAQxR,EAAKqZ,aAAcrZ,EAAKsZ,OAAO,kBAAMpR,EAAKqQ,cAAcja,Q,oCAG/DA,GAEZ6L,EAAyB,WADd,CAAE7L,GAAIA,GAC0B7C,KAAKgM,MAAMpK,MAAO5B,KAAKgM,MAAMtK,Q,qCAG3DmB,GACb7C,KAAK6O,SAAS,CAAE2L,QAAS3X,IACzB7C,KAAKwN,GAAG,YAAYuQ,U,oCAIpB/d,KAAK6O,SAAS,CAAE2L,QAAS,S,+BAKjB,IAAD,EAC4Cxa,KAAKgM,MAAhD5D,EADD,EACCA,OAAQqS,EADT,EACSA,SAAWwB,EADpB,EACoBA,OAAQzB,EAD5B,EAC4BA,QAASQ,EADrC,EACqCA,IAC5C,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQrV,MAAOpB,EAAK2D,SACpB,kBAAC,IAAD,CAAMoD,UAAU,SACd,kBAAC,IAAD,CAAMC,GAAG,WAGX,kBAAC,IAAD,MACCvL,KAAK6T,MACN,kBAAC,GAAD,CACEzL,OAAQA,EAAQqS,SAAUA,EAAU2B,cAAepc,KAAKoc,cACxDb,qBAAsBvb,KAAKub,qBAAsB9J,OAAQzR,KAAKyR,OAC9DL,aAAcpR,KAAKkT,kBAAmB4I,SAAU9b,KAAK8b,SACrDG,OAAQA,EACRT,eAAgBxb,KAAKwb,eAAgBhB,QAASA,EAASK,YAAa7a,KAAK6a,YACzEG,IAAKA,S,GAvJqB/L,aCuCrBhH,GA/CI,SAACxD,GAClB,OAAIA,EAAMyD,SAAWzD,EAAMyD,QAAQ9H,OAAS,EAExC,kBAAC,IAAMgF,SAAP,KACE,kBAAC,IAAD,CAAKyW,OAAK,GACPpX,EAAMyD,QAAQlG,KAAI,SAACoG,GAAD,OACjB,kBAAC,IAAD,CAAKN,MAAM,MAAM0D,YAAY,KAAKvJ,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,KACjE,kBAAC,IAAD,CAAMvC,UAAU,sBACd,kBAAC,IAAD,CAAYA,UAAU,aACtB,yBAAKA,UAAU,wBAAuB,kBAAC,IAAD,CAAM+lB,QAASziB,EAAOZ,QAAQE,SAAUD,KAAM,aAAeW,EAAOZ,QAAQ3E,IAAI,yBAAK+E,IAAKQ,EAAOZ,QAAQK,OAAQE,OAAO,SAC5J,yBAAKjD,UAAU,uBACb,yBAAKA,UAAU,0BACb,kBAAC,IAAD,CAAMA,UAAU,aAAa2C,KAAM,aAAeW,EAAOZ,QAAQ3E,IAAKuF,EAAOZ,QAAQE,SAAS2B,UAAU,EAAG,MAE7G,kBAAC,IAAD,CAAMwhB,QAAStmB,EAAKyL,KAAMlL,UAAU,aAAa2C,KAAM,YAAcW,EAAOvF,IAAKuF,EAAOzC,MAAM0D,UAAU,EAAG,IAAM,OACnH,yBAAKvE,UAAU,wBAIjB,kBAAC,IAAD,CAAaA,UAAU,yBACpBsD,EAAOgS,QAAQ/Q,UAAU,EAAG,KAAO,MACpC,yBAAKvE,UAAU,sBACb,kBAAC,IAAD,CAAMA,UAAU,aAAa2C,KAAM,YAAcW,EAAOvF,IACrD0B,EAAKyL,KACN,uBAAGlL,UAAU,sCAQ3B,kBAAC,IAAD,CAAK+W,OAAK,GACR,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAK/W,UAAU,gBACf,uBAAGA,UAAU,aAAa0L,QAAS,kBAAM/L,EAAMqX,aAC5CvX,EAAKwX,OAGR,kBAAC,IAAD,QAKE,8BCIG+O,GAjDK,SAACrmB,GACnB,OACE,kBAAC,IAAD,CAAMsmB,aAAa,GACjB,kBAAC,IAAD,CAAQplB,MAAOpB,EAAK2D,SAClB,kBAAC,IAAD,CAAMoD,UAAU,SACd,kBAAC,IAAD,CAAMC,GAAG,UAEX,kBAAC,IAAD,CAAW2c,OAAO,GAChB,kBAAC,IAAD,CACEvO,kBAAmBpV,EAAKqV,OACxB1H,YAAa3N,EAAKuU,OAClBrT,SAAU,SAACC,GACTjB,EAAMqU,OAAO,CAAEI,MAAOxT,EAAEE,OAAOC,aAKvC,kBAAC,IAAD,CAASmlB,QAAM,EAACC,QAAM,GAClB,kBAAC,IAAD,CAAMC,QAAQ,SAASC,eAAa,GAAC,uBAAGrmB,UAAU,wBAClD,kBAAC,IAAD,CAAMomB,QAAQ,UAAS,uBAAGpmB,UAAU,wBACpC,kBAAC,IAAD,CAAMomB,QAAQ,UAAS,uBAAGpmB,UAAU,2BAExC,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAK2C,KAAK,eAAe7B,OAAO,aAAa2I,SAAS,cAAc5G,KAAK,QAAQqD,MAAM,cACrF,kBAAC,IAAD,CAAM6G,IAAI,SAASC,OAAO,SAASC,GAAG,iBACtC,kBAAC,IAAD,CAAMF,IAAI,WAAWC,OAAO,WAAWC,GAAG,oBAE5C,kBAAC,IAAD,CAAMqZ,WAAS,GACb,kBAAC,IAAD,CAAKvoB,GAAG,QAAQiC,UAAU,eAAeumB,WAAS,GAChD,kBAAC,IAAD,KACE,kBAAC,GAAD,CAAYnjB,QAASzD,EAAMyD,QAASojB,YAAa7mB,EAAM6mB,YAAaxP,SAAUrX,EAAMqX,aAIxF,kBAAC,IAAD,CAAKjZ,GAAG,QAAQiC,UAAU,gBACxB,kBAAC,IAAD,KACE,kBAAC,GAAD,CAAYoD,QAASzD,EAAMyD,QAASojB,YAAa7mB,EAAM6mB,YAAaxP,SAAUrX,EAAMqX,aAIxF,kBAAC,IAAD,CAAKjZ,GAAG,QAAQiC,UAAU,gBACxB,kBAAC,IAAD,KACE,kBAAC,GAAD,CAAYoD,QAASzD,EAAMyD,QAASojB,YAAa7mB,EAAM6mB,YAAaxP,SAAUrX,EAAMqX,gBC9CzF,SAASyP,KAGZ,GADYviB,OAAOiD,aAAaC,QAAQ,SAEtC,OAAO,EAEPlM,KAAK+U,UAAUC,SAAS,W,ICCTwW,G,YACnB,aAAe,IAAD,8BACZ,+CACKhqB,QAAU,EAAKA,QAAQH,KAAb,gBACf,EAAKkqB,SAAWA,GAASlqB,KAAT,gBAChB,EAAKiqB,YAAc,EAAKA,YAAYjqB,KAAjB,gBACnB,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAKyX,OAAS,EAAKA,OAAOzX,KAAZ,gBACd,EAAKya,SAAW,EAAKA,SAASza,KAAd,gBAGhB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnChE,QAAS,GACTgR,MAAO,KACPxX,KAAM,GAdI,E,kFAkBZ4K,EAAWC,GAAG,WAAYvM,KAAKwB,SAC/B8K,EAAWC,GAAG,eAAgBvM,KAAKuD,e,6CAInC+I,EAAWE,eAAe,WAAYxM,KAAKwB,SAC3C8K,EAAWE,eAAe,eAAgBxM,KAAKuD,e,0CAI/CvD,KAAKurB,WACLvrB,KAAK8L,a,iCAIL4C,EAAkB,UAAW1O,KAAKgM,MAAMtK,KAAM,GAAI1B,KAAKgM,MAAMpK,S,6BAGxD6R,GAAM,IAAD,OACVzT,KAAK6O,SAAS,CAAE3G,QAAS,GAAIxG,KAAM,IACnC1B,KAAK6O,SAAS4E,GAAK,WACjB/E,EAAkB,iBAAkB,EAAK1C,MAAMtK,KAAM,CAAE0b,EAAG,EAAKpR,MAAMkN,a,oCAMvE,IAAI9Q,EAASkE,EAAWoD,aACpB3P,EAAQuM,EAAWsC,WACnBxG,GAAoB,WAAVrI,GACZC,KAAK6O,SAAS,CAAE3G,QAASlI,KAAKgM,MAAM9D,QAAQlG,KAAI,SAAAypB,GAAE,OAAKA,EAAG5oB,KAAOuF,EAAOvF,GAAKf,OAAO2nB,OAAO,GAAIgC,EAAIrjB,GAAUqjB,S,iCAKrG,IAAD,OACLzrB,KAAKgM,MAAMkN,OAASlZ,KAAKgM,MAAMkN,MAAM9Y,OAAS,EAChDJ,KAAK6O,SAAS,CAAEnN,KAAM1B,KAAKgM,MAAMtK,KAAO,IAAK,WAC3CgN,EAAkB,iBAAkB,EAAK1C,MAAMtK,KAAM,CAAC0b,EAAG,EAAKpR,MAAMkN,OAAS,EAAKlN,MAAMpK,UAG1F5B,KAAK6O,SAAS,CAAEnN,KAAM1B,KAAKgM,MAAMtK,KAAO,IAAK,WAC3CgN,EAAkB,UAAW,EAAK1C,MAAMtK,KAAM,GAAI,EAAKsK,MAAMpK,Y,gCAMjE,IAAIsG,EAAUoE,EAAW9K,UACrBzB,EAAQuM,EAAWsC,WACnB1G,EAAQ9H,OAAS,GAAe,WAAVL,GACxBC,KAAK6O,SAAS,CACZ3G,QAASlI,KAAKgM,MAAM9D,QAAQ4Y,OAAO5Y,O,kCAK7BwjB,EAAkBC,EAAoBC,GAA6D,IAAvCC,EAAsC,uDAAxB,KAAMC,EAAkB,uDAAN,KAClG3rB,EAAO,CAAEurB,iBAAkBA,EAAkBC,mBAAoBA,EAAoBC,qBAAsBA,EAAsBC,YAAaA,EAAaC,UAAWA,GAC1Kpd,EAAsB,eAAgBvO,EAAMH,KAAKgM,MAAMpK,S,+BAG/C,IACAsG,EAAYlI,KAAKgM,MAAjB9D,QACR,OAAQ,kBAAC,GAAD,CAAaojB,YAAatrB,KAAKsrB,YAAaxP,SAAU9b,KAAK8b,SAAU5T,QAASA,EAAS4Q,OAAQ9Y,KAAK8Y,a,GAnF5E7E,IAAMhF,W,qCCDpC1N,GAAQD,EAAKC,OAgCJwqB,GA9BI,SAACtnB,GAalB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KAAaF,EAAKimB,YAClB,kBAAC,IAAD,KACF,kBAAC,KAAD,CACEwB,gBAhBoB,SAAC,GAAa,EAAXC,KAAa,MAAO,CAAE/C,OAAO,CAAC,gBAAgBzkB,EAAMkB,MAAO,eAAgBlB,EAAMilB,MAAO3mB,IAAKxB,GAAO,aAiB3H2qB,eAduB,SAAC,EAAgBrhB,GAAY,IAA1BohB,EAAyB,EAAzBA,KAAMnpB,EAAmB,EAAnBA,KAAqBvC,QAAQC,IAAIqK,EAAQohB,EAAMnpB,IAe/EqpB,SAZiB,SAACC,EAAOC,GAC3B9rB,QAAQC,IAAI4rB,EAAMpqB,KAAI,SAAAsqB,GAAC,OAAIA,EAAEL,SAC7BI,EAASE,SAAQ,SAAAD,GAAC,OAAIA,EAAE1U,aAWtB4U,YAAY,EACZC,sBAAsB,EACtBC,aAAcnoB,EAAKooB,oB,qBCkEVC,GAzFI,SAACnoB,GAqClB,OAAIA,EAAM2D,OAEN,kBAAC,IAAMhD,SAAP,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KAAab,EAAKsoB,YAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEzjB,MAAO7E,EAAKoB,MAAQ,IACpBjF,KAAK,OACLwR,YAAY,MACZ+I,UAAU,KACV5I,aAAc5N,EAAMkB,MACpBwM,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAEzL,MAAOD,EAAEE,OAAOC,WAGzC,kBAAC,UAAD,CACEmkB,YAAavlB,EAAMulB,YACnB9X,YAAa3N,EAAK6V,QAClB0S,aAAc,CACZnR,OAAQ,KACRoR,aAAcC,MAEhB3C,QAAS,CACP3gB,QAAS,CAAC,SAAU,OAAQ,QAC5BmQ,OAAQ,CAAEnQ,QAAS,CAAC,OAAQ,SAAU,cACtCujB,MAAO,CACLC,eAAgBzoB,EAAM0oB,oBACtBC,cAAc,IAGlBC,oBAAqB5oB,EAAM4oB,uBAI/B,kBAAC,IAAD,KAtER,WACE,GAAI5oB,EAAMmQ,QACR,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQ9P,UAAU,eAAe+T,SAAO,EAAC7N,MAAM,MAAM2J,UAAWlQ,EAAMmQ,QAASpE,QAAS,kBAAM/L,EAAM6oB,wBAAwB/oB,EAAKua,SAmEhIC,GACC,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAMja,UAAU,eAChB,kBAAC,IAAD,CAAQA,UAAU,UAAU0M,MAAI,EAAChB,QAAS,SAAC9K,GAAD,OAAOjB,EAAMgN,OAAO/L,KAAMnB,EAAKkN,UAG7E,kBAAC,GAAD,CAAY8b,eAAe,SAAS7D,KAAMjlB,EAAMilB,QAO5C,MC9FL,SAASyD,GAAoBrqB,GAClC,OAAO,IAAI0qB,SACT,SAACC,EAASC,GACR,IAAMC,EAAM,IAAIC,eAChBD,EAAIE,KAAK,OAAQvsB,EAAKC,OAAO,YAC7BosB,EAAIG,iBAAiB,gBAAiB,6BACtC,IAAM3tB,EAAO,IAAI8C,SACjB9C,EAAK+C,OAAO,gBAAiBJ,GAC7B6qB,EAAII,KAAK5tB,GACTwtB,EAAIK,iBAAiB,QAAQ,WAC3B,IAAMzrB,EAAWiS,KAAKC,MAAMkZ,EAAIM,cAChCR,EAAQlrB,MAEVorB,EAAIK,iBAAiB,SAAS,WAC5B,IAAMtrB,EAAQ8R,KAAKC,MAAMkZ,EAAIM,cAC7BP,EAAOhrB,S,ICSMwrB,G,YACnB,aAAe,IAAD,8BACZ,+CACKzc,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAKgsB,oBAAsB,EAAKA,oBAAoBhsB,KAAzB,gBAC3B,EAAKG,QAAU,EAAKA,QAAQH,KAAb,gBACf,EAAK8rB,oBAAsBA,GAAoB9rB,KAApB,gBAG3B,EAAK2K,MAAQ,CACX5D,OAAQ,GACR4hB,YAAaC,eAAYkE,cACzBvsB,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCvG,MAAO,KACP2lB,YAAa,KACb5B,KAAMxiB,IAAOknB,IAAIC,OAAOC,UAAUpnB,IAAOC,IAAIC,UAAUC,OAAO,KAC9D3F,KAAM,GAjBI,E,kFAuBZ4K,EAAWC,GAAG,eAAgBvM,KAAKuD,aACnC+I,EAAWC,GAAG,WAAYvM,KAAKwB,W,6CAI/B8K,EAAWE,eAAe,eAAgBxM,KAAKuD,aAC/C+I,EAAWE,eAAe,WAAYxM,KAAKwB,W,+BAM3CxB,KAAKwN,GAAG,QAAQ4F,OAChBpT,KAAKwN,GAAG,eAAepH,KAAK7B,EAAK8O,YAGjC,IACMxN,EADS0oB,wBAAavuB,KAAKgM,MAAMge,YAAYwE,qBAAqBC,OACnDzsB,KAAI,SAAA0sB,GAAK,OAAMA,EAAMtoB,KAAKuoB,OAAmBD,EAAMtoB,KAAf,QAAqBlE,KAAK,MAC/E0sB,EAAS,KACTC,EAAS,KAC6B,SAAtC7uB,KAAKmT,SAASxR,OAAd,aACFitB,EAAS5uB,KAAKmT,SAASxR,OAAd,UAE+B,SAAtC3B,KAAKmT,SAASxR,OAAd,aACFktB,EAAS7uB,KAAKmT,SAASxR,OAAd,UAEX,IAAIxB,EAAO,CAAEgd,QAASyR,EAAQ5L,QAAS6L,EAAQnF,KAAM1pB,KAAKgM,MAAM0d,KAAM/jB,MAAO3F,KAAKgM,MAAMrG,MAAOyU,QAASvU,EAAOgkB,MAAO0E,wBAAavuB,KAAKgM,MAAMge,YAAYwE,sBAC1J,GAAIxuB,KAAKgM,MAAMrG,MACb+I,EAAsB,UAAWvO,EAAMH,KAAKgM,MAAMpK,WAC7C,CACQ5B,KACR2M,IAAIgR,OAAOE,MAAMtZ,EAAKwc,gBAAiBxc,EAAKsZ,U,0CAIjCmM,GAClBhqB,KAAK6O,SAAS,CACZmb,kB,wCAKcvW,GAChBzT,KAAK6O,SAAS4E,K,0CAKdzT,KAAK8L,a,6EAOYhB,EAAMgkB,M,uEAQvB,IAAI1mB,EAASkE,EAAWoD,aACpB3P,EAAQuM,EAAWsC,WACnBxG,GAAoB,WAAVrI,IACZC,KAAKwN,GAAG,QAAQY,OAChBpO,KAAK+U,UAAUC,SAAS,YAAa5M,EAAOvF,O,+BAStC,IAAD,EAC+B7C,KAAKgM,MAAnC5D,EADD,EACCA,OAAQ4hB,EADT,EACSA,YAAaN,EADtB,EACsBA,KAC7B,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQ/jB,MAAOpB,EAAKwqB,YAAcpb,SAAUpP,EAAKqP,OACjD,kBAAC,GAAD,CAAYxL,OAAQA,EAAQshB,KAAMA,EAAMM,YAAaA,EAAaqD,oBAAqBrtB,KAAKqtB,oBAAqB5b,OAAQzR,KAAKyR,OAAQL,aAAcpR,KAAKkT,kBAAmBia,oBAAqBntB,KAAKmtB,2B,GAzGpKle,aCArB+f,G,YACnB,aAAe,IAAD,8BACZ,+CACKvd,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAKgC,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAKgsB,oBAAsB,EAAKA,oBAAoBhsB,KAAzB,gBAC3B,EAAKG,QAAU,EAAKA,QAAQH,KAAb,gBACf,EAAK4tB,iBAAmB,EAAKA,iBAAiB5tB,KAAtB,gBACxB,EAAK+f,eAAiB,EAAKA,eAAe/f,KAApB,gBACtB,EAAKisB,oBAAsB,EAAKA,oBAAoBjsB,KAAzB,gBAC3B,EAAK6tB,aAAe,EAAKA,aAAa7tB,KAAlB,gBAIpB,EAAK2K,MAAQ,CACX5D,OAAQ,KACR4hB,YAAaC,eAAYkE,cACzBvsB,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCwd,KAAMxiB,IAAOknB,IAAIC,OAAOC,UAAUpnB,IAAOC,IAAIC,UAAUC,OAAO,KAC9DxE,GAAI,KACJ8C,MAAO,KACPkkB,MAAO,KACP+E,OAAS,KACTC,OAAQ,KACRntB,KAAM,GAzBI,E,kFA8BZ4K,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,eAAgBvM,KAAKuD,aACnC+I,EAAWC,GAAG,WAAYvM,KAAKwB,SAC/B8K,EAAWC,GAAG,mBAAoBvM,KAAKohB,kB,6CAIvC9U,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,eAAgBxM,KAAKuD,aAC/C+I,EAAWE,eAAe,WAAYxM,KAAKwB,SAC3C8K,EAAWE,eAAe,mBAAoBxM,KAAKohB,kB,+BAInD,IACMvb,EADS0oB,wBAAavuB,KAAKgM,MAAMge,YAAYwE,qBAAqBC,OACnDzsB,KAAI,SAAA0sB,GAAK,OAAMA,EAAMtoB,KAAKuoB,OAAmBD,EAAMtoB,KAAf,QAAqBlE,KAAK,MAC/E0sB,EAAS,KACTC,EAAS,KACT7uB,KAAKgM,MAAMrH,OACbiqB,EAAS5uB,KAAKgM,MAAMrH,KAAK9B,IAEvB7C,KAAKgM,MAAMvF,OACbooB,EAAS7uB,KAAKgM,MAAMvF,KAAK5D,IAO3B6L,EAAyB,UALd,CACT7L,GAAI7C,KAAKgM,MAAMnJ,GAAIsa,QAASyR,EAAQ5L,QAAS6L,EAC7CnF,KAAM1pB,KAAKgM,MAAM0d,KAAM/jB,MAAO3F,KAAKgM,MAAMrG,MAAOyU,QAASvU,EACzDgkB,MAAO0E,wBAAavuB,KAAKgM,MAAMge,YAAYwE,sBAEHxuB,KAAKgM,MAAMpK,S,0CAIrD5B,KAAK8L,a,iCAIkBoC,IAAWpO,SAC/BqO,MAAMC,KAAK,CAAEhI,KAAM7B,EAAK8J,UAAWC,aAAc,IAAMC,SAAU,QAChEvO,KAAKmT,SAASxR,OAAd,UACF+M,EAAsB,UAAW1O,KAAKmT,SAASxR,OAAd,SAAkC3B,KAAKgM,MAAMpK,S,uEAShF,IAAIwG,EAASkE,EAAWoD,aACpB3P,EAAQuM,EAAWsC,WACvB,GAAIxG,GAAoB,WAAVrI,EAAoB,CAChC,IAAM+pB,EAAeC,0BAAe3hB,EAAOyhB,OACrCG,EAAcC,eAAYC,kBAAkBJ,GAClD9pB,KAAK6O,SAAS,CACZzG,OAAQA,EACRzC,MAAOyC,EAAOzC,MACd9C,GAAIuF,EAAOvF,GACX8B,KAAMyD,EAAOgiB,SACb3jB,KAAM2B,EAAO+hB,SACbI,YAAaniB,EAAOmiB,YACpBP,YAAaA,IAGjBzpB,QAAQC,IAAI4H,K,wCAGIqL,GAChBzT,KAAK6O,SAAS4E,K,0CAGIuW,GAChBhqB,KAAK6O,SAAS,CACdmb,kB,uCAIannB,GACf7C,KAAK6O,SAAS,CACZ0b,YAAavqB,KAAKgM,MAAMue,YAAYvJ,QAAO,SAAUwJ,GACnD,OAAOA,EAAW3nB,KAAOA,OAI7B6L,EAAyB,UADd,CAAE7L,GAAIA,GACyB7C,KAAKgM,MAAMpK,MAAO5B,KAAKgM,MAAMtK,Q,oCAKvE,IAAI0G,EAASkE,EAAWoD,aACpB3P,EAAQuM,EAAWsC,WACnBxG,GAAoB,WAAVrI,GACZC,KAAK+U,UAAUC,SAAS,YAAa5M,EAAOvF,M,4CAOjC7C,KACI2M,IACbgR,OAAO5H,QAAQxR,EAAKqZ,aAAcrZ,EAAKsZ,MAF9B7d,KAE0CkvB,gB,qCAKvDxgB,EAAyB,UADd,CAAE7L,GAAI7C,KAAKgM,MAAMnJ,IACc7C,KAAKgM,MAAMpK,S,uCAIjD5B,KAAKgM,MAAMrH,MACb3E,KAAK+U,UAAUC,SAAS,UAAUhV,KAAKgM,MAAMrH,KAAK9B,IAEhD7C,KAAKgM,MAAMvF,MACbzG,KAAK+U,UAAUC,SAAS,UAAUhV,KAAKgM,MAAMvF,KAAK5D,M,+BAQ5C,IAAD,EACkD7C,KAAKgM,MAAtD5D,EADD,EACCA,OAAQ4hB,EADT,EACSA,YAAaN,EADtB,EACsBA,KAAM/jB,EAD5B,EAC4BA,MAAO4kB,EADnC,EACmCA,YAC1C,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQ5kB,MAAOpB,EAAK6D,OAAQuL,SAAUpP,EAAKqP,OAC3C,kBAAC,IAAD,KAAarP,EAAK4qB,eAClB,kBAAC,GAAD,CACA/mB,OAAQA,EAAQmiB,YAAaA,EAAa5kB,MAAOA,EACjD+jB,KAAMA,EAAMM,YAAaA,EAAapV,SAAS,EAAM0Y,oBAAqBttB,KAAKstB,oBAC/ED,oBAAqBrtB,KAAKqtB,oBAAqB5b,OAAQzR,KAAKyR,OAC5DL,aAAcpR,KAAKkT,kBAAmB+b,iBAAkBjvB,KAAKivB,wB,GAnK3BhgB,aCM3BmgB,GA1BG,SAAC3qB,GACjB,OAAIA,EAAMkU,MAEN,kBAAC,IAAMvT,SAAP,KACE,kBAAC,IAAD,KAAab,EAAKoB,OAClB,kBAAC,IAAD,CAAMoN,eAAA,GACJ,kBAAC,IAAD,KAAWtO,EAAMkU,MAAMhT,QAGzB,kBAAC,IAAD,CAAMb,UAAU,SACfL,EAAMkU,MAAM0W,aAAartB,KAAI,SAACgG,GAAD,OAC5B,kBAAC,IAAD,CACE/F,IAAK,cAAgB+F,EAAKR,QAAQ3E,GAClC8C,MAAOqC,EAAKR,QAAQE,SACpBpB,MAAM,IACN,yBAAKqB,KAAK,QAAQC,IAAKI,EAAKR,QAAQK,OAAQC,MAAM,KAAKC,OAAO,aAQ/D,MCRUkL,G,YACnB,aAAe,IAAD,8BACZ,+CACK5P,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAKoQ,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBAKzB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCyM,MAAO,KACP9V,GAAI,KACJwO,QAAS,MAbC,E,kFAkBZ/E,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,mBAAoBvM,KAAKqD,e,6CAIvCiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,mBAAoBxM,KAAKqD,e,0CAInDqL,EAAsB,SAAU1O,KAAKmT,SAASxR,OAAd,QAAiC3B,KAAKgM,MAAMpK,S,oCAI5E,IAAI+W,EAAQrM,EAAWoD,aACnB3P,EAAQuM,EAAWsC,WACnB+J,GAAmB,UAAV5Y,GACXC,KAAK6O,SAAS,CACZ8J,MAAOA,EACP9V,GAAI8V,EAAM9V,KAGd7C,KAAKwN,GAAG,QAAQY,S,+BAKhBpO,KAAKwN,GAAG,QAAQ4F,OAChBpT,KAAKwN,GAAG,eAAepH,KAAK7B,EAAK8O,YAEjC3E,EAAsB,oBADX,CAAEoP,SAAU9d,KAAKgM,MAAMnJ,GAAIwO,QAASrR,KAAKgM,MAAMqF,SACTrR,KAAKgM,MAAMpK,S,wCAI5C6R,GAChBzT,KAAK6O,SAAS4E,K,4BAId,GAAIzT,KAAKgM,MAAM2M,MACb,OACE,kBAAC,IAAD,CAAKlR,KAAM,WAAazH,KAAKgM,MAAM2M,MAAM9V,GAAK,QAAS+C,OAAO,aAAa2I,SAAS,cAAc5G,KAAK,QAAQqD,MAAM,QACnH,kBAAC,IAAD,CAAM6G,IAAI,UAAUC,OAAO,UAAUC,GAAG,kBACxC,kBAAC,IAAD,CAAMF,IAAI,WAAWC,OAAO,WAAWC,GAAG,sB,+BAOxC,IACA4G,EAAU3Y,KAAKgM,MAAf2M,MACR,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQhT,MAAOpB,EAAKmU,OAAQ/E,SAAUpP,EAAKqP,OAC3C,kBAAC,IAAD,MACC5T,KAAK6T,MACN,kBAAC,GAAD,CACE8E,MAAOA,EAAQlH,OAAQzR,KAAKyR,OAC5BL,aAAcpR,KAAKkT,yB,GAhFOjE,aCKnBqgB,GArBC,SAAC7qB,GAEjB,OAAIA,EAAMiU,OAEN,kBAAC,IAAD,CAAMvS,WAAS,GACZ1B,EAAMiU,OAAO1W,KAAI,SAAC2W,GAAD,OAChB,kBAAC,IAAD,CACE1W,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,IACjCd,KAAM,WAAaoS,EAAM9V,GACzBkN,aAAa,EACbpK,MAAOgT,EAAMhT,MACbW,MAAM,GACNyN,SAAS,GACT3N,KAAK,SAKH,8BCHCmpB,GAdI,SAAC9qB,GAClB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQkB,MAAOpB,EAAKmU,OAAQ/E,SAAUpP,EAAKqP,OAE3C,kBAAC,IAAD,KAAarP,EAAK3E,MAClB,kBAAC,IAAD,CAAK6H,KAAK,cAAc7B,OAAO,aAAc2I,SAAS,cAAc5G,KAAK,QAAQqD,MAAM,cACrF,kBAAC,IAAD,CAAM6G,IAAI,SAASC,OAAO,SAASC,GAAG,iBACtC,kBAAC,IAAD,CAAMF,IAAI,WAAWC,OAAO,WAAWC,GAAG,oBAE5C,kBAAC,GAAD,CAAW2G,OAAQjU,EAAMiU,WCNVzF,G,YACnB,aAAe,IAAD,8BACZ,+CACKzR,QAAU,EAAKA,QAAQH,KAAb,gBACf,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCwM,OAAQ,MALE,E,kFASZpM,EAAWC,GAAG,WAAYvM,KAAKwB,W,6CAI/B8K,EAAWE,eAAe,WAAYxM,KAAKwB,W,0CAI3CxB,KAAK8L,a,iCAIkBoC,IAAWpO,SAC/BqO,MAAMC,KAAK,CAAEhI,KAAM7B,EAAK8J,UAAWC,aAAc,IAAMC,SAAU,QACpEG,EAAkB,SAAU1O,KAAKgM,MAAMtK,KAAM,GAAI1B,KAAKgM,MAAMpK,S,gCAI5D,IAAI8W,EAASpM,EAAW9K,UACpBzB,EAAQuM,EAAWsC,WACnB8J,GAAoB,UAAV3Y,GACZC,KAAK6O,SAAS,CACZ6J,OAAQA,M,+BAKJ,IACDA,EAAU1Y,KAAKgM,MAAf0M,OACP,OAAO,kBAAC,GAAD,CAAYA,OAAQA,Q,GAvCKzE,IAAMhF,WC2C3BugB,GA9CG,SAAC/qB,GAqBjB,OApBAlE,QAAQC,IAAIiE,GAqBV,kBAAC,IAAMW,SAAP,KACE,kBAAC,IAAD,KAAab,EAAKoU,OAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEvP,MAAO7E,EAAKoB,MACZjF,KAAK,OACLwR,YAAY,MACZG,aAAc5N,EAAMkB,MACpBwM,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAEzL,MAAOD,EAAEE,OAAOC,WAGzC,kBAAC,IAAD,CAAUF,MAhChB,WACE,IAAI4Y,EAAQ,CACV,6BACE,uBAAGzZ,UAAU,SAAS2C,KAAK,IAAI5E,GAAG,uBAChC,yBAAKiC,UAAU,oBACb,uBAAGA,UAAU,oCACZP,EAAK0T,SAFR,QAaN,OANIxT,EAAMgrB,UACRhrB,EAAMgrB,SAASztB,KAAI,SAACwF,GAClB+W,EAAMle,KAAK,kBAAC,IAAD,CAAM+F,KAAMoB,EAAQE,SAAUkT,YAAU,EAACpK,QAAS,kBAAM/L,EAAMirB,eAAeloB,EAAQ3E,WAI7F0b,EAecoR,MAInB,kBAAC,IAAD,CAAOre,QAAM,GACX,kBAAC,IAAD,CAAKC,IAAI,KACT,kBAAC,IAAD,CAAMzM,UAAU,eACd,kBAAC,IAAD,CAAQA,UAAU,UAAU0M,MAAI,EAACmD,UAAWlQ,EAAMmQ,QAASpE,QAAS/L,EAAMgN,QAASlN,EAAKkN,YCzB7Eme,G,YACnB,aAAe,IAAD,8BACZ,+CACKne,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAKwuB,aAAe,EAAKA,aAAaxuB,KAAlB,gBACpB,EAAKquB,eAAiB,EAAKA,eAAeruB,KAApB,gBAEtB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCyM,MAAO,GACP8W,SAAU,IAXA,E,kFAiBZnjB,EAAWC,GAAG,eAAgBvM,KAAKuD,e,6CAInC+I,EAAWE,eAAe,eAAgBxM,KAAKuD,e,+BAK/CmL,EAAsB,SADX,CAAC/I,MAAO3F,KAAKgM,MAAMrG,MAAO8pB,SAAUzvB,KAAKgM,MAAMyjB,UACpBzvB,KAAKgM,MAAMpK,S,wCAIjC6R,GAChBzT,KAAK6O,SAAS4E,K,oCAKdzT,KAAK+U,UAAUC,SAAS,c,qCAGXnS,GACb7C,KAAK6O,SAAS,CACZ4gB,SAAUzvB,KAAKgM,MAAMyjB,SAASzO,QAAO,SAAUxZ,GAC7C,OAAOA,EAAQ3E,KAAOA,S,oCAM1B7C,KAAK6vB,iB,qCAKL,IAAMpjB,EAAOzM,KACP0M,EAAMD,EAAKE,IACjBD,EAAI6S,aAAavS,OAAO,CACtBiK,OAAQ,QACRuI,SAAU,uBACV7Q,UAAU,EACV8Q,cAAe,KACfC,aAAc,WACdC,qBAAsBpb,EAAKqV,OAC3BgG,mBAAoBrb,EAAKsb,MACzBC,aAAcvb,EAAKwb,UACnBC,MAAO,GACPC,qBAAsB1b,EAAKuU,OAE3BqH,OAAQ,SAAUjH,EAAOkH,GACvB,IACIC,EAAU,GACO,IAAjBnH,EAAM9Y,OAOVsM,EAAI6T,QAAQ,CACVxd,IAAKzB,EAAKC,OAAS,mBACnBif,OAAQ,MACRC,SAAU,OAEVtgB,KAAM,CACJid,EAAGlE,GAELwH,QAAS,SAAU1Y,GAEjB,IAAK,IAAI/H,EAAI,EAAGA,EAAI+H,EAAK7H,KAAKC,OAAQH,IACnCogB,EAAQhgB,KAAK2H,EAAK7H,KAAKF,IAK1BmgB,EAAOC,MAtBTD,EAAOC,IA0BX9T,GAAI,CACFsU,OAAQ,SAAUhb,GACZA,GAASA,EAAMA,EAAMzF,OAAS,IAChCqM,EAAKoC,SAAS,CAAE4gB,SAAUhjB,EAAKT,MAAMyjB,SAAS3O,OAAO,CAAEpZ,SAAU7B,EAAMA,EAAMzF,OAAS,GAAGsH,SAAU7E,GAAIgD,EAAMA,EAAMzF,OAAS,GAAGyC,a,+BAS/H,IAAD,EACmB7C,KAAKgM,MAAxB2M,EADA,EACAA,MAAO8W,EADP,EACOA,SACd,OACE,kBAAC,IAAD,CAAMtkB,cAAenL,KAAKoL,YAAY/J,KAAKrB,OACzC,kBAAC,IAAD,CAAQ2F,MAAOpB,EAAKurB,WAAYnc,SAAUpP,EAAKqP,OAC/C,kBAAC,IAAD,KAAarP,EAAKurB,YAClB,kBAAC,GAAD,CACAnX,MAAOA,EAAOlH,OAAQzR,KAAKyR,OAAQmD,SAAS,EAAM6a,SAAUA,EAC5Dre,aAAcpR,KAAKkT,kBAAmBwc,eAAgB1vB,KAAK0vB,sB,GAtH1BzgB,aCApB2gB,G,YACnB,aAAe,IAAD,8BACZ,+CACKne,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAKwuB,aAAe,EAAKA,aAAaxuB,KAAlB,gBACpB,EAAKquB,eAAiB,EAAKA,eAAeruB,KAApB,gBACtB,EAAKgC,YAAc,EAAKA,YAAYhC,KAAjB,gBAEnB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCyM,MAAO,GACPhT,MAAO,KACP9C,GAAI,KACJ4sB,SAAU,IAdA,E,kFAoBZnjB,EAAWC,GAAG,eAAgBvM,KAAKqD,aACnCiJ,EAAWC,GAAG,eAAgBvM,KAAKuD,e,6CAInC+I,EAAWE,eAAe,eAAgBxM,KAAKqD,aAC/CiJ,EAAWE,eAAe,eAAgBxM,KAAKuD,e,0CAI/CmL,EAAsB,SAAU1O,KAAKmT,SAASxR,OAAd,QAAiC3B,KAAKgM,MAAMpK,S,+BAK5E8M,EAAyB,SADd,CAAC7L,GAAI7C,KAAKgM,MAAMnJ,GAAI8C,MAAO3F,KAAKgM,MAAMrG,MAAO8pB,SAAUzvB,KAAKgM,MAAMyjB,UACpCzvB,KAAKgM,MAAMpK,S,wCAIpC6R,GAChBzT,KAAK6O,SAAS4E,K,oCAKdzT,KAAK+U,UAAUC,SAAS,c,qCAGXnS,GACb7C,KAAK6O,SAAS,CACZ4gB,SAAUzvB,KAAKgM,MAAMyjB,SAASzO,QAAO,SAAUxZ,GAC7C,OAAOA,EAAQ3E,KAAOA,S,oCAM1B7C,KAAK6vB,iB,oCAIL,IAAIlX,EAAQrM,EAAWoD,aACnB3P,EAAQuM,EAAWsC,WACnB+J,GAAmB,UAAV5Y,GACXC,KAAK6O,SAAS,CACZ8J,MAAOA,EACP9V,GAAI8V,EAAM9V,GACV8C,MAAOgT,EAAMhT,MACb8pB,SAAU9W,EAAMoX,iB,qCAOpB,IAAMtjB,EAAOzM,KACP0M,EAAMD,EAAKE,IACjBD,EAAI6S,aAAavS,OAAO,CACtBiK,OAAQ,QACRuI,SAAU,uBACV7Q,UAAU,EACV8Q,cAAe,KACfC,aAAc,WACdC,qBAAsBpb,EAAKqV,OAC3BgG,mBAAoBrb,EAAKsb,MACzBC,aAAcvb,EAAKwb,UACnBC,MAAO,GACPC,qBAAsB1b,EAAKuU,OAE3BqH,OAAQ,SAAUjH,EAAOkH,GACvB,IACIC,EAAU,GACO,IAAjBnH,EAAM9Y,OAOVsM,EAAI6T,QAAQ,CACVxd,IAAKzB,EAAKC,OAAS,mBACnBif,OAAQ,MACRC,SAAU,OAEVtgB,KAAM,CACJid,EAAGlE,GAELwH,QAAS,SAAU1Y,GAEjB,IAAK,IAAI/H,EAAI,EAAGA,EAAI+H,EAAK7H,KAAKC,OAAQH,IACnCogB,EAAQhgB,KAAK2H,EAAK7H,KAAKF,IAK1BmgB,EAAOC,MAtBTD,EAAOC,IA0BX9T,GAAI,CACFsU,OAAQ,SAAUhb,GACZA,GAASA,EAAMA,EAAMzF,OAAS,IAChCqM,EAAKoC,SAAS,CAAE4gB,SAAUhjB,EAAKT,MAAMyjB,SAAS3O,OAAO,CAAEpZ,SAAU7B,EAAMA,EAAMzF,OAAS,GAAGsH,SAAU7E,GAAIgD,EAAMA,EAAMzF,OAAS,GAAGyC,a,+BAS/H,IAAD,EAC8B7C,KAAKgM,MAAnC2M,EADA,EACAA,MAAO8W,EADP,EACOA,SAAU9pB,EADjB,EACiBA,MAAO9C,EADxB,EACwBA,GAC/B,OACE,kBAAC,IAAD,CAAMsI,cAAenL,KAAKoL,YAAY/J,KAAKrB,OACzC,kBAAC,IAAD,CAAQ2F,MAAOpB,EAAKurB,WAAYnc,SAAUpP,EAAKqP,OAC/C,kBAAC,IAAD,KAAarP,EAAKurB,YAClB,kBAAC,GAAD,CACAnX,MAAOA,EAAOlH,OAAQzR,KAAKyR,OAAQmD,SAAS,EAAM6a,SAAUA,EAC5D5sB,GAAIA,EAAI8C,MAAOA,EACfyL,aAAcpR,KAAKkT,kBAAmBwc,eAAgB1vB,KAAK0vB,sB,GA7I1BzgB,aCHxB+gB,GAfQ,SAACvrB,GAExB,OAAIA,EAAMwrB,cAEN,kBAAC,IAAD,CAAM9pB,WAAS,GACZ1B,EAAMwrB,cAAcjuB,KAAI,SAACoO,GAAD,OACvB,kBAAC,IAAD,KACE,2BAAO8f,UAAQ,EAACC,UAAQ,EAACC,aAAW,EAACC,MAAI,EAACzoB,IAAKwI,EAAa7J,KAAMuB,MAAM,aAKtE,8BC+BCwoB,GA1CW,SAAC7rB,GAOzB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQkB,MAAOpB,EAAK0rB,cAAetc,SAAUpP,EAAKqP,OAElD,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAK9L,MAAM,KAAKhD,UAAU,QACxB,kBAAC,IAAD,CAAQ0M,MAAI,EAAChB,QAAS/L,EAAM8rB,gBAC1B,uBAAGxrB,MAAM,kBAAkBC,cAAY,SACtCT,EAAK4a,QAGV,kBAAC,IAAD,CAAKrX,MAAM,MACT,kBAAC,IAAD,CAAQ0J,MAAI,EAAChB,QAAS,WAlB1B/L,EAAM+rB,QAAU/rB,EAAM+rB,OAAOC,iBAAiB,KAChDhsB,EAAM+rB,OAAOC,iBAAiB,GAAGC,OACjCjsB,EAAMksB,mBAiBE,uBAAG5rB,MAAM,kBAAkBC,cAAY,SACtCT,EAAKmsB,OAGV,kBAAC,IAAD,CAAK5oB,MAAM,MACT,kBAAC,IAAD,CAAQ0J,MAAI,EAAChB,QAAS/L,EAAMmsB,cAC1B,uBAAG7rB,MAAM,gBAAgBC,cAAY,SACpCT,EAAKmsB,OAGV,kBAAC,IAAD,CAAK5oB,MAAM,QAIb,2BAAOooB,UAAQ,EAACE,aAAW,EAACC,MAAI,EAACzoB,IAAKnD,EAAMosB,SAAU/oB,MAAM,SAE9D,kBAAC,IAAD,KAAavD,EAAK3E,MAClB,kBAAC,GAAD,CAAkBqwB,cAAexrB,EAAMwrB,kBCjCxBhd,G,YACnB,aAAe,IAAD,8BACZ,+CACKzR,QAAU,EAAKA,QAAQH,KAAb,gBACf,EAAKkvB,eAAiB,EAAKA,eAAelvB,KAApB,gBACtB,EAAKyvB,gBAAkB,EAAKA,gBAAgBzvB,KAArB,gBACvB,EAAKuvB,aAAe,EAAKA,aAAavvB,KAAlB,gBACpB,EAAKsvB,cAAgB,EAAKA,cAActvB,KAAnB,gBAErB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnC+jB,cAAe,KACfc,OAAQ,GACRP,OAAQ,KACRQ,SAAU,KACVH,SAAU,KACVzR,UAAW,KACX6R,QAAS,KACTC,GAAI,KACJC,UAAW,MAlBD,E,kFAsBZ7kB,EAAWC,GAAG,WAAYvM,KAAKwB,W,6CAI/B8K,EAAWE,eAAe,WAAYxM,KAAKwB,W,8EAQpB0M,IAAWpO,SAC/BqO,MAAMC,KAAK,CAAEhI,KAAM7B,EAAK8J,UAAWC,aAAc,IAAMC,SAAU,QACpEG,EAAkB,gBAAiB1O,KAAKgM,MAAMtK,KAAM,GAAI1B,KAAKgM,MAAMpK,S,sCAInEwvB,cAAcpoB,OAAOqoB,kB,6KAIjB5kB,EAAOzM,KACPsxB,EAAuBC,UAAUC,aAAaC,0BAClDlxB,QAAQC,IAAI8wB,GACZtxB,KAAK6O,SAAS,CAAEsiB,UAAWjqB,IAAOC,IAAIC,UAAUC,OAAO,M,SAGpCkqB,UAAUC,aAAaE,gBAAgB,CACxDC,MAAO,CAAEC,YAAa,SAAUC,UAAW,EAAG/pB,MAAO,IAAKC,OAAQ,O,OADhEyoB,E,OAGJxwB,KAAK6O,SAAS,CAAE2hB,OAAQA,IACxBxwB,KAAK6O,SAAS,CAAEuQ,UAAW,IAAIlS,OAC3B8jB,EAAW,IAAIc,cAActB,GAC7B/jB,EAAOzM,KACP+wB,EAAS,GACb/nB,OAAOqoB,eAAiB,KACxBroB,OAAOqoB,eAAiBU,aAAY,WACX,aAAnBf,EAAShlB,OACXglB,EAASN,OAEXsB,YAAW,WACT,IACEhB,EAAS7R,QAEX,MAAO8S,OACN,OACF,KAEHzB,EAAOC,iBAAiB,GAAGyB,QAAU,SAASC,GAC5Cf,cAAcpoB,OAAOqoB,iBAIvBL,EAASoB,gBAAkB,SAAC1sB,GAC1BqrB,EAAO1wB,KAAKqF,EAAEvF,OAGhB6wB,EAASqB,QAAU,SAAC3sB,GAElBnF,QAAQC,IAAIkF,EAAEvF,OAGhB6wB,EAASsB,OAAS,SAAC5sB,GAEjB,IAAM6sB,EAAe,IAAIC,KAAKzB,EAAQ,CAAErwB,KAAMqwB,EAAO,GAAGrwB,OAIxD,EAAKowB,gBAAgByB,EAAc9lB,EAAKT,MAAMmlB,Y,6IASlCsB,EAAMtB,GAEpB,IAAIuB,EAAY1pB,OAAO0pB,WAAa1pB,OAAO2pB,iBAAmB3pB,OAAO4pB,cAAgB5pB,OAAO6pB,YAAc7pB,OAAO8pB,YAK7GvS,GAJevX,OAAO+pB,gBAAkB/pB,OAAOgqB,sBAAwBhqB,OAAOiqB,iBAAmBjqB,OAAOkqB,iBAI9FR,EAAU7E,KAAK,kBAHf,IAKdtN,EAAQ4S,UAAY,SAAUhB,GAC5B5xB,QAAQC,IAAI,iDACZ,IAAI0wB,EAAK3Q,EAAQ3b,OAEjBssB,EAAGkC,QAAU,SAAUjB,GACrB5xB,QAAQC,IAAI,gDAGd,IAAI6yB,EAAcnC,EAAGmC,YAAY,CAAC,mBAAoB,aACtD9yB,QAAQC,IAAI,SACZ6yB,EAAYC,YAAY,mBAAmBlwB,IAAI,CAACqvB,KAAMA,EAAMtB,UAAWA,KAGzE5Q,EAAQgT,gBAAkB,SAAUpB,GAClC,IAAIjB,EAAKiB,EAAMvsB,OAAOhB,OACtBrE,QAAQC,IAAI,2BACP0wB,EAAGsC,iBAAiBC,SAAS,qBAChClzB,QAAQC,IAAI,6CACZ0wB,EAAGwC,kBAAkB,kBAAmB,CAAEC,eAAgB,Q,qCAM9D,IAAIlnB,EAAOzM,KACXO,QAAQC,IAAI,WACZ,IAAIkyB,EAAY1pB,OAAO0pB,WAAa1pB,OAAO2pB,iBAAmB3pB,OAAO4pB,cAAgB5pB,OAAO6pB,YAAc7pB,OAAO8pB,YAK7GvS,GAJevX,OAAO+pB,gBAAkB/pB,OAAOgqB,sBAAwBhqB,OAAOiqB,iBAAmBjqB,OAAOkqB,iBAI9FR,EAAU7E,KAAK,kBAHf,IAIdtN,EAAQ4S,UAAY,SAAUhB,GAC5B5xB,QAAQC,IAAI,iDACZ,IAAI0wB,EAAK3Q,EAAQ3b,OAEjBssB,EAAGkC,QAAU,SAAUjB,GACrB5xB,QAAQC,IAAI,gDAGI0wB,EAAGmC,YAAY,CAAC,cAAe,aAErCC,YAAY,cAAcM,SAAST,UAAY,SAAUhB,GACnE5xB,QAAQC,IAAI2xB,EAAMvsB,OAAOhB,QACzBoE,OAAO6qB,iBAAiB1B,EAAMvsB,OAAOhB,OAAQ,gCAAgC,SAAUkvB,GAErFvzB,QAAQC,IAAIszB,GACZrnB,EAAKoC,SAAS,CAAEgiB,SAAUkD,IAAIC,gBAAgBF,Y,gCAUpD,IAAI7D,EAAgB3jB,EAAW9K,UAC3BzB,EAAQuM,EAAWsC,WACnBqhB,GAA2B,iBAAVlwB,GACnBC,KAAK6O,SAAS,CACZohB,cAAeA,M,+BAKX,IAAD,EACqCjwB,KAAKgM,MAAzCikB,EADD,EACCA,cAAeO,EADhB,EACgBA,OAAQK,EADxB,EACwBA,SAC/B,OAAQ,kBAAC,GAAD,CACNA,SAAUA,EACVL,OAAQA,EACRP,cAAeA,EACfW,aAAc5wB,KAAK4wB,aACnBD,cAAe3wB,KAAK2wB,cACpBJ,eAAgBvwB,KAAKuwB,qB,GAxLStc,IAAMhF,WCqM3BglB,GAzMK,SAACxvB,GACR,IACAyvB,EAAT,SAAiBlsB,GACf,SAAIvD,EAAM0vB,uBAAwB1vB,EAAM0vB,qBAAqBnsB,MAGvDvD,EAAM0vB,sBAAwB1vB,EAAM0vB,qBAAqBnsB,IACnD,IA2Bd,OACE,kBAAC,IAAM5C,SAAP,KACE,kBAAC,IAAD,CAAMgvB,MAAI,EAACtvB,UAAU,SACnB,kBAAC,IAAD,KACE,8BAAQP,EAAKoY,SACb,kBAAC,IAAD,CAAQ7X,UAAU,OAAOW,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,OACjE,0BAAMZ,UAAU,cAAcP,EAAK+vB,sCAIvC,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAU3uB,MAAOpB,EAAKgwB,eACtB,kBAAC,IAAD,CAAU5uB,MAhChB,WACE,IAAI4Y,EAAQ,CACV,6BACE,uBAAGzZ,UAAU,SAAS2C,KAAK,IAAI5E,GAAG,kBAChC,yBAAKiC,UAAU,oBACb,uBAAGA,UAAU,oCACZP,EAAK0T,SAFR,QAaN,OANIxT,EAAM+vB,WACR/vB,EAAM+vB,UAAUxyB,KAAI,SAACwF,GACnB+W,EAAMle,KAAK,kBAAC,IAAD,CAAM+F,KAAMoB,EAAQE,SAAUkT,YAAU,EAACpK,QAAS,kBAAM/L,EAAMgwB,cAAcjtB,EAAQ3E,WAI5F0b,EAeciW,MAGnB,yBAAK1vB,UAAU,mBACb,2BAAOA,UAAU,SACf,+BACE,4BACE,4BAAKP,EAAKmwB,mBACV,4BAAKnwB,EAAKowB,mBACV,4BAAKpwB,EAAKqwB,mBACV,4BAAKrwB,EAAKswB,OAGd,+BAEE,4BACE,wBAAI/vB,UAAU,SAASP,EAAKuwB,0BAC5B,4BAAI,kBAAC,IAAD,CAAQhwB,UAAU,OAAOwP,QAAS4f,EAAQ,kCAAmCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,sCACzH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,iCAAkCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,qCACxH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,gCAAiCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,qCAEzH,4BACE,wBAAIZ,UAAU,SAASP,EAAKwwB,+BAC5B,4BAAI,kBAAC,IAAD,CAAQjwB,UAAU,OAAOwP,QAAS4f,EAAQ,uCAAwCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,2CAC9H,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,sCAAuCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,0CAC7H,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,qCAAsCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,0CAE9H,4BACE,wBAAIZ,UAAU,SAASP,EAAKywB,qBAC5B,4BAAI,kBAAC,IAAD,CAAQlwB,UAAU,OAAOwP,QAAS4f,EAAQ,6BAA8BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,iCACpH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,4BAA6BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,gCACnH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,2BAA4BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,gCAEpH,4BACE,wBAAIZ,UAAU,SAASP,EAAK0wB,oBAC5B,4BAAI,kBAAC,IAAD,CAAQnwB,UAAU,OAAOwP,QAAS4f,EAAQ,4BAA6BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,gCACnH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,2BAA4BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,+BAClH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,0BAA2BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,+BAEnH,4BACE,wBAAIZ,UAAU,SAASP,EAAK2wB,sBAC5B,4BAAI,kBAAC,IAAD,CAAQpwB,UAAU,OAAOwP,QAAS4f,EAAQ,8BAA+BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,kCACrH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,6BAA8BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,iCACpH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,4BAA6BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,iCAErH,4BACE,wBAAIZ,UAAU,SAASP,EAAK4wB,uBAC5B,4BAAI,kBAAC,IAAD,CAAQrwB,UAAU,OAAOwP,QAAS4f,EAAQ,+BAAgCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,mCACtH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,8BAA+BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,kCACrH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,6BAA8BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,kCAEtH,4BACE,6BACA,6BACA,6BACA,8BAEF,4BACE,wBAAIZ,UAAU,SAASP,EAAK6wB,0BAC5B,4BAAI,kBAAC,IAAD,CAAQtwB,UAAU,OAAOwP,QAAS4f,EAAQ,kCAAmCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,sCACzH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,iCAAkCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,qCACxH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,gCAAiCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,qCAEzH,4BACE,wBAAIZ,UAAU,SAASP,EAAK8wB,+BAC5B,4BAAI,kBAAC,IAAD,CAAQvwB,UAAU,OAAOwP,QAAS4f,EAAQ,uCAAwCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,2CAC9H,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,sCAAuCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,0CAC7H,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,qCAAsCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,0CAE9H,4BACE,wBAAIZ,UAAU,SAASP,EAAK+wB,qBAC5B,4BAAI,kBAAC,IAAD,CAAQxwB,UAAU,OAAOwP,QAAS4f,EAAQ,6BAA8BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,iCACpH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,4BAA6BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,gCACnH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,2BAA4BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,gCAEpH,4BACE,wBAAIZ,UAAU,SAASP,EAAKgxB,oBAC5B,4BAAI,kBAAC,IAAD,CAAQzwB,UAAU,OAAOwP,QAAS4f,EAAQ,4BAA6BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,gCACnH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,2BAA4BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,+BAClH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,0BAA2BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,+BAEnH,4BACE,wBAAIZ,UAAU,SAASP,EAAKixB,sBAC5B,4BAAI,kBAAC,IAAD,CAAQ1wB,UAAU,OAAOwP,QAAS4f,EAAQ,8BAA+BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,kCACrH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,6BAA8BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,iCACpH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,4BAA6BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,iCAErH,4BACE,wBAAIZ,UAAU,SAASP,EAAKkxB,uBAC5B,4BAAI,kBAAC,IAAD,CAAQ3wB,UAAU,OAAOwP,QAAS4f,EAAQ,+BAAgCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,mCACtH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,8BAA+BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,kCACrH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,6BAA8BzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,kCAEtH,4BACE,6BACA,6BACA,6BACA,8BAEF,4BACE,wBAAIZ,UAAU,SAASP,EAAKmxB,yBAC5B,4BAAI,kBAAC,IAAD,CAAQ5wB,UAAU,OAAOwP,QAAS4f,EAAQ,iCAAkCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,qCACxH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,gCAAiCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,oCACvH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,+BAAgCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,oCAExH,4BACE,6BACA,6BACA,6BACA,8BAEF,4BACE,wBAAIZ,UAAU,SAASP,EAAKoxB,0BAC5B,4BAAI,kBAAC,IAAD,CAAQ7wB,UAAU,OAAOwP,QAAS4f,EAAQ,kCAAmCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,sCACzH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,iCAAkCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,qCACxH,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,gCAAiCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,qCAEzH,4BACE,wBAAIZ,UAAU,SAASP,EAAKqxB,+BAC5B,4BAAI,kBAAC,IAAD,CAAQ9wB,UAAU,OAAOwP,QAAS4f,EAAQ,uCAAwCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,2CAC9H,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,sCAAuCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,0CAC7H,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,qCAAsCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,0CAE9H,4BACE,6BACA,6BACA,6BACA,8BAEF,4BACE,wBAAIZ,UAAU,SAASP,EAAKsxB,gCAC5B,4BAAI,kBAAC,IAAD,CAAQ/wB,UAAU,OAAOwP,QAAS4f,EAAQ,wCAAyCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,4CAC/H,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,uCAAwCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,2CAC9H,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,sCAAuCzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,2CAE/H,4BACE,wBAAIZ,UAAU,SAASP,EAAKuxB,oCAC5B,4BAAI,kBAAC,IAAD,CAAQhxB,UAAU,OAAOwP,QAAS4f,EAAQ,4CAA6CzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,gDACnI,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,2CAA4CzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,+CAClI,4BAAI,kBAAC,IAAD,CAAQZ,UAAU,OAAOwP,QAAS4f,EAAQ,0CAA2CzuB,SAAU,SAACC,GAAD,OAAOjB,EAAM4vB,cAAc3uB,EAAG,oDClL5HqwB,G,YACnB,aAAe,IAAD,gCACZ,+CAEK1yB,YAAc,EAAKA,YAAYhC,KAAjB,gBACnB,EAAKgzB,cAAgB,EAAKA,cAAchzB,KAAnB,gBACrB,EAAK20B,cAAgB,EAAKA,cAAc30B,KAAnB,gBACrB,EAAKozB,cAAgB,EAAKA,cAAcpzB,KAAnB,gBAIrB,EAAK2K,OAAL,GACEpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCgoB,QAAS,GACTvuB,MAAO,KACP9C,GAAI,MAJN,wBAKW,MALX,qCAMwB,MANxB,0BAOa,IAPb,GAVY,E,kFAuBZyJ,EAAWC,GAAG,eAAgBvM,KAAKqD,e,6CAInCiJ,EAAWE,eAAe,eAAgBxM,KAAKqD,e,0CAI/CrD,KAAK8L,a,iCAIL4C,EAAsB,WAAY,EAAG1O,KAAKgM,MAAMpK,S,oCAIhD5B,KAAKg2B,kB,sCAKL,IAAMvpB,EAAOzM,KACP0M,EAAMD,EAAKE,IACjBD,EAAI6S,aAAavS,OAAO,CACtBiK,OAAQ,QACRuI,SAAU,kBACV7Q,UAAU,EACV8Q,cAAe,KACfC,aAAc,WACdC,qBAAsBpb,EAAKqV,OAC3BgG,mBAAoBrb,EAAKsb,MACzBC,aAAcvb,EAAKwb,UACnBC,MAAO,GACPC,qBAAsB1b,EAAKuU,OAE3BqH,OAAQ,SAAUjH,EAAOkH,GACvB,IACIC,EAAU,GACO,IAAjBnH,EAAM9Y,OAOVsM,EAAI6T,QAAQ,CACVxd,IAAKzB,EAAKC,OAAS,mBACnBif,OAAQ,MACRC,SAAU,OAEVtgB,KAAM,CACJid,EAAGlE,GAELwH,QAAS,SAAU1Y,GAEjB,IAAK,IAAI/H,EAAI,EAAGA,EAAI+H,EAAK7H,KAAKC,OAAQH,IACnCogB,EAAQhgB,KAAK2H,EAAK7H,KAAKF,IAK1BmgB,EAAOC,MAtBTD,EAAOC,IA0BX9T,GAAI,CACFsU,OAAQ,SAAUhb,GACZA,GAASA,EAAMA,EAAMzF,OAAS,KAChCqM,EAAKoC,SAAS,CAAE2lB,UAAW/nB,EAAKT,MAAMwoB,UAAU1T,OAAO,CAAEpZ,SAAU7B,EAAMA,EAAMzF,OAAS,GAAGsH,SAAU7E,GAAIgD,EAAMA,EAAMzF,OAAS,GAAGyC,OAEjI6L,EAAsB,qBADX,CAAC4O,WAAYzX,EAAMA,EAAMzF,OAAS,GAAGyC,IACE4J,EAAKT,MAAMpK,c,oCAYrE,IAAIsyB,EAAU5nB,EAAWoD,aACrB3P,EAAQuM,EAAWsC,WACnBslB,GAAqB,YAAVn0B,EACbC,KAAK6O,SAAS,CACZlJ,MAAOuuB,EAAQvuB,MACf9C,GAAIqxB,EAAQrxB,GACZsxB,qBAAsBD,EAAQC,uBAGhCn0B,KAAK6O,SAAS,CACZslB,qBAAsB,O,oCAMdzuB,EAAGsC,GACf,IAAI7H,EAAO,CAAE6H,KAAMA,GACftC,EAAEE,OAAO0O,SACXtU,KAAK6O,UAAS,SAAAonB,GACZ,IAAI9B,EAAuBryB,OAAO2nB,OAAO,GAAIwM,EAAU9B,sBAEvD,OADAA,EAAqBnsB,IAAQ,EACtB,CAAEmsB,2BAEXzlB,EAAsB,eAAgBvO,EAAMH,KAAKgM,MAAMpK,SAEvD5B,KAAK6O,UAAS,SAAAonB,GACZ,IAAI9B,EAAuBryB,OAAO2nB,OAAO,GAAIwM,EAAU9B,sBAEvD,OADAA,EAAqBnsB,IAAQ,EACtB,CAAEmsB,2BAEXzlB,EAAsB,kBAAmBvO,EAAMH,KAAKgM,MAAMpK,U,oCAIhDiB,GACZ7C,KAAK6O,SAAS,CACZ2lB,UAAWx0B,KAAKgM,MAAMwoB,UAAUxT,QAAO,SAAUxZ,GAC/C,OAAOA,EAAQ3E,KAAOA,OAI1B6L,EAAsB,wBADX,CAAC4O,WAAYza,GAC6B7C,KAAKgM,MAAMpK,S,+BAMxD,IAAD,EAC4C5B,KAAKgM,MAAhDmoB,EADD,EACCA,qBAAsBxuB,EADvB,EACuBA,MAAO6uB,EAD9B,EAC8BA,UACrC,OACE,kBAAC,IAAD,CAAMrpB,cAAenL,KAAKoL,YAAY/J,KAAKrB,OACzC,kBAAC,IAAD,CAAQ2F,MAAOpB,EAAKogB,UAAWhR,SAAUpP,EAAKqP,OAC9C,kBAAC,IAAD,KAAarP,EAAKogB,WAClB,kBAAC,GAAD,CACEwP,qBAAsBA,EACtBxuB,MAAOA,EAAO0uB,cAAer0B,KAAKq0B,cAAeG,UAAWA,EAC5D/iB,OAAQzR,KAAKyR,OAAQmD,SAAS,EAAMxD,aAAcpR,KAAKkT,kBACvDuhB,cAAez0B,KAAKy0B,qB,GApKaxlB,aCmC5BinB,GA3CG,SAACzxB,GACjB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQkB,MAAOpB,EAAK4xB,SAClB,kBAAC,IAAD,CAAM7qB,UAAU,SACd,kBAAC,IAAD,CAAMC,GAAG,WAGb,kBAAC,IAAD,KACE,kBAAC,IAAD,KAAahH,EAAKmM,OAClB,kBAAC,IAAD,CAAa5L,UAAU,WACrB,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEsE,MAAO7E,EAAKwM,MACZrQ,KAAK,OACL01B,WAAW,EACXlkB,YAAa3N,EAAK8xB,iBAClBxwB,MAAOpB,EAAMsM,MACboB,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAEL,MAAOrL,EAAEE,OAAOC,aAc7C,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAM4B,KAAK,YAAY6uB,SAAS,EAAOvmB,aAAa,GAAOxL,EAAKgyB,gBAAhE,KACA,kBAAC,IAAD,CAAQ/kB,MAAI,EAAC1M,UAAU,uCAAuC2C,KAAK,8FAA+F6uB,SAAS,EAAOvmB,aAAa,GAAOxL,EAAKiyB,IAA3M,KACA,kBAAC,IAAD,CAAM1xB,UAAU,eAChB,kBAAC,IAAD,CAAQA,UAAU,UAAU0M,MAAI,EAAChB,QAAS/L,EAAMgN,QAASlN,EAAKmM,W,eClBtE,aAAe,IAAD,8BACZ,+CACKe,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBAEnB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnC6E,MAAO,GACP0lB,SAAU,IATA,E,kFAcZnqB,EAAWC,GAAG,eAAgBvM,KAAKuD,e,6CAInC+I,EAAWE,eAAe,eAAgBxM,KAAKuD,e,0CAG5CvD,KAAKmT,SAASxR,OAAd,OACD+M,EAAsB,uBAAwB,GAAI1O,KAAKmT,SAASxR,OAAd,OAEjD3B,KAAKgM,MAAMpK,OAAS5B,KAAKgM,MAAMpK,MAAMxB,OAAS,IAC/CsO,EAAsB,uBAAwB,GAAI1O,KAAKgM,MAAMpK,S,+BAM/D8M,EAAsB,cADX,CAACqC,MAAO/Q,KAAKgM,MAAM+E,MAAO0lB,SAAUz2B,KAAKgM,MAAMyqB,a,oCAK1D,IAAI12B,EAAQuM,EAAWsC,WACT,UAAV7O,GACFC,KAAK+U,UAAUC,SAAS,iBAAiBhV,KAAKgM,MAAM+E,OAExC,aAAVhR,IACFC,KAAK+U,UAAUC,SAAS,KACxBhM,OAAOuG,SAASmnB,UAElBn2B,QAAQC,IAAIT,K,wCAII0T,GAChBzT,KAAK6O,SAAS4E,K,+BAGN,IAAD,EACsBzT,KAAKgM,MAD3B,EACA2qB,SADA,EACUF,SACjB,OACE,kBAACG,GAAD,CAAWnlB,OAAQzR,KAAKyR,OAAQL,aAAcpR,KAAKkT,wB,GAvD5Be,IAAMhF,W,eCCjC,aAAe,IAAD,8BACZ,+CACKiE,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBAEnB,EAAK2K,MAAQ,CACX+E,MAAO,GACP0lB,SAAU,IAPA,E,kFAYZnqB,EAAWC,GAAG,eAAgBvM,KAAKuD,e,6CAInC+I,EAAWE,eAAe,eAAgBxM,KAAKuD,e,0CAG/CmL,EAAsB,uBAAwB,GAAI1O,KAAKmT,SAASxR,OAAd,S,oCAIlD,IAAI8N,EAAOnD,EAAWoD,aAER,aADFpD,EAAWsC,YAErB5F,OAAOiD,aAAa4qB,QAAQ,QAASpnB,EAAK7N,OAC1C5B,KAAK+U,UAAUC,SAAS,KACxBhM,OAAOuG,SAASmnB,WAEhB12B,KAAK+U,UAAUC,SAAS,iBACxBhM,OAAOuG,SAASmnB,Y,wCAMFjjB,GAChBzT,KAAK6O,SAAS4E,K,+BAGN,IAAD,EACsBzT,KAAKgM,MAD3B,EACA2qB,SADA,EACUF,SACjB,OACE,kBAACG,GAAD,CAAWnlB,OAAQzR,KAAKyR,OAAQL,aAAcpR,KAAKkT,wB,GA7C5Be,IAAMhF,WC2DpB6nB,GA7EI,SAACryB,GAClB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQkB,MAAOpB,EAAK4xB,SAClB,kBAAC,IAAD,CAAM7qB,UAAU,SACd,kBAAC,IAAD,CAAMC,GAAG,WAGb,kBAAC,IAAD,KACE,kBAAC,IAAD,KAAahH,EAAK4xB,SAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACE/sB,MAAO7E,EAAK8jB,UAAY,KACxBnW,YAAa3N,EAAKwyB,gBAClBr2B,KAAK,OACL8E,KAAM0B,IAAOC,IAAIC,UAAUC,OAAO,IAClC8K,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAE5L,KAAME,EAAEE,OAAOC,WAIxC,kBAAC,IAAD,CACEuD,MAAO7E,EAAK+jB,SAAW,KACvBpW,YAAa3N,EAAKyyB,oBAClBt2B,KAAK,OACL8E,KAAM0B,IAAOC,IAAIC,UAAUC,OAAO,IAClC8K,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAEkX,SAAU5iB,EAAEE,OAAOC,WAK5C,kBAAC,IAAD,CACEuD,MAAO,MAAQ7E,EAAKwM,MACpBrQ,KAAK,QACLu2B,UAAQ,EACR/kB,YAAa3N,EAAK8xB,iBAClBvxB,UAAU,MACVe,MAAOpB,EAAMsM,MACboB,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAEL,MAAOrL,EAAEE,OAAOC,aA2B7C,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAM4B,KAAK,WAAWlD,EAAK2yB,cAAe,OAAU3yB,EAAK4yB,cAAzD,KACA,kBAAC,IAAD,CAAMryB,UAAU,eAChB,kBAAC,IAAD,CAAQA,UAAU,UAAU0M,MAAI,EAAChB,QAAS/L,EAAMgN,QAASlN,EAAK4xB,a,eCpDtE,aAAe,IAAD,8BACZ,+CACK1kB,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBAEnB,EAAK2K,MAAQ,CACX+E,MAAO,GACPvL,KAAM,GACN8iB,SAAU,IATA,E,kFAcZhc,EAAWC,GAAG,eAAgBvM,KAAKuD,e,6CAInC+I,EAAWE,eAAe,eAAgBxM,KAAKuD,e,+BAI/CvD,KAAKwN,GAAG,QAAQ4F,OAChBpT,KAAKwN,GAAG,eAAepH,KAAK7B,EAAK8O,YACjC,IAAIlT,EAAO,CACT4Q,MAAO/Q,KAAKgM,MAAM+E,MACjBvL,KAAMxF,KAAKgM,MAAMxG,KACjB8iB,SAAUtoB,KAAKgM,MAAMsc,UACxB,GACGtoB,KAAKgM,MAAM+E,OAAS/Q,KAAKgM,MAAM+E,MAAM3Q,OAAS,GAC9CJ,KAAKgM,MAAMxG,MAAQxF,KAAKgM,MAAMxG,KAAKpF,OAAS,GAC5CJ,KAAKgM,MAAMsc,UAAYtoB,KAAKgM,MAAMsc,SAASloB,OAAS,EAErDsO,EAAsB,gBAAiBvO,OAClC,CACQH,KACR2M,IAAIgR,OAAOE,MAAMtZ,EAAKwc,gBAAiBxc,EAAKsZ,U,oCAMrC,WADFvR,EAAWsC,aAErB5O,KAAKwN,GAAG,QAAQY,OAChBpO,KAAK+U,UAAUC,SAAS,iBAAiBhV,KAAKgM,MAAM+E,U,wCAKtC0C,GAChBzT,KAAK6O,SAAS4E,GACdlT,QAAQC,IAAIiT,K,+BAGJ,IAAD,EACwBzT,KAAKgM,MAD7B,EACC2qB,SADD,EACWF,SAClB,OACE,kBAACW,GAAD,CAAY3lB,OAAQzR,KAAKyR,OAAQL,aAAcpR,KAAKkT,wB,GA1D7Be,IAAMhF,WCuBpBinB,GAzCG,SAACzxB,GACjB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQkB,MAAOpB,EAAK8yB,cAClB,kBAAC,IAAD,CAAM/rB,UAAU,SACd,kBAAC,IAAD,CAAMC,GAAG,WAGb,kBAAC,IAAD,KACE,kBAAC,IAAD,KAAahH,EAAKmM,OAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,KACA,kBAAC,IAAD,CACItH,MAAO7E,EAAKwM,MACZrQ,KAAK,OACL01B,WAAW,EACXlkB,YAAa3N,EAAK8xB,iBAClBxwB,MAAOpB,EAAMsM,MACboB,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAEL,MAAOrL,EAAEE,OAAOC,WAGzC,kBAAC,IAAD,CACEuD,MAAO7E,EAAK+yB,kBACZ52B,KAAK,OACLwR,YAAa3N,EAAKgzB,wBAClBplB,QAAS,SAACzM,GACRjB,EAAM2M,aAAa,CAAEomB,iBAAkB9xB,EAAEE,OAAOC,aAKxD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAM4B,KAAK,YAAY6uB,SAAS,EAAOvmB,aAAa,GAAOxL,EAAKgyB,gBAAhE,KACA,kBAAC,IAAD,CAAMzxB,UAAU,eAChB,kBAAC,IAAD,CAAQA,UAAU,UAAU0M,MAAI,EAAChB,QAAS/L,EAAMgN,QAASlN,EAAKmM,W,eChBtE,aAAe,IAAD,8BACZ,+CACKe,OAAS,EAAKA,OAAOpQ,KAAZ,gBACd,EAAK6R,kBAAoB,EAAKA,kBAAkB7R,KAAvB,gBACzB,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBAEnB,EAAK2K,MAAQ,CACXwrB,iBAAkB,GAClBzmB,MAAO,IARG,E,kFAaZzE,EAAWC,GAAG,eAAgBvM,KAAKuD,e,6CAInC+I,EAAWE,eAAe,eAAgBxM,KAAKuD,e,0CAI/CvD,KAAK6O,SAAS,CAACkC,MAAO/Q,KAAKmT,SAASxR,OAAd,U,+BAKtB+M,EAAsB,eADX,CAAC4oB,kBAAmBt3B,KAAKgM,MAAMwrB,qB,oCAK1C,IAAI/nB,EAAOnD,EAAWoD,aAClB3P,EAAQuM,EAAWsC,WACnBa,GAAiB,UAAT1P,IACViJ,OAAOiD,aAAa4qB,QAAQ,QAASpnB,EAAK7N,OAC1C5B,KAAK+U,UAAUC,SAAS,KACxBhM,OAAOuG,SAASmnB,Y,wCAKFjjB,GAChBzT,KAAK6O,SAAS4E,K,+BAGN,IAAD,EACmBzT,KAAKgM,MAAd+E,GADV,EACA4lB,SADA,EACU5lB,OACjB,OACE,kBAAC0mB,GAAD,CAAkBhmB,OAAQzR,KAAKyR,OAAQV,MAAOA,EAAOK,aAAcpR,KAAKkT,wB,GAhDjDe,IAAMhF,WCkBpBtI,GApCU,SAAClC,GACxB,GAAIA,EAAMmC,eAAiBnC,EAAMmC,cAAcxG,OAAS,EAAG,CAAC,IAKjDyG,EAAT,SAAoBC,GAClB,IAAKA,EAAaC,KAChB,MAAO,aAGX,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAMZ,WAAS,GACZ1B,EAAMmC,cAAc5E,KAAI,SAAC8E,GAAD,OACvB,kBAAC,IAAD,CACEhC,UAAW,SAAW+B,EAAWC,GACjC7E,IAAKiF,IAAOC,IAAIC,UAAUC,OAAO,IACjCd,KAAM,IAAMO,EAAaQ,YAAc,IAAMR,EAAaS,UAC1D5B,OAnBS6B,EAmBUV,EAAaU,QAlBlC,kBAAC,IAAD,CAAMC,KAAK,cAAcD,EAAQE,WAmB/BtB,KAAMU,EAAaG,kBAAkBtB,OAErC,yBAAKgC,KAAK,QAAQC,IAAKd,EAAaU,QAAQK,OAAQC,MAAM,KAAKC,OAAO,QAtBlF,IAAqBP,OA2BjB,kBAAC,IAAD,OAIJ,OAAQ,8BCnBGkwB,GAdW,SAACjzB,GACzB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQkB,MAAOpB,EAAKqC,eAClB,kBAAC,IAAD,CAAM0E,UAAU,SACd,kBAAC,IAAD,CAAMC,GAAG,WAIb,kBAAC,GAAD,CAAkB3E,cAAenC,EAAMmC,cAAekV,SAAUrX,EAAMqX,aCqD7D,IACb,CACE6b,KAAM,IACNC,UAAWhsB,GAEb,CACE+rB,KAAM,UACNC,UAAWhB,IAEb,CACEe,KAAM,YACNC,UAAWR,IAEb,CACEO,KAAM,uBACNC,UAAWH,IAEb,CACEE,KAAM,oBACNC,UAAWC,IAEb,CACEF,KAAM,gBACNC,UAAW1oB,GAGb,CACEyoB,KAAM,kBACNC,U,YCtFF,aAAe,IAAD,8BACZ,+CACKp2B,QAAU,EAAKA,QAAQH,KAAb,gBACf,EAAKkqB,SAAWA,GAASlqB,KAAT,gBAChB,EAAKiqB,YAAc,EAAKA,YAAYjqB,KAAjB,gBACnB,EAAKkC,YAAc,EAAKA,YAAYlC,KAAjB,gBACnB,EAAKyX,OAAS,EAAKA,OAAOzX,KAAZ,gBACd,EAAKya,SAAW,EAAKA,SAASza,KAAd,gBAGhB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,SACnCtF,cAAe,GACfsS,MAAO,KACPxX,KAAM,GAdI,E,kFAkBZ4K,EAAWC,GAAG,WAAYvM,KAAKwB,SAC/B8K,EAAWC,GAAG,eAAgBvM,KAAKuD,e,6CAInC+I,EAAWE,eAAe,WAAYxM,KAAKwB,SAC3C8K,EAAWE,eAAe,eAAgBxM,KAAKuD,e,0CAK/CvD,KAAKurB,WACLvrB,KAAK8L,a,iCAIL4C,EAAkB,gBAAiB1O,KAAKgM,MAAMtK,KAAM,GAAI1B,KAAKgM,MAAMpK,S,6BAG9D6R,GAAM,IAAD,OACVzT,KAAK6O,SAAS,CAAEjI,cAAe,GAAIlF,KAAM,IACzC1B,KAAK6O,SAAS4E,GAAK,WACjB/E,EAAkB,uBAAwB,EAAK1C,MAAMtK,KAAM,CAAE0b,EAAG,EAAKpR,MAAMkN,a,iCAKnE,IAAD,OACLlZ,KAAKgM,MAAMkN,OAASlZ,KAAKgM,MAAMkN,MAAM9Y,OAAS,EAChDJ,KAAK6O,SAAS,CAAEnN,KAAM1B,KAAKgM,MAAMtK,KAAO,IAAK,WAC3CgN,EAAkB,uBAAwB,EAAK1C,MAAMtK,KAAM,CAAC0b,EAAG,EAAKpR,MAAMkN,OAAS,EAAKlN,MAAMpK,UAGhG5B,KAAK6O,SAAS,CAAEnN,KAAM1B,KAAKgM,MAAMtK,KAAO,IAAK,WAC3CgN,EAAkB,gBAAiB,EAAK1C,MAAMtK,KAAM,GAAI,EAAKsK,MAAMpK,Y,oCAQvE,IAAIkF,EAAewF,EAAWoD,aAC1B3P,EAAQuM,EAAWsC,WACnB9H,GAA0B,iBAAV/G,GAClBC,KAAK6O,SAAS,CAAEjI,cAAe5G,KAAKgM,MAAMpF,cAAc5E,KAAI,SAAAypB,GAAE,OAAKA,EAAG5oB,KAAOiE,EAAajE,GAAKf,OAAO2nB,OAAO,GAAIgC,EAAI3kB,GAAgB2kB,S,gCAKvI,IAAI7kB,EAAgB0F,EAAW9K,UAC3BzB,EAAQuM,EAAWsC,WACnBhI,EAAcxG,OAAS,GAAe,iBAAVL,GAC9BC,KAAK6O,SAAS,CACZjI,cAAe5G,KAAKgM,MAAMpF,cAAcka,OAAOla,KAInD8H,EAAsB,gBADX,GACkC1O,KAAKgM,MAAMpK,S,kCAG9C8pB,EAAkBC,EAAoBC,GAA6D,IAAvCC,EAAsC,uDAAxB,KAAMC,EAAkB,uDAAN,KAClG3rB,EAAO,CAAEurB,iBAAkBA,EAAkBC,mBAAoBA,EAAoBC,qBAAsBA,EAAsBC,YAAaA,EAAaC,UAAWA,GAC1Kpd,EAAsB,eAAgBvO,EAAMH,KAAKgM,MAAMpK,S,+BAG/C,IACAgF,EAAkB5G,KAAKgM,MAAvBpF,cACR,OAAQ,kBAAC,GAAD,CAAmB0kB,YAAatrB,KAAKsrB,YAAaxP,SAAU9b,KAAK8b,SAAUlV,cAAeA,EAAekS,OAAQ9Y,KAAK8Y,a,GAvFxF7E,IAAMhF,YD2F9C,CACE0oB,KAAM,UACNC,UAAW5jB,IAEb,CACE2jB,KAAM,sBACNC,UAAWE,IAEb,CACEH,KAAM,aACNC,UAAW/iB,IAEb,CACE8iB,KAAM,iBACNC,UAAW/kB,IAGb,CACE8kB,KAAM,aACNC,UAAWG,IAGb,CACEJ,KAAM,WACNC,UAAWrI,IAEb,CACEoI,KAAM,wBACNC,UAAWI,IAEb,CACEL,KAAM,cACNC,UAAWhI,IAEb,CACE+H,KAAM,mBACNC,UAAWxI,IAIb,CACEuI,KAAM,aACNC,UAAWrhB,IAEb,CACEohB,KAAM,2BACNC,UAAWK,IAEb,CACEN,KAAM,gBACNC,UAAWlhB,IAEb,CACEihB,KAAM,sBACNC,UAAW1hB,IAIb,CACEyhB,KAAM,UACNC,UAAW5Z,IAEb,CACE2Z,KAAM,sBACNC,UAAWM,IAEb,CACEP,KAAM,aACNC,UAAW5Y,IAEb,CACE2Y,KAAM,iBACNC,UAAW5b,IAIb,CACE2b,KAAM,SACNC,UAAWniB,IAEb,CACEkiB,KAAM,oBACNC,UAAWO,IAEb,CACER,KAAM,YACNC,UAAW5hB,IAEb,CACE2hB,KAAM,eACNC,UAAWziB,IAKb,CACEwiB,KAAM,gBACNC,UAAW3R,IAEb,CACE0R,KAAM,iCACNC,UAAWQ,IAEb,CACET,KAAM,mBACNC,UAAW1Q,IAEb,CACEyQ,KAAM,4BACNC,UAAWzS,IAIb,CACEwS,KAAM,YACNC,UAAW9M,IAEb,CACE6M,KAAM,0BACNC,UAAW5I,IAEb,CACE2I,KAAM,qCACNC,UAAW1J,IAEb,CACEyJ,KAAM,qBACNC,UAAWhO,IAGb,CACE+N,KAAM,UACNC,UAAWzU,IAEb,CACEwU,KAAM,sBACNC,UAAWS,IAEb,CACEV,KAAM,qBACNC,UAAW9T,IAEb,CACE6T,KAAM,iBACNC,UAAWnV,IAGb,CACEkV,KAAM,sBACNC,UAAWU,IAEb,CACEX,KAAM,qBACNC,UAAW7S,IAGb,CACE4S,KAAM,aACNC,UAAW3P,IAEb,CACE0P,KAAM,4BACNC,UAAWW,IAEb,CACEZ,KAAM,gBACNC,UAAW9O,IAEb,CACE6O,KAAM,uBACNC,UAAWlQ,IAGb,CACEiQ,KAAM,kBACNC,UAAWtH,IAGb,CACEqH,KAAM,OACNC,UEpRW,kBACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQjyB,MAAM,YAAYgO,SAAS,SACnC,kBAAC,IAAD,CAAOrC,QAAM,GACX,oCACA,gE,eCOJ,aAAe,IAAD,8BACZ,+CACKsf,aAAe,EAAKA,aAAavvB,KAAlB,gBAEpB,EAAK2K,MAAQ,CACXpK,MAAOoH,OAAOiD,aAAaC,QAAQ,UALzB,E,mMAUNQ,GADAD,EAAOzM,MACI2M,IAEbvI,GACFA,EAAUo0B,oBACPl2B,KADH,sBACQ,8BAAAsN,EAAA,sEACgBxL,EAAUq0B,WAD1B,OACE72B,EADF,OAEAzB,EAAO,CAAEyB,MAAOA,GAChB6K,EAAKT,MAAMpK,OAAS6K,EAAKT,MAAMpK,MAAMxB,OAAS,IAChDsO,EAAsB,UAAWvO,EAAMsM,EAAKT,MAAMpK,OAJhD,4CAOLa,OAAM,SAAUwvB,GACf1xB,QAAQC,IAAI,sCAAuCyxB,MAGzDV,UAAUmH,cAAc1K,iBAAiB,WAAW,SAAC2K,GAEnDjsB,EAAI5F,aAAakG,OAAO,CACtB6C,KAAM,GAENlK,MAAOgzB,EAAQx4B,KAAKy4B,kBAAkBC,QAAQ/xB,aAAanB,MAC3DmzB,eAAgB,GAChBC,SAAU,eACVhlB,SAAU4kB,EAAQx4B,KAAKy4B,kBAAkBC,QAAQ/xB,aAAa6K,KAC9DrD,aAAc,MACbuf,U,2IAOL,IAAIphB,EAAOzM,KACXO,QAAQC,IAAI,oBACZ,IAAIkyB,EAAY1pB,OAAO0pB,WAAa1pB,OAAO2pB,iBAAmB3pB,OAAO4pB,cAAgB5pB,OAAO6pB,YAAc7pB,OAAO8pB,YAK7GvS,GAJevX,OAAO+pB,gBAAkB/pB,OAAOgqB,sBAAwBhqB,OAAOiqB,iBAAmBjqB,OAAOkqB,iBAI9FR,EAAU7E,KAAK,kBAHf,IAIdtN,EAAQ4S,UAAY,SAAUhB,GAC5B5xB,QAAQC,IAAI,iDACZ,IAAI0wB,EAAK3Q,EAAQ3b,OAEjBssB,EAAGkC,QAAU,SAAUjB,GACrB5xB,QAAQC,IAAI,gDAGd,IAAI6yB,EAAcnC,EAAGmC,YAAY,CAAC,mBAAoB,aAElD2F,EADe3F,EAAYC,YAAY,mBACtB2F,aAErBD,EAAE5F,QAAU,SAAUjB,GACpB5xB,QAAQ0xB,IAAI,wBAEd+G,EAAE7F,UAAY,SAAUhB,GACtB,IAAI+G,EAAS/G,EAAMvsB,OAAOhB,OAC1B,GAAIs0B,EAAQ,CACV,IAAIj3B,EAAMi3B,EAAOC,WACbtzB,EAAQqzB,EAAOrzB,MACnBtF,QAAQC,IAAIyB,EAAK4D,I9HvBpB,SAAyBpE,EAAO23B,EAAgBx3B,GACrD,IAAMmB,EAAMxB,EAAS,IAAKE,EACpBuB,EAAW,IAAIC,SACrBm2B,EAAep3B,KAAI,SAACq3B,GAAD,OACnBr2B,EAASE,OAAOm2B,EAAcjwB,MAAOiwB,EAAcxzB,UAInD,IAAM1C,EAAS,CACXd,QAAS,CACL,eAAgB,sBAChB,cAAiB,UAAYT,IAGrCO,IAAMqB,KAAKT,EAAKC,EAASG,GAAQb,MAAK,SAAUC,GAC9CrB,EAAWsB,SAAS,CAClB9B,KAAM,4BACNZ,SAAUyC,EAASpC,UAGtBsC,OAAM,SAAUC,GACfnC,QAAQC,IAAIkC,M8HINgM,CAA0B,gBADf,CAAC,CAAEtF,MAAO,OAAQvD,MAAOA,EAAM4sB,MAAQ,CAAErpB,MAAO,2BAA4BvD,MAAOqB,IAAOC,IAAIC,UAAUC,OAAO,MACzEoF,EAAKT,MAAMpK,OAC5DyxB,EAAYC,YAAY,mBAAmBxU,OAAO7c,GAClDi3B,EAAOI,gB,+BAmCf,IAAMC,EAAW,CACf12B,GAAI,wBACJ2C,KAAM,aACN6H,MAAO,SACPmsB,MAAO,CACLC,gBAAiB,KAEnBzpB,KAAM,CAGJ0pB,oBAAqB,GACrBC,gBAAgB,GAGlBC,WAIF,OACE,kBAAC,IAAD,CAAKj4B,OAAQ43B,GAEX,kBAAC,IAAD,MAGA,kBAAC,IAAD,CAAOM,MAAI,EAACC,OAAK,EAACC,WAAS,GACzB,kBAAC,IAAD,CAAMh3B,IAAI,kBAIZ,kBAAC,IAAD,CAAOi3B,OAAK,EAACC,QAAM,EAACF,WAAS,GAC3B,kBAAC,IAAD,CAAMh3B,IAAI,mBAIZ,kBAAC,IAAD,CAAMF,GAAG,YAAYE,IAAI,OAAOm3B,WAAW,EAAMC,MAAI,EAACr1B,UAAU,oB,GAhJzCmP,IAAMhF,W,0CCFfmrB,QACW,cAA7BpxB,OAAOuG,SAAS8qB,UAEe,UAA7BrxB,OAAOuG,SAAS8qB,UAEhBrxB,OAAOuG,SAAS8qB,SAASC,MACvB,2DCQF,kBAAmB/I,WACrBA,UAAUmH,cACPv3B,SAAS,8BACTmB,MAAK,SAASi4B,GACbh6B,QAAQC,IAAI,qCAAsC+5B,EAAaC,UAEhE/3B,OAAM,SAASwvB,GACd1xB,QAAQC,IAAI,6CAA8CyxB,MAIhE/jB,IAAWusB,IAAIC,KAGfC,IAASva,OAAOnM,IAAM2mB,cAAcC,IAClCC,SAASC,eAAe,W","file":"static/js/main.6cfe8c7c.chunk.js","sourcesContent":["module.exports = {\n\n  // Generic\n  'generic.add': 'افزودن',\n  'generic.cancel': 'لغو',\n\n  // BlockType\n  'components.controls.blocktype.h1': 'H1',\n  'components.controls.blocktype.h2': 'H2',\n  'components.controls.blocktype.h3': 'H3',\n  'components.controls.blocktype.h4': 'H4',\n  'components.controls.blocktype.h5': 'H5',\n  'components.controls.blocktype.h6': 'H6',\n  'components.controls.blocktype.blockquote': 'Blockquote',\n  'components.controls.blocktype.code': 'Code',\n  'components.controls.blocktype.blocktype': 'Block Type',\n  'components.controls.blocktype.normal': 'Normal',\n\n  // Color Picker\n  'components.controls.colorpicker.colorpicker': 'Color Picker',\n  'components.controls.colorpicker.text': 'Text',\n  'components.controls.colorpicker.background': 'Highlight',\n\n  // Embedded\n  'components.controls.embedded.embedded': 'Embedded',\n  'components.controls.embedded.embeddedlink': 'Embedded Link',\n  'components.controls.embedded.enterlink': 'Enter link',\n\n  // Emoji\n  'components.controls.emoji.emoji': 'Emoji',\n\n  // FontFamily\n  'components.controls.fontfamily.fontfamily': 'Font',\n\n  // FontSize\n  'components.controls.fontsize.fontsize': 'Font Size',\n\n  // History\n  'components.controls.history.history': 'History',\n  'components.controls.history.undo': 'Undo',\n  'components.controls.history.redo': 'Redo',\n\n  // Image\n  'components.controls.image.image': 'عکس',\n  'components.controls.image.fileUpload': 'بارگذاری',\n  'components.controls.image.byURL': 'پیوند',\n  'components.controls.image.dropFileText': 'اینجا را کلیک کنید ',\n\n  // Inline\n  'components.controls.inline.bold': 'Bold',\n  'components.controls.inline.italic': 'Italic',\n  'components.controls.inline.underline': 'Underline',\n  'components.controls.inline.strikethrough': 'Strikethrough',\n  'components.controls.inline.monospace': 'Monospace',\n  'components.controls.inline.superscript': 'Superscript',\n  'components.controls.inline.subscript': 'Subscript',\n\n  // Link\n  'components.controls.link.linkTitle': 'عنوان پیوند',\n  'components.controls.link.linkTarget': 'آدرس',\n  'components.controls.link.linkTargetOption': 'در پنجره جدید باز کن',\n  'components.controls.link.link': 'پیوند',\n  'components.controls.link.unlink': 'لغو پیوند',\n\n  // List\n  'components.controls.list.list': 'List',\n  'components.controls.list.unordered': 'Unordered',\n  'components.controls.list.ordered': 'Ordered',\n  'components.controls.list.indent': 'Indent',\n  'components.controls.list.outdent': 'Outdent',\n\n  // Remove\n  'components.controls.remove.remove': 'Remove',\n\n  // TextAlign\n  'components.controls.textalign.textalign': 'Text Align',\n  'components.controls.textalign.left': 'Left',\n  'components.controls.textalign.center': 'Center',\n  'components.controls.textalign.right': 'Right',\n  'components.controls.textalign.justify': 'Justify',\n};\n","import { Dispatcher } from \"flux\";\n\nexport default new Dispatcher;\n","import { EventEmitter } from \"events\";\n\nimport dispatcher from \"../dispatcher\";\n\nclass ModelStore extends EventEmitter {\n  constructor() {\n    super()\n    this.list = [];\n    this.multipleList = [];\n    this.instance = null;\n    this.klass= null;\n  }\n\n  listModel(list){\n    this.list = [];\n    this.klass = list.klass\n    for (var i = 0, len = list.data.length; i < len; ++i) {\n      this.list.push(list.data[i]);\n      if (i === len - 1 ) {\n        this.emit(\"got_list\");\n      }\n    }\n    if(list.data.length == 0){\n      this.emit(\"got_list\");\n    }\n\n  }\n\n  listMultipleModel(list){\n    this.multipleList = list.data;\n    this.klass = list.klass\n    this.emit(\"got_multiple_list\");\n  }\n\n  showIntance(instance){\n    this.klass = instance.klass\n    this.instance = instance.data\n    this.emit(\"got_instance\");\n  }\n\n  setIntance(instance){\n    this.klass = instance.klass\n    this.instance = instance.data\n    this.emit(\"set_instance\");\n  }\n\n\n  deleteIntance(instance){\n    this.klass = instance.klass\n    this.instance = instance.data\n    this.emit(\"deleted_instance\");\n  }\n\n  postFile(instance){\n    console.log(instance)\n    this.klass = instance.klass\n    this.instance = instance.data\n    this.emit(\"file_posted\");\n  }\n\n  getIntance() {\n    return this.instance\n  }\n\n  getList(){\n    return this.list\n  }\n\n  getMutipleList(){\n    return this.multipleList\n  }\n\n  getListnKlass(){\n    return [this.list, this.klass]\n  }\n\n  getKlass(){\n    return this.klass\n  }\n\n  handleActions(action) {\n    switch(action.type) {\n      case \"LIST_MODEL_SUCCESS\": {\n        this.listModel(action.list);\n        break;\n      }\n      case \"MULTIPLE_LIST_MODEL_SUCCESS\": {\n        this.listMultipleModel(action.list);\n        break;\n      }\n      case \"GET_INSTANCE_SUCCESS\": {\n        this.showIntance(action.instance);\n        break;\n      }\n      case \"DELETE_INSTANCE_SUCCESS\": {\n        this.deleteIntance(action.instance);\n        break;\n      }\n      case \"SET_INSTANCE_SUCCESS\": {\n        this.setIntance(action.instance);\n        break;\n      }\n      case \"POST_FILE_SUCCESS\": {\n        this.postFile(action.instance);\n        break;\n      }\n\n      case \"GENERAL_POST_FILE_SUCCESS\": {\n        this.postFile(action.instance);\n        break;\n      }\n\n      \n    }\n  }\n}\n\n\nconst modelStore = new ModelStore;\ndispatcher.register(modelStore.handleActions.bind(modelStore));\n\nexport default modelStore;\n","export const conf = { \n//'server' : 'http://localhost:3001/v1',\n'server' : '/v1',\n};","import dispatcher from \"../dispatcher\";\nimport axios, {put} from 'axios';\nimport { conf } from '../conf';\n\nconst server= conf.server;\n//const server='http://localhost:3001/v1';\n//const server='/v1';\n//const server='http://95.156.255.115/api';\n\n\nexport function getList(model, page=1, params={}, token) {\n  var queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\n  console.log(queryString)\n  axios.get(server + '/'+ model +'?page='+page+'&'+queryString, { headers: {'Content-Type': 'application/json', 'Authorization': \"bearer \" + token } })\n  .then(function (response) {\n    console.log(response.data)\n    dispatcher.dispatch({\n      type: \"LIST_MODEL_SUCCESS\",\n      list: response.data,\n    });\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n}\n\nexport function getMultipleList(model, page=1, params={}, token) {\n  var queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\n  axios.get(server + '/'+ model +'?page='+page+'&'+queryString, { headers: {'Content-Type': 'application/json', 'Authorization': \"bearer \" + token } })\n  .then(function (response) {\n    dispatcher.dispatch({\n      type: \"MULTIPLE_LIST_MODEL_SUCCESS\",\n      list: response.data,\n    });\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n}\n\nexport function fileUpload(model, id , file, token){\n  const url = server + '/'+ model +'/'+id;\n  const formData = new FormData();\n  formData.append('profile[avatar]',file)\n  formData.append('profile[id]',id)\n  const config = {\n      headers: {\n          'content-type': 'multipart/form-data',\n          'Authorization': \"bearer \" + token \n      }\n  }\n  put(url, formData,config).then(function (response) {\n    dispatcher.dispatch({\n      type: \"POST_FILE_SUCCESS\",\n      instance: response.data,\n    });\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n}\n\nexport function generalFilePost(model, formDataParams, token){\n  const url = server + '/'+ model;\n  const formData = new FormData();\n  formDataParams.map((formDataParam) =>\n  formData.append(formDataParam.label, formDataParam.value)\n  )\n  //formData.append(data.file_label,file)\n  //formData.append('profile[id]',id)\n  const config = {\n      headers: {\n          'content-type': 'multipart/form-data',\n          'Authorization': \"bearer \" + token \n      }\n  }\n  axios.post(url, formData,config).then(function (response) {\n    dispatcher.dispatch({\n      type: \"GENERAL_POST_FILE_SUCCESS\",\n      instance: response.data,\n    });\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n}\n\n\nexport function getInstance(model, id, token) {\n  axios.get(server + '/'+ model +'/'+id, { headers: {'Content-Type': 'application/json', 'Authorization': \"bearer \" + token } })\n  .then(function (response) {\n    dispatcher.dispatch({\n      type: \"GET_INSTANCE_SUCCESS\",\n      instance: response.data,\n    });\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n}\n\nexport function removeInstance(model, params={}, token ) {\n  var queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\n  axios.get(server + '/'+ model +'/delete?'+queryString, { headers: {'Content-Type': 'application/json', 'Authorization': \"bearer \" + token } })\n  .then(function (response) {\n    dispatcher.dispatch({\n      type: \"DELETE_INSTANCE_SUCCESS\",\n      instance: response.data,\n    });\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n}\n\nexport function setInstance(model, data, token) {\n  axios.post(server + '/'+ model +'/', data, { headers: {'Content-Type': 'application/json', 'Authorization': \"bearer \" + token } })\n  .then(function (response) {\n    dispatcher.dispatch({\n      type: \"SET_INSTANCE_SUCCESS\",\n      instance: response.data,\n    });\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n}\n\nexport function updateInstance(model, data, token) {\n  axios.put(server + '/'+ model +'/'+data.id, data, { headers: {'Content-Type': 'application/json', 'Authorization': \"bearer \" + token } })\n  .then(function (response) {\n    dispatcher.dispatch({\n      type: \"SET_INSTANCE_SUCCESS\",\n      instance: response.data,\n    });\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n}\n","import * as firebase from \"firebase/app\";\nimport \"firebase/messaging\";\nconst initializedFirebaseApp = firebase.initializeApp({\n    apiKey: \"AIzaSyAbQ1NDkKB_E_SbfgHY3w-esVWhjwj9DeE\",\n    authDomain: \"tavan-e768d.firebaseapp.com\",\n    databaseURL: \"https://tavan-e768d.firebaseio.com\",\n    projectId: \"tavan-e768d\",\n    storageBucket: \"tavan-e768d.appspot.com\",\n    messagingSenderId: \"498708095861\",\n    appId: \"1:498708095861:web:00428b1330b24e1eece93c\",\n    measurementId: \"G-55DLXZ4VZY\"\n \n});\n//const messaging = initializedFirebaseApp.messaging();\nvar messaging = null;\nif (firebase.messaging.isSupported()){\n  messaging = initializedFirebaseApp.messaging();\n  messaging.usePublicVapidKey(\n    // Project Settings => Cloud Messaging => Web Push certificates\n    \"BGtSQdySGVQOeOwFha6rSVdmtfIUo_V33Eq-RTRb5kUNLvvwM7AVGCLtChjnGlD50fudRx8D4Aw-7br71Qfefrc\"\n  );\n  \n} else {\n \n}\nexport { messaging }; ","export const dict = {\n  'home' : 'خانه',\n  'name' : 'نام و نام خانوادگی ',\n  'login' : 'ورود',\n  'username' :  'نام کاربری ',\n  'password' : 'رمز عبور ',\n  'password_confirmation': 'تکرار رمز عبور',\n  'mobile' : 'شماره موبایل ',\n  'error': 'خطا',\n  'sign_in' : 'ورود ',\n  'sign_up' : 'ثبت نام',\n  'back' : 'بازگشت',\n  'signed_up_already': 'تا کنون ثبت نام نکرده اید؟',\n  'new_advert': 'درج آگهی ',\n  'title': 'عنوان',\n  'abstract': 'چکیده',\n  'content': 'متن',\n  'submit': 'ثبت ',\n  'upload_from_gallery': 'انتخاب از گالری',\n  'welcome': 'خوش آمدید',\n  'sign_out': 'خروج',\n  'phone_number': 'شماره تلفن',\n  'telegram_channel': 'کانال تلگرام',\n  'instagram_page': 'صفحه اینستاگرام',\n  'address': 'آدرس ',\n  'email': 'ایمیل ',\n  'contact_information':'اطلاعات تماس ',\n  'search': 'جستجو ',\n  'cancel' : 'انصراف',\n  'view': 'نمایش',\n  'edit': 'ویرایش',\n  'delete': 'حذف',\n  'adverts_nes': 'عنوان، متن و شماره تلفن اجباری است',\n  'my_pins': ' نشان شده‌ها ',\n  'pin' : 'نشان کن',\n  'pinned': 'نشان شده',\n  'message_to_seller': 'ارسال پیام',\n  'messages': 'پیام ها ',\n  'send_message': 'پیام خود را بنویسید',\n  'province': 'استان',\n  'city': 'شهر',\n  'website': 'وبسایت',\n  'call': 'تماس بگیرید',\n  'ago': ' قبل',\n  'all_above': 'همه ی موارد فوق',\n  'no_result': 'موردی یافت نشد ',\n  'category': 'دسته بندی ',\n  'leg':'مسیر',\n  'date':'تاریخ',\n  'time': 'زمان',\n  'numberOfPassngers': 'تعداد مسافران ',\n  'surename': 'نام خانوادگی',\n  'fathername':'نام پدر',\n  'ssn':'کدملی',\n  'birthplace':'محل تولد',\n  'pass_no': 'شماره گذرنامه',\n  'birthdate': 'تاریخ تولد',\n  'place_of_birth': 'محل تولد',\n  'required_fields': 'فیلدهای اجباری',\n  'en_father_name': 'نام پدر لاتین',\n  'en_name': 'نام لاتین',\n  'en_surename': 'نام خانوادگی لاتین ',\n  'passport_no': 'شماره گذرنامه',\n  'final_confirm' : 'تایید نهایی ',\n  'document_form': 'فرم اسناد ',\n  'save': 'ذخیره',\n  'documents':'اسناد ',\n  'type' : 'نوع',\n  'string': 'متن کوتاه',\n  'text': 'متن بلند',\n  'select': 'گزینه',\n  'multiSelect': 'چند گزینه',\n  'table': 'جدول',\n  'date':'تاریخ',\n  'refundable': 'قابل اعاده',\n  'yes':'بله',\n  'no':'خیر',\n  'commentable':'قابل نظردهی',\n  'end_point':'نقطه پایان',\n  'start_point':'نقطه شروع',\n  'votable':'رای گیری',\n  'publishable':'قابل انتشار',\n  'field_name': 'نام فیلد',\n  'add': 'افزودن ',\n  'remove': 'حذف',\n  'auxiliary_tables': 'جداول کمکی',\n  'create_by':'ایجاد شده توسط',\n  'list': 'لیست',\n  'workflows': 'گردش کارها',\n  'auxiliary_records': 'مقادیر کمکی',\n  'basic_table': 'جدول پایه',\n  'relation_table': 'جدول رابطه',\n  'auxiliary_table_form': 'فرم جدول کمکی ' ,\n  'Basic': 'پایه',\n  'Relation': 'رابطه ',\n  'Divan': 'دیوان',\n  'workflow_form':'فرم گردش کار',\n  'submitting':'در حال ارسال ... ',\n  'settings':'تنظیمات',\n  'receiving':'در حال دریافت ...',\n  'workflow_tables': 'جداول کمکی گردش کار ',\n  'auxiliary_table': 'جدول کمکی',\n  'workflow':'گردش کار',\n  'actions' : 'عملیات',\n  'roles': 'نقش ها',\n  'divan': 'دیوان',\n  'enter_your_email': 'ایمیل خود را وارد کنید',\n  'enter_your_password': 'رمز عبور را وارد کنید ',\n  'enter_your_password_confirmation': 'رمز عبور را تکرار کنید ',\n  'profiles': 'افراد ',\n  'firstname': 'نام',\n  'if_registered': 'اگر قبلا ثبت نام کرده اید',\n  'you_can_login':'وارد شوید ',\n  'if_not_registered': 'اگر ثبت نام نکرده اید',\n  'you_can_sign_up':'ثبت نام کنید',\n  'new_assignment': 'اعطای نقش جدید',\n  'posts': 'پست ها',\n  'bookmark': 'نشان',\n  'like':'علاقه',\n  'follow':'دنبال',\n  'share':'اشتراک',\n  'social_acts':'عملگرهای اجتماعی ',\n  'channels': 'کانال ها',\n  'close': 'بستن',\n  'channel':'کانال ',\n  'details': 'شرح',\n  'Shoa': 'شعاع ',\n  'role': 'نقش',\n  'Default': 'پیش فرض',\n  'NonDefault':'غیر پیش فرض ',\n  'value': ' مقدار',\n  'true': 'مثبت',\n  'false': 'منفی',\n  'access_control_list':'لیست کنترل دسترسی',\n  'access_control_form':'فرم کنترل دسترسی',\n  'assignment_form':'فرم اعطای نقش',\n  'comment_form': 'نظر بدهید',\n  'post_form': 'فرم پست',\n  'metas':'پیش جداول',\n  'shoa': 'شعاع',\n  'form' : 'ورود اطلاعات',\n  'choose_image': 'انتخاب عکس',\n  'logout': 'خروج',\n  'more': 'بیشتر ...',\n  'social': 'اجتماعی',\n  'courses':'دروس',\n  'discussions':'گفتگو ها',\n  'exams':'آزمون ها ',\n  'public':'عمومی',\n  'private':'خصوصی ',\n  'course_type':'نوع درس',\n  'select_appropriate_title': 'عنوانی مناسب انتخاب کنید',\n  'write_appropriate_description':'شرحی از اهداف و روش ها بنویسید',\n  'description':'شرح ',\n  'drag_or_browse': 'فایل مورد نظر را اینجا بیاندازید یا کلیک کنید',\n  'attachment' : 'فایل های پیوست',\n  'tasks': 'وظایف',\n  'start_date': 'تاریخ شروع',\n  'deadline' : 'مهلت نهایی',\n  'select_a_date' : 'یک تاریخ انتخاب کنید',\n  'incomplete_data': 'همه ی موارد را تکمیل کنید',\n  'alert': 'هشدار',\n  'deadline_time': 'ساعت',\n  'start_time':'ساعت',\n  'select_a_time':'انتخاب ساعت',\n  'coworkers': 'همکاران',\n  'works': 'کارها ',\n  'dashboard':'میزکار',\n  'tavan':'توان',\n  'statuses': 'وضعیت ها',\n  'status' : 'وضعیت',\n  'add_stauts': 'تغییر وضعیت',\n  'select' : 'انتخاب',\n  'new': 'جدید',\n  'task' : 'وظیفه',\n  'attachments': 'پیوست ها',\n  'reports': 'اسناد و گزارشات',\n  'tags':'برچسب ها',\n  'new_tag': 'برچسب جدید ',\n  'recent_tasks': 'وظایف اخیر',\n  'public_tasks': 'وظایف عمومی',\n  'sort_by' : 'مرتب سازی',\n  'by_title':'عنوان',\n  'by_events':'رخداد',\n  'deadline_near': 'مهلت نهایی نزدیک',\n  'new_report': 'گزارش جدید',\n  'new_comments': 'گفتگوی جدید',\n  'Admin':'مدیر',\n  'Colleague':'همکار',\n  'Observer':'ناظر',\n  'Creator':'سازنده',\n  'verification_code':'کد احراز',\n  'enter_verification_code':  'کد احراز را وارد کنید',\n  'your_tasks':'وظایف مرتبط با شما',\n  'your_newest_works':'جدیدترین کارهای مرتبط با شما',\n  'todo_list': 'تقسیم بندی کار',\n  'todo_participants': 'افراد',\n  'new_todo_participants': 'افراد جدید',\n  'not_found': 'چیزی یافت نشد',\n  'are_you_sure': 'مطمئن هستید؟',\n  'Confirmer': 'تایید کننده',\n  'time_sheets': 'کارنما',\n  'morning_report':'گزارش پیش از ظهر',\n  'afternoon_report':'گزارش بعد از ظهر',\n  'extra_report':'گزارش اضافه کاری',\n  'write_appropriate_details':'شرحی کامل بنویسید',\n  'associations':'مرتبط با',\n  'sheet_date':'تاریخ جدول',\n  'recipients':'دریافت کنندگان',\n  'sent_by_me': 'ارسال شده ها',\n  'sent_to_me':'دریافت شده ها',\n  'priority':'لولویت',\n  'normal':'عادی',\n  'high':'فوری',\n  'urgent':'بسیار فوری',\n  'archived': 'آرشیو شده',\n  'write_archive_note' : 'متن جمع بندی به منظور آرشیو سازی بنویسید',\n  'user_groups': 'گروه بندی کاربران',\n  'user_settings': 'تنظیمات شخصی',\n  'add_involvement_to_tasks':'افزودن همکاران به وظایف',\n  'remove_involvement_from_tasks':'حذف همکاران از وظایف',\n  'change_status_tasks':'تغییر وضعیت وظایف',\n  'add_works_to_tasks':'افزودن کار به وظایف',\n  'add_reports_to_tasks':'افزودن گزارش به وظایف',\n  'add_comments_to_tasks':'افزودن نظر به وظایف',\n  'add_involvement_to_works':'افزودن همکاران به کارها',\n  'remove_involvement_from_works':'حذف همکاران از کارها',\n  'change_status_works':'تغییر وضعیت کارها',\n  'add_todos_to_works':'افزودن تقسیم کار به کارها',\n  'add_reports_to_works':'افزودن گزارش به کارها',\n  'add_comments_to_works':'افزودن نظر به کارها',\n  'add_involvement_to_todos':'افزودن همکار به تقسیم کار',\n  'remove_involvement_from_todos':'حذف همکار از تقسیم کار',\n  'add_involvement_to_time_sheets':'افزودن گیرنده به کارنما',\n  'remove_involvement_from_timesheets':'حذف گیرنده از کارنما',\n  'notification_type':'شیوه اطلاع رسانی',\n  'mail_notification':'ایمیل',\n  'push_notification':'آگاهسازی وب',\n  'sms':'پیامک',\n  'if_someone_adds_you_youll_be_asked': 'چنانچه کسی شما را به یک فعالیت بیافزاید شما باید تایید کنید.',\n  'previous_attachments':'پیوست های قبلا آپلود شده',\n  'cas': 'احراز هویت مرکزی' ,\n  'profile': 'پروفایل',\n  'groups' : 'گروهبندی همکاران',\n  'confirmed':'تایید شده',\n  'not_confirmed': 'تایید نشده',\n  'blocked_list': 'کاربران مسدود شده',\n  'notifications': 'اطلاع رسانی',\n  'privacy':'حریم خصوصی',\n  'add_comments_to_reports':'افزودن نظر به گزارشات',\n  'new_notifications' : 'آگاهسازی های جدید',\n  'new_reports': 'آخرین گزارشات',\n  'events_calendar': 'تقویم رخدادها',\n  'to': 'به',\n  'statusChanges': 'تغییرات وضعیت ها',\n  'in_reply_to': 'در پاسخ به',\n  'surveillance': 'نظارت',\n  'start': 'شروع',\n  'stop': 'پایان'\n}\n","import React from \"react\";\nimport { List, ListItem, CardHeader, CardContent, CardFooter } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\nimport Moment from 'react-moment';\nimport JDate from 'jalali-date';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\n\nconst TaskList = (props) => {\n  function title(t) {\n    var date = new Date(new window.ODate(t))\n    return (<Moment date={date} fromNow></Moment>)\n  }\n  function alerts(task) {\n    var result = []\n    if (task.deadline_alert) {\n      result.push(\n        <span className='color-red ml-5'>\n          <i class=\"fa fa-bell-o\" aria-hidden=\"true\"></i>\n        </span>\n      )\n    }\n    if (task.report_alert) {\n      result.push(\n        <span className='color-blue ml-5'>\n          <i class=\"fa fa-file-text-o \" aria-hidden=\"true\"></i>\n        </span>\n      )\n    }\n    if (task.comment_alert) {\n      result.push(\n        <span className='color-green mr-5'>\n          <i class=\"fa fa-comments-o \" aria-hidden=\"true\"></i>\n        </span>\n      )\n    }\n    return (result)\n  }\n\n  function sort() {\n    if (props.sortChange) {\n      return (\n        <a className=\" fs-10 smart-select smart-select-init\" data-open-in=\"popover\">\n          <select name=\"superhero\" onChange={(e) => { props.sortChange({ title: e.target.value }) }}>\n            <option value=\"title\" key='option-title' >{dict.by_title}</option>\n            <option value=\"events\" key='option-events' selected>{dict.by_events}</option>\n          </select>\n          <div className=\"item-content\">\n            <div className=\"item-inner\">\n              <div className=\"item-title\">{dict.sort_by}</div>\n            </div>\n          </div>\n        </a>\n      )\n    }\n  }\n\n  if (props.tasks) {\n    return (\n      <React.Fragment>\n        <CardHeader>\n          {props.header}\n\n          {sort()}\n        </CardHeader>\n        <CardContent className='h-200'>\n          <List mediaList className='fs-11'>\n            {props.tasks.map((task) =>\n              <ListItem key={'task' + task.id} title={task.title} text={task.details} after={alerts(task)} link={'/tasks/' + task.id}></ListItem>\n            )}\n          </List>\n        </CardContent>\n        <CardFooter>\n          {/* <span className='fs-10'>\n            <span className='color-red ml-5'>\n              <i class=\"fa fa-bell-o ml-5\" aria-hidden=\"true\"></i>\n              {dict.deadline_near}\n            </span>\n            <span className='color-blue ml-5'>\n              <i class=\"fa fa-file-text-o  ml-5\" aria-hidden=\"true\"></i>\n              {dict.new_report}\n            </span>\n            <span className='color-green mr-5'>\n              <i class=\"fa fa-comments-o ml-5\" aria-hidden=\"true\"></i>\n              {dict.new_comments}\n            </span>\n            </span>*/}\n\n        </CardFooter>\n      </React.Fragment>\n\n    )\n  } else {\n    return (<ul></ul>)\n  }\n}\nexport default TaskList;\n","import React from \"react\";\nimport { List, ListItem, CardHeader, CardContent, CardFooter } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\nimport Moment from 'react-moment';\nimport JDate from 'jalali-date';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\n\nconst WorkList = (props) => {\n  function title(t) {\n    var date = new Date(new window.ODate(t))\n    return (<Moment date={date} fromNow></Moment>)\n  }\n  function alerts(work) {\n    var result = []\n    if (work.deadline_alert) {\n      result.push(\n        <span className='color-red ml-5'>\n          <i class=\"fa fa-bell-o\" aria-hidden=\"true\"></i>\n        </span>\n      )\n    }\n    if (work.report_alert) {\n      result.push(\n        <span className='color-blue ml-5'>\n          <i class=\"fa fa-file-text-o \" aria-hidden=\"true\"></i>\n        </span>\n      )\n    }\n    if (work.comment_alert) {\n      result.push(\n        <span className='color-green mr-5'>\n          <i class=\"fa fa-comments-o \" aria-hidden=\"true\"></i>\n        </span>\n      )\n    }\n    return(result)\n  }\n\n  if (props.works) {\n    return (\n      <React.Fragment>\n        <CardHeader>\n          {props.header}\n        </CardHeader>\n        <CardContent className='h-200'>\n          <List mediaList className='fs-11'>\n            {props.works.map((work) =>\n              <ListItem   className='fs-10' key={'workList'+work.id} title={work.title} text={work.task.title} after={alerts(work)} link={'/works/' + work.id}></ListItem>\n            )}\n          </List>\n        </CardContent>\n        <CardFooter>\n        </CardFooter>\n      </React.Fragment>\n\n    )\n  } else {\n    return (<ul></ul>)\n  }\n}\nexport default WorkList;\n","import React from \"react\";\nimport { List, ListItem, Link, Card, CardHeader, CardContent, CardFooter } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\n\nconst NotificationList = (props) => {\n  if (props.notifications && props.notifications.length > 0) {\n    function profileLink(profile) {\n      return (<Link href='/profiles/'>{profile.fullname}</Link>)\n    }\n\n    function colorClass(notification) {\n      if (!notification.seen) {\n        return 'bg-blonde'\n      }\n    }\n\n    function item(notification) {\n      if(notification && notification.notification_text) {\n      return (\n        <ListItem\n          className={'fs-11 ' + colorClass(notification)}\n          key={crypto.lib.WordArray.random(32)}\n          link={'/' + notification.target_type + '/' + notification.target_id}\n          title={profileLink(notification.profile)}\n          text={notification.notification_text.title}\n        >\n          <img slot=\"media\" src={notification.profile.avatar} width=\"32\" height=\"32\" />\n        </ListItem>\n      )\n      }\n    }\n    return (\n      <Card>\n        <CardHeader>{dict.new_notifications}</CardHeader>\n        <CardContent className='h-120'>\n          <List mediaList>\n            {props.notifications.map((notification) =>\n              item(notification)\n            )}\n          </List>\n        </CardContent>\n        <CardFooter></CardFooter>\n      </Card>\n    )\n  } else {\n    return (<ul></ul>)\n  }\n}\nexport default NotificationList;\n","import React from \"react\";\nimport { List, ListItem, Link, Card, CardHeader, CardContent, CardFooter } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\n\nconst ReportList = (props) => {\nconsole.log(props)\n  if (props.reports && props.reports.length > 0) {\n    function profileLink(profile) {\n      return (<Link href='/profiles/'>{profile.fullname}</Link>)\n    }\n\n    return (\n      <Card>\n        <CardHeader>{dict.new_reports}</CardHeader>\n        <CardContent className='h-120'>\n          <List mediaList>\n            {props.reports.map((report) =>\n              <ListItem\n                className={'fs-11 '}\n                key={crypto.lib.WordArray.random(32)}\n                link={'/reports/' + report.id}\n                text={profileLink(report.profile)}\n                title={report.title}\n              >\n                <img slot=\"media\" src={report.profile.avatar} width=\"32\" height=\"32\" />\n              </ListItem>\n            )}\n          </List>\n        </CardContent>\n        <CardFooter></CardFooter>\n      </Card>\n    )\n  } else {\n    return (<ul></ul>)\n  }\n}\nexport default ReportList;\n","import React from \"react\";\nimport { List, ListItem, Card, CardHeader, CardContent, CardFooter } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { defaults, Bar } from 'react-chartjs-2';\nimport { dict } from \"../../Dict\";\n\ndefaults.global.defaultFontFamily = 'iransans';\n\nconst TimeSeries = (props) => {\n    function series() {\n        var result = []\n        var dynamicColors = function() {\n            var r = Math.floor(Math.random() * 255);\n            var g = Math.floor(Math.random() * 255);\n            var b = Math.floor(Math.random() * 255);\n            return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n         };\n\n        var colors = ['#ff6384', '#36a2eb', '#cc65fe', '#ffce56', '#20f08b', '#944dab', '#67f71d', '#650512', '#2f5561', '#e4ae5c']\n        props.tasksVisits.map((v) => {\n            var d = []\n            Object.keys(v.series.data).map(function (key, index) { d.push({ x: new window.ODate(key).toLocaleDateString(\"fa-IR\"), y: index }) })\n            result.push({\n                label: v.series.title.substring(0,15),\n                backgroundColor: dynamicColors(),\n                borderColor: 'blue',\n                data: d\n            })\n        }\n        )\n        return result\n\n    }\n    var s1 = {\n        label: 's1',\n        borderColor: 'blue',\n        data: [\n            { x: '2017-01-06 18:39:30', y: 100 },\n            { x: '2017-01-07 18:39:28', y: 101 },\n        ]\n    };\n\n    var s2 = {\n        label: 's2',\n        borderColor: 'red',\n        data: [\n            { x: '2017-01-07 18:00:00', y: 90 },\n            { x: '2017-01-08 18:00:00', y: 105 },\n        ]\n    };\n    if (props.tasksVisits) {\n        return (\n            <Card>\n                <CardHeader></CardHeader>\n                <CardContent className='h-300'>\n                    <Bar\n                        data={{ datasets: series() }}\n                        options={{\n                            maintainAspectRatio: false,\n                            responsive: true,\n                            scales: {\n                                xAxes: [{\n                                    type: 'time',\n                                    time: {\n                                        displayFormats: {\n                                            day: 'MM/D'\n                                        },\n                                    },\n                                        scaleLabel: {\n                                        display: true,\n                                        labelString:  dict.date\n                                    }\n                                }]\n                            }\n                        }\n                        }\n                    />\n                </CardContent>\n                <CardFooter></CardFooter>\n            </Card>\n        )\n    } else {\n        return (null)\n    }\n\n}\nexport default TimeSeries;","import React from \"react\";\nimport { List, ListItem, Link, Card, CardHeader, CardContent, CardFooter } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\n\nconst StatusChange = (props) => {\n    if (props.statusChanges && props.statusChanges.length > 0) {\n        function profileLink(profile) {\n            return (<Link href='/profiles/'>{profile.fullname}</Link>)\n        }\n\n        function chip(status, prev) {\n            return (\n                <div>\n\n                    <div className=\"chip fs-11 ml-2\" >\n                        <div className=\"chip-media\" style={{ backgroundColor: prev.color }} >\n                            <i className=\"icon f7-icons if-not-md\">plus_circle</i>\n                            <i className=\"icon material-icons md-only\"></i>\n                        </div>\n                        <div className=\"chip-label\">{prev.title}</div>\n                    </div>\n                    {dict.to}\n                    <div className=\"chip fs-11 \" >\n                        <div className=\"chip-media\" style={{ backgroundColor: status.color }} >\n                            <i className=\"icon f7-icons if-not-md\">plus_circle</i>\n                            <i className=\"icon material-icons md-only\"></i>\n                        </div>\n                        <div className=\"chip-label\">{status.title}</div>\n                    </div>\n\n                </div>\n            )\n        }\n\n        function item(statusChange) {\n            if (statusChange.prev_status && statusChange.prev_status.title !== statusChange.current_status.title) {\n                return (\n                    <ListItem\n                        className={'fs-11 home-status'}\n                        key={crypto.lib.WordArray.random(32)}\n                        link={'/' + statusChange.statusable_type_pl + '/' + statusChange.statusable_id}\n                        title={profileLink(statusChange.profile)}\n                        text={statusChange.title}\n                        after={chip(statusChange.current_status, statusChange.prev_status)}\n                    >\n                        <img slot=\"media\" src={statusChange.profile.avatar} width=\"32\" height=\"32\" />\n                    </ListItem>\n                )\n            }\n        }\n\n        return (\n            <Card>\n                <CardHeader>{dict.statusChanges}</CardHeader>\n                <CardContent className='h-120'>\n                    <List mediaList>\n                        {props.statusChanges.map((statusChange) =>\n                            item(statusChange)\n                        )}\n                    </List>\n                </CardContent>\n                <CardFooter></CardFooter>\n            </Card>\n        )\n    } else {\n        return (<ul></ul>)\n    }\n}\nexport default StatusChange;\n","import React from \"react\";\nimport { Page, Navbar, Row, BlockTitle, Col, Fab, Icon, Card, Link, CardContent, CardHeader } from 'framework7-react';\nimport TaskList from \"../tasks/list\"\nimport WorkList from \"../tasks/workList\"\nimport NotificationList from \"../notifications/homeList\"\nimport ReportList from \"../reports/homeList\"\nimport VisitChart from \"../visits/timeseries\"\nimport StatusChanges from \"../statuses/changes\"\n\nimport { dict } from '../../Dict';\n\nconst HomeIndex = (props) => {\n\n    return (\n        <Page onPageAfterIn={props.pageAfterIn.bind(this)}>\n            <Navbar title={dict.home} >\n                <Link panelOpen=\"right\">\n                    <Icon f7=\"bars\"></Icon>\n                </Link>\n            </Navbar>\n            <Row>\n                <Col width='100' tabletWidth='50'>\n                    <Card>\n                        <TaskList tasks={props.tasks} header={dict.your_tasks} sortChange={props.sortChange} />\n                    </Card>\n                </Col>\n\n                <Col width='100' tabletWidth='50'>\n                    <Card>\n                        <CardHeader>{dict.events_calendar}</CardHeader>\n                        <CardContent className='home'>\n                            <div className=\"block block-strong no-padding\">\n                                <div id=\"demo-calendar-inline-container\"></div>\n                            </div>\n                        </CardContent>\n                    </Card>\n                </Col>\n\n            </Row>\n            <Row>\n                <Col width='100' tabletWidth='50'>\n                    <Card>\n                        <WorkList works={props.works} header={dict.your_newest_works} sortChange={props.sortChange} />\n                    </Card>\n                </Col>\n                <Col width='100' tabletWidth='50'>\n                    <NotificationList notifications={props.notifications} header={dict.your_newest_works} sortChange={props.sortChange} />\n                </Col>\n\n            </Row>\n            <Row>\n                <Col width='100' tabletWidth='50'>\n                    <ReportList reports={props.reports} header={dict.your_newest_works} sortChange={props.sortChange} />\n                </Col>\n                <Col id='status-card' width='100' tabletWidth='50'>\n                    <StatusChanges statusChanges={props.statusChanges} header={dict.your_newest_works} sortChange={props.sortChange} />\n                </Col>\n            </Row>\n            <Row>\n                <Col width='100' tabletWidth='100'>\n                    <VisitChart tasksVisits={props.tasksVisits} header={dict.your_newest_works} sortChange={props.sortChange} />\n                </Col>\n            </Row>\n\n        </Page>\n    )\n}\nexport default HomeIndex;\n","import React, { Component } from 'react';\nimport { NavLeft, Link, Page, Navbar, Icon, Row, Col, Card } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport Framework7 from 'framework7/framework7.esm.bundle'\nimport HomeContent from \"../../containers/home/index\"\n\nexport default class HomePage extends Component {\n  constructor() {\n    super();\n    this.getMutipleList = this.getMutipleList.bind(this);\n    this.sortChange = this.sortChange.bind(this);\n\n    this.loadData = this.loadData.bind(this);\n    this.loadCalender = this.loadCalender.bind(this);\n    this.pageAfterIn = this.pageAfterIn.bind(this);\n    \n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      tasks: null,\n      works: null,\n      notifications: null,\n      reports: null,\n      events: null,\n      statusChanges: null,\n      taskPage: 1,\n      taskPp: 10,\n    }\n  }\n\n\n  componentWillMount() {\n    ModelStore.on(\"got_multiple_list\", this.getMutipleList);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_multiple_list\", this.getMutipleList);\n  }\n\n  loadCalender() {\n   // this.$$('.page-content').scrollTop(this.$$('#status-card')[0].offsetTop)\n    const self = this;\n    const app = self.$f7;\n    var events = []\n    if (self.state.events) {\n      self.state.events.map((ev) =>{\n        events.push({date: new window.ODate(ev.date), color: ev.color})\n      })\n    }\n\n    console.log(events)\n\n\n    var monthNames = ['فروردين', 'ارديبهشت', 'خرداد', 'تیر', 'مرداد', 'شهریور', 'مهر', 'آبان', 'آذر', 'دی', 'بهمن', 'اسفند']\n    var calendarInline = app.calendar.create({\n      containerEl: '#demo-calendar-inline-container',\n      value: [new Date()],\n      weekHeader: false,\n      events: events,\n      renderToolbar: function () {\n        return '<div class=\"toolbar calendar-custom-toolbar no-shadow\">' +\n          '<div class=\"toolbar-inner\">' +\n          '<div class=\"left\">' +\n          '<a href=\"#\" class=\"link icon-only\"><i class=\"icon icon-back ' + (app.theme === 'md' ? 'color-black' : '') + '\"></i></a>' +\n          '</div>' +\n          '<div class=\"center\"></div>' +\n          '<div class=\"right\">' +\n          '<a href=\"#\" class=\"link icon-only\"><i class=\"icon icon-forward ' + (app.theme === 'md' ? 'color-black' : '') + '\"></i></a>' +\n          '</div>' +\n          '</div>' +\n          '</div>';\n      },\n      on: {\n        init: function (c) {\n          self.$$('.calendar-custom-toolbar .center').text(monthNames[c.currentMonth] + ', ' + c.currentYear);\n          self.$$('.calendar-custom-toolbar .left .link').on('click', function () {\n            calendarInline.prevMonth();\n          });\n          self.$$('.calendar-custom-toolbar .right .link').on('click', function () {\n            calendarInline.nextMonth();\n          });\n        },\n        monthYearChangeStart: function (c) {\n          self.$$('.calendar-custom-toolbar .center').text(monthNames[c.currentMonth] + ', ' + c.currentYear);\n        },\n        dayClick: function (calendar, dayEl, year, month, day) {\n          console.log(year, month, day)\n        }\n      }\n    });\n  }\n\n\n  pageAfterIn() {\n   \n  }\n\n  componentDidMount() {\n    this.loadData();\n   \n  }\n\n  loadData() {\n    const f7: Framework7 = Framework7.instance;\n    f7.toast.show({ text: dict.receiving, closeTimeout: 2000, position: 'top' });\n    var data = {task_page: this.state.taskPage, task_pp: this.state.taskPp}\n    MyActions.getMultipleList('home', this.state.page, data, this.state.token);\n  }\n\n  getMutipleList() {\n    var multiple = ModelStore.getMutipleList()\n    var klass = ModelStore.getKlass()\n    console.log(multiple)\n    if (multiple && klass === 'Home') {\n      this.setState({\n        tasks: multiple.tasks,\n        works: multiple.works,\n        notifications: multiple.notifications,\n        reports: multiple.reports,\n        tasksVisits: multiple.tasks_visits,\n        events: multiple.events,\n        statusChanges: multiple.status_change,\n      }, () => this.loadCalender());\n    }\n    \n  }\n\n  sortChange(i) {\n    MyActions.getList('tasks', this.state.page, { order: i.title }, this.state.token);\n  }\n\n  render() {\n    const { tasks, works, notifications, reports, tasksVisits,statusChanges } = this.state;\n    return (<HomeContent \n      notifications={notifications} tasksVisits={tasksVisits}\n       reports={reports} tasks={tasks} works={works} sortChange={this.sortChange} \n       pageAfterIn={this.pageAfterIn} statusChanges={statusChanges}\n       />)\n  }\n}","import React, { Component } from 'react';\nimport { Menu, MenuItem, MenuDropdown, MenuDropdownItem, Page, Navbar, Block, BlockTitle, List, ListItem, FabButton, FabButtons, Fab, Icon } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\n\nexport default class PanelRightPage extends Component {\n  constructor() {\n    super();\n    this.logout = this.logout.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n    this.check_ability = this.check_ability.bind(this);\n\n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      ability: null,\n    }\n  }\n\n  logout() {\n    this.setState({ token: null });\n    window.localStorage.removeItem('token');\n    window.location.replace('/')\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n  }\n\n  componentDidMount() {\n    if (this.state.token && this.state.token.length > 10) {\n      MyActions.getInstance('users', 'role', this.state.token);\n    }\n  }\n\n  getInstance() {\n    var user = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (user && klass === 'UserRole') {\n      console.log(user)\n      this.setState({\n        ability: user.the_ability\n      });\n    }\n\n  }\n\n  check_ability(a, link, icon) {\n    var result = []\n    if (this.state.ability) {\n      this.state.ability.map((ab) => {\n        if (ab.title === a && ab.value) {\n          result.push(\n            <ListItem link={\"/\" + link + \"/\"} ignoreCache={true} key={'panel' + link} view=\"#main-view\" panelClose>\n              <i className={\"va ml-5 fa fa-\" + icon}></i>\n              <span>{dict[link]}</span>\n            </ListItem>\n          )\n        }\n      })\n    }\n    return result\n  }\n\n  logged_in(token) {\n    if (token) {\n      return (\n        <React.Fragment>\n          <BlockTitle> <i className=\"va ml-5 fa fa-tachometer\"></i>{dict.dashboard}</BlockTitle>\n          <List className='fs-13'>\n          <ListItem link=\"/\" view=\"#main-view\" panelClose>\n              <i className=\"va ml-5 fa fa-home\"></i>\n              <span>{dict.home}</span>\n            </ListItem>\n\n            <ListItem link=\"/tasks/\" view=\"#main-view\" panelClose>\n              <i className=\"va ml-5 fa fa-tasks\"></i>\n              <span>{dict.tasks}</span>\n            </ListItem>\n\n            <ListItem link=\"/time_sheets/\" view=\"#main-view\" panelClose>\n              <i className=\"va ml-5 fa fa-file-excel-o\"></i>\n              <span>{dict.time_sheets}</span>\n            </ListItem>\n\n\n            <ListItem link=\"/surveillances/\" view=\"#main-view\" panelClose>\n              <i className=\"va ml-5 fa fa-eye\"></i>\n              <span>{dict.surveillance}</span>\n            </ListItem>\n\n\n            <ListItem link=\"/notifications/\" ignoreCache={false} reloadCurrent={false} view=\"#main-view\" panelClose>\n              <i className=\"va ml-5 fa fa-circle-o-notch\"></i>\n              <span>{dict.notifications}</span>\n            </ListItem>\n          </List>\n\n          <BlockTitle><i className=\"va ml-5 fa fa-cogs\"></i>{dict.user_settings}</BlockTitle>\n          <List>\n            <ListItem link=\"/settings/\" ignoreCache={true} view=\"#main-view\" panelClose>\n              <i className=\"va ml-5 fa fa-user-secret\"></i>\n              <span>{dict.privacy}</span>\n            </ListItem>\n            <ListItem link=\"/profiles/\" view=\"#main-view\" panelClose>\n              <i className=\"va ml-5 fa fa-user-circle-o\"></i>\n              <span>{dict.profile}</span>\n            </ListItem>\n            <ListItem view=\"#main-view\" panelClose onClick={this.logout}>\n              <i className=\"va ml-5 fa fa-power-off\"></i>\n              <span>{dict.logout}</span>\n            </ListItem>\n          </List>\n\n\n          <BlockTitle> <i className=\"va ml-5 fa fa-cog\"></i>{dict.settings}</BlockTitle>\n          <List className='fs-13'>\n            {this.check_ability('change_role', \"roles\", \"shield\")}\n\n            {this.check_ability('change_statuses', \"statuses\", \"circle-o\")}\n\n            {this.check_ability('add_tags', \"tags\", \"tags\")}\n\n            {this.check_ability('change_groups', \"groups\", \"bullseye\")}\n          </List>\n        </React.Fragment>\n      )\n    } else {\n      return (\n        <React.Fragment>\n          <BlockTitle>{dict.user_settings}</BlockTitle>\n          <List>\n            <ListItem link=\"/login/\" title={dict.login} view=\"#main-view\" panelClose></ListItem>\n          </List>\n        </React.Fragment>\n      )\n    }\n  }\n\n  render() {\n    const { token } = this.state;\n    return (\n      <Page >\n        <Navbar title={dict.tavan} />\n        {this.logged_in(token)}\n      </Page>\n    );\n  }\n}","import React from \"react\";\nimport { List, ListItem, Button, Icon} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport crypto from 'crypto-js';\nconst UserOptions = (props) => {\n  var options = [<option value=''></option>]\n  if(props.users){\n    for (let i = 0; i < props.users.length; i++) {\n      options.push(\n        <option value={props.users[i].id}>\n          {props.users[i].email}\n        </option>\n      )\n    }\n\n  }\n  return options\n\n}\nexport default UserOptions;\n","import React from \"react\";\nimport { List, ListItem, BlockTitle, Block, Row, Button,Link } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport UserOptions from \"../users/options\";\n\nconst AssignmentForm = (props) => {\n  return (\n    <React.Fragment>\n      <BlockTitle>{dict.assignment_form}</BlockTitle>\n      <List inset>\n        <ListItem\n          title={dict.email}\n          smartSelect\n        >\n          <select name=\"content\"\n            onChange={(e) => { props.handleChange({ user_id: e.target.value }) }}>\n            <UserOptions users={props.users} />\n          </select>\n        </ListItem>\n      </List>\n      <Block strong inset>\n        <Row tag=\"p\">\n          <Link className=\"btn-notice\"></Link>\n          <Button className=\"col btn\" fill onClick={props.submit}>{dict.submit}</Button>\n        </Row>\n      </Block>\n    </React.Fragment>\n  )\n}\nexport default AssignmentForm;\n","  \nimport React from \"react\";\nimport { List, ListItem, Button, Icon} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport crypto from 'crypto-js';\nconst UserList = (props) => {\n    var body = []\n  if(props.users){\n\n    \n    for (let i = 0; i < props.users.length; i++) {\n        var td = []\n        body.push(<tr key={crypto.lib.WordArray.random(32)}>\n        <td key={crypto.lib.WordArray.random(32)}>{props.users[i].id}</td>\n        <td key={crypto.lib.WordArray.random(32)}>{props.users[i].email}</td>\n        <td className=\"checkbox-cell\" key={crypto.lib.WordArray.random(32)}>\n            <Button color='gray' onClick={() => props.removeRole(props.users[i].id)}>\n              <Icon ios=\"f7:trash\" aurora=\"f7:trash\" md=\"material:trash\"></Icon>\n            </Button>\n          </td>\n        </tr>)\n    }\n\n  return(\n    <div className=\"data-table card\">\n      <table>\n        <thead>\n          <tr>\n            <td>ID</td>\n            <td>Email</td>\n          </tr>\n        </thead>\n\n        <tbody>\n          {body}\n        </tbody>\n      </table>\n    </div>\n\n  )\n}\nelse {\n  return(null)\n}\n}\nexport default UserList;","import React from \"react\";\nimport { List, Link, ListInput, Block, Row, Button, BlockTitle } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport crypto from 'crypto-js';\nimport UserOptions from \"../users/options\";\n\nconst AccessControlForm = (props) => {\n    return (\n        <React.Fragment>\n            <BlockTitle>{dict.access_control_form}</BlockTitle>\n            <List  inset>\n                <ListInput\n                    label={dict.item}\n                    type=\"text\"\n                    placeholder='...'\n                    onInput={(e) => {\n                        props.handleChange({ abilityTitle: e.target.value })\n                    }}\n                />\n                <ListInput\n                    label={dict.value}\n                    type=\"select\"\n                    defaultValue={true}\n                    placeholder=\"Please choose...\"\n                    onChange={(e) => {\n                        props.handleChange({ abilityValue: e.target.value })\n                    }}\n                >\n                    <option value={true}>{dict.true}</option>\n                    <option value={false}>{dict.false}</option>\n                </ListInput>\n            </List>\n            <Block strong inset>\n                <Row tag=\"p\">\n                 <Link className=\"btn-notice\"></Link>\n                    <Button className=\"col btn\" fill onClick={props.addAbility}>{dict.submit}</Button>\n                </Row>\n            </Block>\n        </React.Fragment>\n    )\n}\nexport default AccessControlForm;\n","\nimport React from \"react\";\nimport { List, ListItem, Button, Icon, BlockTitle } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport crypto from 'crypto-js';\nconst AbilityList = (props) => {\n    var body = []\n    if (props.ability) {\n\n\n        for (let i = 0; i < props.ability.length; i++) {\n            var td = []\n            body.push(<tr key={crypto.lib.WordArray.random(32)}>\n                <td key={crypto.lib.WordArray.random(32)}>{props.ability[i].title}</td>\n                <td key={crypto.lib.WordArray.random(32)}>{dict[props.ability[i].value]}</td>\n                <td className=\"checkbox-cell\" key={crypto.lib.WordArray.random(32)}>\n                    <Button color='gray' onClick={() => props.removeAbility(props.ability[i].title)}>\n                        <Icon ios=\"f7:trash\" aurora=\"f7:trash\" md=\"material:trash\"></Icon>\n                    </Button>\n                </td>\n            </tr>)\n        }\n\n        return (\n            <React.Fragment>\n            <BlockTitle>{dict.access_control_list}</BlockTitle>\n            <div className=\"data-table card\">\n                <table>\n                    <thead>\n                        <tr>\n                            <td>{dict.title}</td>\n                            <td>{dict.value}</td>\n                        </tr>\n                    </thead>\n\n                    <tbody>\n                        {body}\n                    </tbody>\n                </table>\n            </div>\n            </React.Fragment>\n\n        )\n    }\n    else {\n        return (null)\n    }\n}\nexport default AbilityList;","import React from \"react\";\nimport { Page, Navbar, List, BlockTitle, ListItem, Fab, Icon,Preloader, Block} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport AssignmentForm from \"../assignments/form\";\nimport AssignmentList from \"../assignments/list\";\n\nimport AccessControlForm from \"../access_controls/form\";\nimport AccessControlList from \"../access_controls/list\";\n\nconst RoleShow = (props) => {\n  if (props.role){\n    return(\n      <React.Fragment>\n        <BlockTitle>{dict.title}</BlockTitle>\n        <List simple-list>\n          <ListItem>{props.role.title}</ListItem>\n        </List>\n\n        <AccessControlList  ability={props.ability} removeAbility={props.removeAbility}/>\n        <AccessControlForm  addAbility={props.addAbility} handleChange={props.handleChange} />\n        \n\n        <AssignmentList users={props.assignedUsers} removeRole={props.removeRole} />\n        <AssignmentForm users={props.users}  submit={props.submit} handleChange={props.handleChange}/>\n\n        \n      </React.Fragment>\n    )\n  } else {\n    return(null)\n  }\n}\nexport default RoleShow;\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon, Fab\n} from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport RoleShow from \"../../containers/roles/show\"\n\nexport default class Layout extends Component {\n  constructor() {\n    super();\n    this.getInstance = this.getInstance.bind(this);\n    this.getList = this.getList.bind(this);\n    this.submit = this.submit.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.removeRole = this.removeRole.bind(this);\n    this.addAbility = this.addAbility.bind(this);\n    this.removeAbility = this.removeAbility.bind(this);\n\n    \n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      role: null,\n      id: null,\n      users: null,\n      assignedUsers: null,\n      user_id: null,\n      abilityTitle: '',\n      abilityValue: true,\n      ability: null,\n    }\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n    ModelStore.on(\"set_instance\", this.getInstance);\n    ModelStore.on(\"got_list\", this.getList);\n    ModelStore.on(\"deleted_instance\", this.getInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n    ModelStore.removeListener(\"set_instance\", this.getInstance);\n    ModelStore.removeListener(\"got_list\", this.getList);\n    ModelStore.removeListener(\"deleted_instance\", this.getInstance);\n  }\n\n  componentDidMount() {\n    MyActions.getInstance('roles', this.$f7route.params['roleId'], this.state.token);\n    MyActions.getList('users', this.state.page, {}, this.state.token);\n  }\n\n  getInstance() {\n    var role = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (role && klass === 'Role') {\n      this.setState({\n        role: role,\n        id: role.id,\n        assignedUsers: role.users,\n        ability: role.ability\n      });\n    }\n    this.$$('.btn').show();\n  }\n\n  getList() {\n    var users = ModelStore.getList()\n    var klass = ModelStore.getKlass()\n    if (users && klass === 'User') {\n      this.setState({\n        users: users,\n      });\n    }\n  }\n\n  submit() {\n    this.$$('.btn').hide();\n    this.$$('.btn-notice').text(dict.submitting);\n    var data = { role_id: this.state.id, user_id: this.state.user_id }\n    MyActions.setInstance('users/assignments', data, this.state.token);\n  }\n\n  addAbility() {\n    var data = { id: this.state.id, ability_title: this.state.abilityTitle, ability_value: this.state.abilityValue}\n    MyActions.setInstance('roles/abilities', data, this.state.token);\n  }\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  fab() {\n    if (this.state.role) {\n      return (\n        <Fab href={\"/roles/\" + this.state.role.id + \"/edit\"} target=\"#main-view\" position=\"left-bottom\" slot=\"fixed\" color=\"lime\">\n          <Icon ios=\"f7:edit\" aurora=\"f7:edit\" md=\"material:edit\"></Icon>\n          <Icon ios=\"f7:close\" aurora=\"f7:close\" md=\"material:close\"></Icon>\n        </Fab>\n      )\n    }\n  }\n\n  removeRole(user_id) {\n    MyActions.removeInstance('users/assignments', { user_id: user_id, role_id: this.state.id }, this.state.token);\n  }\n\n  removeAbility(title){\n    MyActions.removeInstance('roles/abilities', { id: this.state.id, title: title }, this.state.token);\n  }\n\n  render() {\n    const { role, users, assignedUsers, ability } = this.state;\n    return (\n      <Page>\n        <Navbar title={dict.roles} backLink={dict.back} />\n        <BlockTitle></BlockTitle>\n        {this.fab()}\n        <RoleShow role={role} users={users} ability={ability} removeAbility={this.removeAbility} assignedUsers={assignedUsers} addAbility={this.addAbility} removeRole={this.removeRole} submit={this.submit} handleChange={this.handleChangeValue} />\n      </Page>\n    );\n  }\n}\n","import React from \"react\";\nimport { List, ListItem} from 'framework7-react';\nimport crypto from 'crypto-js';\n\nconst RoleList = (props) => {\n\n  if (props.roles) {\n    return (\n      <List mediaList>\n        {props.roles.map((role) =>\n          <ListItem\n            key={crypto.lib.WordArray.random(32)}\n            link={\"/roles/\" + role.id}\n            ignoreCache={true}\n            title={role.title}\n            after=\"\"\n            subtitle=\"\"\n            text=\"\"\n            ></ListItem>\n        )}\n      </List>\n    )} else {\n      return (<ul></ul>)\n    }\n  }\n  export default RoleList;\n","import React from \"react\";\nimport { Page, Navbar, List, BlockTitle, ListItem, Fab, Icon,Preloader, Block} from 'framework7-react';\nimport RoleList from \"./list\"\nimport { dict} from '../../Dict';\n\nconst RoleIndex = (props) => {\n  return(\n    <Page>\n      <Navbar title={dict.roles} backLink={dict.back} >\n      </Navbar>\n      <BlockTitle>{dict.list}</BlockTitle>\n      <Fab href=\"/roles/new\" target=\"#main-view\"  position=\"left-bottom\" slot=\"fixed\" color=\"deeporange\">\n        <Icon ios=\"f7:add\" aurora=\"f7:add\" md=\"material:add\"></Icon>\n        <Icon ios=\"f7:close\" aurora=\"f7:close\" md=\"material:close\"></Icon>\n      </Fab>\n      <RoleList roles={props.roles}/>\n    </Page>\n  )\n}\nexport default RoleIndex;\n","import React from \"react\"\nimport { Page,Fab, Icon } from 'framework7-react';\nimport ModelStore from \"../../stores/ModelStore\";\nimport RoleIndex from \"../../containers/roles/index\"\nimport * as MyActions from \"../../actions/MyActions\";\nimport { dict} from '../../Dict';\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\n\nexport default class Layout extends React.Component {\n  constructor() {\n    super();\n    this.getList = this.getList.bind(this);\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      roles: null,\n    }\n  }\n  componentWillMount() {\n    ModelStore.on(\"got_list\", this.getList);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_list\", this.getList);\n  }\n\n  componentDidMount(){\n    this.loadData();\n  }\n\n  loadData(){\n    const f7: Framework7 = Framework7.instance;\n    f7.toast.show({ text: dict.receiving, closeTimeout: 2000, position: 'top'});\n    MyActions.getList('roles', this.state.page, {}, this.state.token);\n  }\n\n  getList() {\n    var roles = ModelStore.getList()\n    var klass = ModelStore.getKlass()\n    if (roles && klass === 'Role'){\n      this.setState({\n        roles: roles,\n      });\n    }\n  }\n\n  render() {\n    const {roles} = this.state;\n    return(<RoleIndex roles={roles}/>)\n  }\n}\n","import React from \"react\";\nimport { List, ListItem, ListInput, Block, Row, Button, BlockTitle,Link } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport crypto from 'crypto-js';\n\n\nconst RoleForm = (props) => {\n  if (props.defaultRole) {\n    var isDefaultRole = true;\n  } else {\n    var isDefaultRole = false\n  }\n  \n  return (\n    <React.Fragment>\n      <BlockTitle>{dict.role}</BlockTitle>\n      <List >\n        <ListInput\n          label={dict.title}\n          key='role-title'\n          type=\"text\"\n          placeholder='...'\n          defaultValue={props.role.title}\n          onInput={(e) => {\n            props.handleChange({ title: e.target.value })\n          }}\n        />\n        <ListItem radio value={false} checked={!isDefaultRole} name=\"defaultRole\" title={dict.NonDefault}\n          onChange={(e) => {\n            console.log(e)\n            props.handleChange({ defaultRole: JSON.parse(e.target.value) })\n          }}>\n        </ListItem>\n        <ListItem radio value={true} checked={isDefaultRole} name=\"defaultRole\" title={dict.Default}\n          onChange={(e) => {\n            console.log(e)\n            props.handleChange({ defaultRole: JSON.parse(e.target.value) });\n          }}>\n        </ListItem>\n      </List>\n\n      <Block strong>\n        <Row tag=\"p\">\n        <Link className=\"btn-notice\"></Link>\n          <Button className=\"col btn\" fill disabled={!props.editing} onClick={props.submit}>{dict.submit}</Button>\n        </Row>\n      </Block>\n    </React.Fragment>\n  )\n}\nexport default RoleForm;\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon\n} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport RoleForm from \"../../containers/roles/form\"\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\nexport default class RoleCreate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      role: {},\n      defaultRole: true,\n    }\n  }\n\n\n  componentWillMount() {\n    ModelStore.on(\"set_instance\", this.setInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n  }\n\n  submit(){\n    var data = {title: this.state.title, default_role: this.state.defaultRole}\n    MyActions.setInstance('roles', data, this.state.token);\n  }\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  setInstance(){\n    const self = this;\n    this.$f7router.navigate('/roles/');\n  }\n\n\n\n  render() {\n    const {role, defaultRole} = this.state;\n    return (\n      <Page>\n        <Navbar title={dict.role_form} backLink={dict.back} />\n        <BlockTitle>{dict.role_form}</BlockTitle>\n        <RoleForm role={role} defaultRole={defaultRole} submit={this.submit} editing={true} handleChange={this.handleChangeValue}/>\n      </Page>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon\n} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport RoleForm from \"../../containers/roles/form\"\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\n\nexport default class DocumentUpdate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n\n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      role : {},\n      defaultRole: null,\n    }\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n    ModelStore.on(\"set_instance\", this.setInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n\n  }\n\n\n  submit(){\n    var data = {id:this.state.id, title: this.state.title, default_role: this.state.defaultRole}\n    MyActions.updateInstance('roles', data,  this.state.token);\n  }\n  componentDidMount(){\n    this.loadData();\n  }\n\n  loadData(){\n    const f7: Framework7 = Framework7.instance;\n    f7.toast.show({ text: dict.receiving, closeTimeout: 2000, position: 'top'});\n    if (this.$f7route.params['roleId']) {\n      MyActions.getInstance('roles', this.$f7route.params['roleId'],  this.state.token);\n    }\n  }\n\n\n  getInstance(){\n    var role = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (role && klass === 'Role'){\n      this.setState({\n        title: role.title,\n        id: role.id,\n        role: role,\n        defaultRole: role.default_role\n      });\n    }\n  }\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n\n  setInstance(){\n    const self = this;\n    this.$f7router.navigate('/roles/');\n  }\n\n\n  render() {\n        const {role, defaultRole} = this.state;\n    return (\n      <Page>\n        <Navbar title={dict.role_form} backLink={dict.back} />\n        <BlockTitle>{dict.role_form}</BlockTitle>\n        <RoleForm role={role} defaultRole={defaultRole} submit={this.submit} editing={true} handleChange={this.handleChangeValue}/>\n      </Page>\n    );\n  }\n}\n","import React from \"react\";\nimport { Page, Navbar, List, BlockTitle, ListItem, Fab, Icon,Preloader, Block} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport AssignmentForm from \"../assignments/form\";\nimport AssignmentList from \"../assignments/list\";\n\nimport AccessControlForm from \"../access_controls/form\";\nimport AccessControlList from \"../access_controls/list\";\n\nconst TagShow = (props) => {\n  if (props.tag){\n    return(\n      <React.Fragment>\n        <BlockTitle>{dict.title}</BlockTitle>\n        <List simple-list>\n          <ListItem>{props.tag.title}</ListItem>\n        </List>\n\n        <BlockTitle>{dict.confirmed}</BlockTitle>\n        <List simple-list>\n          <ListItem>{dict[props.tag.confirmed]}</ListItem>\n        </List>\n\n        \n      </React.Fragment>\n    )\n  } else {\n    return(null)\n  }\n}\nexport default TagShow;\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon, Fab\n} from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport TagShow from \"../../containers/tags/show\"\n\nexport default class Layout extends Component {\n  constructor() {\n    super();\n    this.getInstance = this.getInstance.bind(this);\n    this.submit = this.submit.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      tag: null,\n      id: null,\n      users: null,\n      user_id: null,\n      editable: false,\n    }\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n    ModelStore.on(\"set_instance\", this.getInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n    ModelStore.removeListener(\"set_instance\", this.getInstance);\n  }\n\n  componentDidMount() {\n    MyActions.getInstance('tags', this.$f7route.params['tagId'], this.state.token);\n  }\n\n  getInstance() {\n    var tag = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (tag && klass === 'Tag') {\n      this.setState({\n        tag: tag,\n        id: tag.id,\n        assignedUsers: tag.users,\n        ability: tag.ability,\n        editable: tag.editable\n      });\n    }\n    this.$$('.btn').show();\n  }\n\n\n  submit() {\n    this.$$('.btn').hide();\n    this.$$('.btn-notice').text(dict.submitting);\n    var data = { tag_id: this.state.id, user_id: this.state.user_id }\n    MyActions.setInstance('users/assignments', data, this.state.token);\n  }\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  fab() {\n    if (this.state.tag && this.state.editable) {\n      return (\n        <Fab href={\"/tags/\" + this.state.tag.id + \"/edit\"} target=\"#main-view\" position=\"left-bottom\" slot=\"fixed\" color=\"lime\">\n          <Icon ios=\"f7:edit\" aurora=\"f7:edit\" md=\"material:edit\"></Icon>\n          <Icon ios=\"f7:close\" aurora=\"f7:close\" md=\"material:close\"></Icon>\n        </Fab>\n      )\n    }\n  }\n\n\n  render() {\n    const { tag, editable} = this.state;\n    return (\n      <Page>\n        <Navbar title={dict.tags} backLink={dict.back} />\n        <BlockTitle></BlockTitle>\n        {this.fab()}\n        <TagShow \n          tag={tag} editable={editable} \n           submit={this.submit} handleChange={this.handleChangeValue} />\n      </Page>\n    );\n  }\n}\n","import React from \"react\";\nimport { List, ListItem} from 'framework7-react';\nimport crypto from 'crypto-js';\n\nconst TagList = (props) => {\n\n  if (props.tags) {\n    return (\n      <List mediaList>\n        {props.tags.map((tag) =>\n          <ListItem\n            key={crypto.lib.WordArray.random(32)}\n            link={\"/tags/\" + tag.id}\n            ignoreCache={true}\n            title={tag.title}\n            after=\"\"\n            subtitle=\"\"\n            text=\"\"\n            ></ListItem>\n        )}\n      </List>\n    )} else {\n      return (<ul></ul>)\n    }\n  }\n  export default TagList;\n","import React from \"react\";\nimport { Page, Navbar, List, BlockTitle, ListItem, Fab, Icon,Preloader, Block} from 'framework7-react';\nimport TagList from \"./list\"\nimport { dict} from '../../Dict';\n\nconst TagIndex = (props) => {\n  return(\n    <Page>\n      <Navbar title={dict.tags} backLink={dict.back} >\n      </Navbar>\n      <BlockTitle>{dict.list}</BlockTitle>\n      <Fab href=\"/tags/new\" target=\"#main-view\"  position=\"left-bottom\" slot=\"fixed\" color=\"deeporange\">\n        <Icon ios=\"f7:add\" aurora=\"f7:add\" md=\"material:add\"></Icon>\n        <Icon ios=\"f7:close\" aurora=\"f7:close\" md=\"material:close\"></Icon>\n      </Fab>\n      <TagList tags={props.tags}/>\n    </Page>\n  )\n}\nexport default TagIndex;\n","import React from \"react\"\nimport { Page,Fab, Icon } from 'framework7-react';\nimport ModelStore from \"../../stores/ModelStore\";\nimport TagIndex from \"../../containers/tags/index\"\nimport * as MyActions from \"../../actions/MyActions\";\nimport { dict} from '../../Dict';\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\n\nexport default class Layout extends React.Component {\n  constructor() {\n    super();\n    this.getList = this.getList.bind(this);\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      tags: null,\n    }\n  }\n  componentWillMount() {\n    ModelStore.on(\"got_list\", this.getList);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_list\", this.getList);\n  }\n\n  componentDidMount(){\n    this.loadData();\n  }\n\n  loadData(){\n    const f7: Framework7 = Framework7.instance;\n    f7.toast.show({ text: dict.receiving, closeTimeout: 2000, position: 'top'});\n    MyActions.getList('tags', this.state.page, {}, this.state.token);\n  }\n\n  getList() {\n    var tags = ModelStore.getList()\n    var klass = ModelStore.getKlass()\n    if (tags && klass === 'Tag'){\n      this.setState({\n        tags: tags,\n      });\n    }\n  }\n\n  render() {\n    const {tags} = this.state;\n    return(<TagIndex tags={tags}/>)\n  }\n}\n","import React from \"react\";\nimport { List, ListItem, ListInput, Block, Row, Button, BlockTitle, Link } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport crypto from 'crypto-js';\n\n\nconst TagForm = (props) => {\n\n  if (props.isConfirmed) {\n    var isConfirmedTag = true;\n  } else {\n    var isConfirmedTag = false\n  }\n\n  function confirm() {\n    if (props.confirmable) {\n      return (\n        <List>\n          <ListItem radio value={false} checked={!isConfirmedTag} name=\"selectedMode\" title={dict.not_confirmed}\n            onChange={(e) => {\n              props.handleChange({ isConfirmed: JSON.parse(e.target.value) });\n            }}>\n          </ListItem>\n          <ListItem radio value={true} checked={isConfirmedTag} name=\"selectedMode\" title={dict.confirmed}\n            onChange={(e) => {\n              props.handleChange({ isConfirmed: JSON.parse(e.target.value) })\n            }}>\n          </ListItem>\n        </List>\n      )\n    }\n\n  }\n  return (\n    <React.Fragment>\n      <BlockTitle>{dict.tag}</BlockTitle>\n      <List >\n        <ListInput\n          label={dict.title}\n          type=\"text\"\n          placeholder='...'\n          defaultValue={props.tag.title}\n          onInput={(e) => {\n            props.handleChange({ title: e.target.value })\n          }}\n        />\n      </List>\n      {confirm()}\n\n      <Block strong>\n        <Row tag=\"p\">\n        <Link className=\"btn-notice\"></Link>\n          <Button className=\"col btn\" fill disabled={!props.editing} onClick={props.submit}>{dict.submit}</Button>\n        </Row>\n      </Block>\n    </React.Fragment>\n  )\n}\nexport default TagForm;\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon\n} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport TagForm from \"../../containers/tags/form\"\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\nexport default class TagCreate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      tag: {},\n      isConfirmed: false,\n      confirmable: false,\n    }\n  }\n\n\n  componentWillMount() {\n    ModelStore.on(\"set_instance\", this.setInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n  }\n\n  submit(){\n    var data = {title: this.state.title, confirmed: this.state.isConfirmed}\n    MyActions.setInstance('tags', data, this.state.token);\n  }\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  setInstance(){\n    const self = this;\n    this.$f7router.navigate('/tags/');\n  }\n\n\n\n  render() {\n    const {tag, isConfirmed, confirmable} = this.state;\n    return (\n      <Page>\n        <Navbar title={dict.tag_form} backLink={dict.back} />\n        <BlockTitle>{dict.tag_form}</BlockTitle>\n        <TagForm \n          tag={tag} submit={this.submit} editing={true} confirmable={confirmable}\n          handleChange={this.handleChangeValue} isConfirmed={isConfirmed}\n          />\n      </Page>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon\n} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport TagForm from \"../../containers/tags/form\"\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\n\nexport default class DocumentUpdate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n\n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      tag : {},\n      isConfirmed: false,\n      confirmable: false,\n    }\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n    ModelStore.on(\"set_instance\", this.setInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n\n  }\n\n\n  submit(){\n    var data = {\n      id:this.state.id, title: this.state.title, \n      confirmed: this.state.isConfirmed}\n    MyActions.updateInstance('tags', data,  this.state.token);\n  }\n  componentDidMount(){\n    this.loadData();\n  }\n\n  loadData(){\n    const f7: Framework7 = Framework7.instance;\n    f7.toast.show({ text: dict.receiving, closeTimeout: 2000, position: 'top'});\n    if (this.$f7route.params['tagId']) {\n      MyActions.getInstance('tags', this.$f7route.params['tagId'],  this.state.token);\n    }\n  }\n\n\n  getInstance(){\n    var tag = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (tag && klass === 'Tag'){\n      this.setState({\n        title: tag.title,\n        id: tag.id,\n        tag: tag,\n        isConfirmed: tag.confirmed,\n        confirmable: tag.confirmable\n      });\n    }\n  }\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n\n  setInstance(){\n    const self = this;\n    this.$f7router.navigate('/tags/');\n  }\n\n\n  render() {\n        const {tag, isConfirmed, confirmable} = this.state;\n    return (\n      <Page>\n        <Navbar title={dict.tag_form} backLink={dict.back} />\n        <BlockTitle>{dict.tag_form}</BlockTitle>\n        <TagForm \n          tag={tag} isConfirmed={isConfirmed} submit={this.submit} confirmable={confirmable}\n          editing={true} handleChange={this.handleChangeValue}/>\n      </Page>\n    );\n  }\n}\n","import React from \"react\";\nimport { Page, Navbar, List, BlockTitle, ListItem, Fab, Icon,Preloader, Block} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport AssignmentForm from \"../assignments/form\";\nimport AssignmentList from \"../assignments/list\";\n\nimport AccessControlForm from \"../access_controls/form\";\nimport AccessControlList from \"../access_controls/list\";\n\nconst StatusShow = (props) => {\n  if (props.status){\n    return(\n      <React.Fragment>\n        <BlockTitle>{dict.title}</BlockTitle>\n        <List simple-list>\n          <ListItem>{props.status.title}</ListItem>\n        </List>\n        <BlockTitle>{dict.confirmed}</BlockTitle>\n        <List simple-list>\n          <ListItem>{dict[props.status.confirmed]}</ListItem>\n        </List>\n\n        <List simple-list>\n          <ListItem style={{backgroundColor: props.status.the_color}}>{props.status.the_color}</ListItem>\n        </List>\n\n        \n      </React.Fragment>\n    )\n  } else {\n    return(null)\n  }\n}\nexport default StatusShow;\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon, Fab\n} from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport StatusShow from \"../../containers/statuses/show\"\n\nexport default class Layout extends Component {\n  constructor() {\n    super();\n    this.getInstance = this.getInstance.bind(this);\n    this.submit = this.submit.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);    \n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      status: null,\n      id: null,\n      editable: false,\n    }\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n    ModelStore.on(\"set_instance\", this.getInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n    ModelStore.removeListener(\"set_instance\", this.getInstance);\n  }\n\n  componentDidMount() {\n    MyActions.getInstance('statuses', this.$f7route.params['statusId'], this.state.token);\n  }\n\n  getInstance() {\n    var status = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (status && klass === 'Status') {\n      this.setState({\n        status: status,\n        id: status.id,\n        editable: status.editable,\n      });\n    }\n    this.$$('.btn').show();\n  }\n\n\n  submit() {\n    this.$$('.btn').hide();\n    this.$$('.btn-notice').text(dict.submitting);\n    var data = { status_id: this.state.id, user_id: this.state.user_id }\n    MyActions.setInstance('users/assignments', data, this.state.token);\n  }\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  fab() {\n    if (this.state.status && this.state.editable) {\n      return (\n        <Fab href={\"/statuses/\" + this.state.status.id + \"/edit\"} target=\"#main-view\" position=\"left-bottom\" slot=\"fixed\" color=\"lime\">\n          <Icon ios=\"f7:edit\" aurora=\"f7:edit\" md=\"material:edit\"></Icon>\n          <Icon ios=\"f7:close\" aurora=\"f7:close\" md=\"material:close\"></Icon>\n        </Fab>\n      )\n    }\n  }\n\n  render() {\n    const { status, editable } = this.state;\n    return (\n      <Page>\n        <Navbar title={dict.statuses} backLink={dict.back} />\n        <BlockTitle></BlockTitle>\n        {this.fab()}\n        <StatusShow status={status} editable={editable} \n          submit={this.submit} handleChange={this.handleChangeValue} />\n      </Page>\n    );\n  }\n}\n","import React from \"react\";\nimport { List, ListItem} from 'framework7-react';\nimport crypto from 'crypto-js';\n\nconst StatusList = (props) => {\n\n  if (props.statuses) {\n    return (\n      <List mediaList>\n        {props.statuses.map((status) =>\n          <ListItem\n            key={crypto.lib.WordArray.random(32)}\n            link={\"/statuses/\" + status.id}\n            ignoreCache={true}\n            title={status.title}\n            after=\"\"\n            subtitle=\"\"\n            text=\"\"\n            ></ListItem>\n        )}\n      </List>\n    )} else {\n      return (<ul></ul>)\n    }\n  }\n  export default StatusList;\n","import React from \"react\";\nimport { Page, Navbar, List, BlockTitle, ListItem, Fab, Icon,Preloader, Block} from 'framework7-react';\nimport StatusList from \"./list\"\nimport { dict} from '../../Dict';\n\nconst StatusIndex = (props) => {\n  return(\n    <Page>\n      <Navbar title={dict.statuses} backLink={dict.back} >\n      </Navbar>\n      <BlockTitle>{dict.list}</BlockTitle>\n      <Fab href=\"/statuses/new\" target=\"#main-view\"  position=\"left-bottom\" slot=\"fixed\" color=\"deeporange\">\n        <Icon ios=\"f7:add\" aurora=\"f7:add\" md=\"material:add\"></Icon>\n        <Icon ios=\"f7:close\" aurora=\"f7:close\" md=\"material:close\"></Icon>\n      </Fab>\n      <StatusList statuses={props.statuses}/>\n    </Page>\n  )\n}\nexport default StatusIndex;\n","import React from \"react\"\nimport { Page,Fab, Icon } from 'framework7-react';\nimport ModelStore from \"../../stores/ModelStore\";\nimport StatusIndex from \"../../containers/statuses/index\"\nimport * as MyActions from \"../../actions/MyActions\";\nimport { dict} from '../../Dict';\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\n\nexport default class Layout extends React.Component {\n  constructor() {\n    super();\n    this.getList = this.getList.bind(this);\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      statuses: null,\n    }\n  }\n  componentWillMount() {\n    ModelStore.on(\"got_list\", this.getList);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_list\", this.getList);\n  }\n\n  componentDidMount(){\n    this.loadData();\n  }\n\n  loadData(){\n    const f7: Framework7 = Framework7.instance;\n    f7.toast.show({ text: dict.receiving, closeTimeout: 2000, position: 'top'});\n    MyActions.getList('statuses', this.state.page, {}, this.state.token);\n  }\n\n  getList() {\n    var statuses = ModelStore.getList()\n    var klass = ModelStore.getKlass()\n    if (statuses && klass === 'Status'){\n      this.setState({\n        statuses: statuses,\n      });\n    }\n  }\n\n  render() {\n    const {statuses} = this.state;\n    return(<StatusIndex statuses={statuses}/>)\n  }\n}\n","import React from \"react\";\nimport { List, ListItem, ListInput, Block, Row, Button, BlockTitle, Link } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport crypto from 'crypto-js';\n\n\nconst StatusForm = (props) => {\n  if (props.status) {\n    if (props.isConfirmed) {\n      var isConfirmedTag = true;\n    } else {\n      var isConfirmedTag = false\n    }\n    function confirm() {\n      if (props.confirmable) {\n        return (\n          <List>\n            <ListItem radio value={false} checked={!isConfirmedTag} name=\"selectedMode\" title={dict.not_confirmed}\n              onChange={(e) => {\n                props.handleChange({ isConfirmed: JSON.parse(e.target.value) });\n              }}>\n            </ListItem>\n            <ListItem radio value={true} checked={isConfirmedTag} name=\"selectedMode\" title={dict.confirmed}\n              onChange={(e) => {\n                props.handleChange({ isConfirmed: JSON.parse(e.target.value) })\n              }}>\n            </ListItem>\n          </List>\n        )\n      }\n\n    }\n    return (\n      <React.Fragment>\n        <BlockTitle>{dict.status}</BlockTitle>\n        <List >\n          <ListInput\n            label={dict.title}\n            type=\"text\"\n            placeholder='...'\n            defaultValue={props.title}\n            onInput={(e) => {\n              props.handleChange({ title: e.target.value })\n            }}\n          />\n        </List>\n\n        {confirm()}\n\n        <div className=\"list \">\n          <ul>\n            <li>\n              <div className=\"item-content item-input\">\n                <div className=\"item-media\">\n                  <i class=\"fa fa-2x fa-circle-o demo-list-icon\" aria-hidden=\"true\" id=\"demo-color-picker-spectrum-value\"></i>\n                </div>\n                <div className=\"item-inner\">\n                  <div className=\"item-input-wrap\">\n                    <input type=\"text\" placeholder=\"Color\" value={props.color} readonly=\"readonly\" id=\"demo-color-picker-spectrum\" />\n                  </div>\n                </div>\n              </div>\n            </li>\n          </ul>\n        </div>\n\n        <Block strong>\n          <Row tag=\"p\">\n          <Link className=\"btn-notice\"></Link>\n            <Button className=\"col btn\" fill disabled={!props.editing} onClick={props.submit}>{dict.submit}</Button>\n          </Row>\n        </Block>\n      </React.Fragment>\n    )\n  } else {\n    return (null)\n  }\n\n}\nexport default StatusForm;\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon\n} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport StatusForm from \"../../containers/statuses/form\"\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\nexport default class StatusCreate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      status: {},\n      title: '',\n      color: '',\n      isConfirmed: false,\n    }\n  }\n\n\n  componentWillMount() {\n    ModelStore.on(\"set_instance\", this.setInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n  }\n\n\n  pageAfterIn() {\n    this.loadPalette();\n  }\n\n  loadPalette() {\n    const self = this;\n    const app = self.$f7;\n    app.colorPicker.create({\n      inputEl: '#demo-color-picker-spectrum',\n      targetEl: '#demo-color-picker-spectrum-value',\n      targetElSetBackgroundColor: true,\n      modules: ['sb-spectrum', 'hue-slider'],\n      openIn: 'popover',\n      value: {\n        hex: '#ff0000',\n      },\n      on: {\n        closed: function (c) {\n          self.setState({ color: c.value.hex });\n        }\n      }\n    });\n  }\n\n  submit(){\n    var data = {title: this.state.title, color: this.state.color, confirmed: this.state.isConfirmed}\n    MyActions.setInstance('statuses', data, this.state.token);\n  }\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  setInstance(){\n    const self = this;\n    this.$f7router.navigate('/statuses/');\n  }\n\n\n\n  render() {\n    const {status, isConfirmed} = this.state;\n    return (\n      <Page onPageAfterIn={this.pageAfterIn.bind(this)}>\n        <Navbar title={dict.status_form} backLink={dict.back} />\n        <BlockTitle>{dict.status_form}</BlockTitle>\n        <StatusForm \n        status={status} submit={this.submit} isConfirmed={isConfirmed}\n        editing={true} handleChange={this.handleChangeValue}\n        />\n      </Page>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon\n} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport StatusForm from \"../../containers/statuses/form\"\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\n\nexport default class DocumentUpdate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.loadPalette = this.loadPalette.bind(this);\n\n    \n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      status : {},\n      title: null,\n      id: '',\n      color: '#fff',\n      isConfirmed: false,\n      confirmable: false,\n    }\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n    ModelStore.on(\"set_instance\", this.setInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n\n  }\n\n  componentDidMount(){\n    this.loadData();\n  }\n\n  pageAfterIn() {\n    this.loadPalette();\n  }\n\n  loadPalette() {\n    \n    const self = this;\n    const app = self.$f7;\n\n    app.colorPicker.create({\n      inputEl: '#demo-color-picker-spectrum',\n      targetEl: '#demo-color-picker-spectrum-value',\n      targetElSetBackgroundColor: true,\n      modules: ['sb-spectrum', 'hue-slider'],\n      openIn: 'popover',\n      value: {\n        hex: this.state.color,\n      },\n      on: {\n        closed: function (c) {\n          self.setState({ color: c.value.hex });\n        }\n      }\n    });\n  }\n\n\n  submit(){\n    var data = {id:this.state.id, title: this.state.title, color: this.state.color, confirmed: this.state.isConfirmed}\n    MyActions.updateInstance('statuses', data,  this.state.token);\n  }\n\n  loadData(){\n    const f7: Framework7 = Framework7.instance;\n    f7.toast.show({ text: dict.receiving, closeTimeout: 2000, position: 'top'});\n    if (this.$f7route.params['statusId']) {\n      MyActions.getInstance('statuses', this.$f7route.params['statusId'],  this.state.token);\n    }\n  }\n\n\n  getInstance(){\n    var status = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (status && klass === 'Status'){\n      this.setState({\n        title: status.title,\n        id: status.id,\n        color: status.the_color,\n        status: status,\n        isConfirmed: status.confiremd,\n        confirmable: status.confirmable,\n      }, () => this.loadPalette());\n    } \n    console.log(status)\n  }\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n\n  setInstance(){\n    const self = this;\n    this.$f7router.navigate('/statuses/');\n  }\n\n\n  render() {\n        const {status, title, color, isConfirmed, confirmable} = this.state;\n    return (\n      <Page onPageAfterIn={this.pageAfterIn.bind(this)}>\n        <Navbar title={dict.status_form} backLink={dict.back} />\n        <BlockTitle>{dict.status_form}</BlockTitle>\n        <StatusForm \n        status={status} title={title} color={color} isConfirmed={isConfirmed}\n        submit={this.submit} editing={true} handleChange={this.handleChangeValue}\n        confirmable={confirmable}\n        />\n      </Page>\n    );\n  }\n}\n","import React from \"react\";\nimport { List, ListItem, Link } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\nimport Moment from 'react-moment';\nimport JDate from 'jalali-date';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\n\nconst ParticipantList = (props) => {\n  function removeLink(involvement){\n    if (involvement.role !== 'Creator' && props.editable){\n      return(<Link className=\"mt-4\" onClick={() => props.removeProfile(involvement.profile.id)}>{dict.remove}</Link>)\n    }\n  }\n\n  if (props.involvements) {\n    function select(involvement) {\n      if ( props.editable) {\n        return (\n          <select name=\"role\" onChange={(e) => { props.changeRole(involvement.profile.id, e.target.value) }}>\n            {option('Admin', involvement)}\n            {option('Confirmer', involvement)}\n            {option('Colleague', involvement)}\n            {option('Observer', involvement)}\n          </select>\n        )\n      }\n    }\n    function option(role, involvement) {\n      var selected = false\n      if (involvement.role == role) {\n        selected = true\n      }\n      return (<option value={role} selected={selected}>{dict[role]}</option>)\n    }\n    function addLink(involvement) {\n      if (props.removeProfile) {\n        return (\n          <div className='inline'>\n           {removeLink(involvement)}\n            <a className=\" fs-10 smart-select smart-select-init\" data-open-in=\"popover\">\n              {select(involvement)}\n              <div className=\"item-content\">\n                <div className=\"item-inner bg-w-after\">\n                  <div className=\"item-title\">{dict.role}</div>\n                  <div className=\"item-after mt-2\">{dict[involvement.role]}</div>\n                </div>\n              </div>\n            </a>\n          </div>\n        )\n      }\n    }\n    return (\n      <List className='fs-11'>\n        {props.involvements.map((involvement) =>\n          <ListItem\n            key={involvement.profile.id}\n            title={involvement.profile.fullname}\n            after={addLink(involvement)}>\n            <img slot=\"media\" src={involvement.profile.avatar} width=\"27\" height=\"27\" />\n          </ListItem>\n        )}\n      </List>\n    )\n  } else {\n    return (<ul></ul>)\n  }\n}\nexport default ParticipantList;\n","import React from \"react\";\nimport { List, ListItem, Link} from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\nimport Moment from 'react-moment';\nimport JDate from 'jalali-date';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\n\nconst SimpleList = (props) => {\n  if (props.profiles) {\n    function addLink(profile){\n        if (props.addProfile){\n            return(<Link onClick={()=> props.addProfile(profile.id)}>{dict.add}</Link>)\n        } \n        if (props.removeProfile){\n            return(<Link onClick={()=> props.removeProfile(profile.id)}>{dict.remove}</Link>)\n        } \n    }\n    return (\n      <List>\n        {props.profiles.map((profile) =>\n          <ListItem\n          title={profile.fullname}\n          subtitle=\"...\"\n          after={addLink(profile)}>\n          <img slot=\"media\" src={profile.avatar} width=\"27\" height=\"27\"/>\n          </ListItem>\n        )}\n      </List>\n    )\n  } else {\n    return (<ul></ul>)\n  }\n}\nexport default SimpleList;\n","import React from \"react\";\nimport { Toggle, AccordionContent, Card, CardHeader, CardContent, List, ListItem, CardFooter, ListInput, Col } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\nimport Moment from 'react-moment';\nimport JDate from 'jalali-date';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\nimport InvolvementList from \"./involvementList\";\nimport SimpleList from \"../profiles/simpleList\";\n\nconst Partcipants = (props) => {\n    function editable() {\n        if (props.editable) {\n            return (\n                <List accordionList className='w-100'>\n                    <ListItem accordionItem className='fs-10' title={\"+ \" + dict.add}>\n                        <AccordionContent>\n                            <List simpleList>\n                                {props.task.groups.map((group) =>\n                                    <ListItem>\n                                        <span>{group.title}</span>\n                                        <Toggle onChange={(e) => props.addGroup(e,group.id)}/>\n                                    </ListItem>\n                                )}\n                            </List>\n                            <List >\n                                <ListInput\n                                    outline\n                                    label={dict.search}\n                                    floatingLabel\n                                    type=\"text\"\n                                    placeholder=\"\"\n                                    clearButton\n                                    onInput={(e) => {\n                                        props.searchProfile({ query: e.target.value })\n                                    }}\n                                />\n                            </List>\n                            <SimpleList profiles={props.profiles} addProfile={props.addProfile} />\n                        </AccordionContent>\n                    </ListItem>\n                </List>\n            )\n        }\n    }\n    if (props.task) {\n        return (\n            <Card>\n                <CardHeader>\n                    {dict.coworkers}\n                </CardHeader>\n                <CardContent className='mh-90'>\n                    <List>\n                        <InvolvementList\n                            involvements={props.task.the_involvements} removeProfile={props.removeProfile}\n                            changeRole={props.changeRole} editable={props.editable}\n                        />\n                    </List>\n                </CardContent>\n                <CardFooter>\n                    {editable()}\n                </CardFooter>\n            </Card>\n        )\n    } else {\n        return (<ul></ul>)\n    }\n}\nexport default Partcipants;\n","import React from \"react\";\nimport { List, ListItem, Link, Icon, Chip } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\nimport Moment from 'react-moment';\nimport JDate from 'jalali-date';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\n\nconst SimpleList = (props) => {\n  if (props.statuses) {\n    function addLink(status) {\n      if (props.addStatus) {\n        return (<Link onClick={() => props.addStatus(status.id)}>{dict.select}</Link>)\n      }\n    }\n    return (\n      <List>\n        {props.statuses.map((status) =>\n          <ListItem\n            title={\n              <div className=\"chip\" >\n                <div className=\"chip-media\" style={{ backgroundColor: status.the_color }} >\n                  <i className=\"icon f7-icons if-not-md\">plus_circle</i>\n                  <i className=\"icon material-icons md-only\"></i>\n                </div>\n                <div className=\"chip-label\">{status.title}</div>\n              </div>}\n            after={addLink(status)}\n          />\n        )}\n      </List>\n    )\n  } else {\n    return (<ul></ul>)\n  }\n}\nexport default SimpleList;\n","import React from \"react\";\nimport { Block, AccordionContent, Icon, Chip, CardContent, List, ListItem, CardFooter, ListInput, Col } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\nimport Moment from 'react-moment';\nimport JDate from 'jalali-date';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\nimport SimpleList from \"../statuses/simpleList\";\n\nconst Statuses = (props) => {\n    function chip(status){\n        if(status) {\n            return(\n                <div>\n                <div className=\"chip\" >\n                    <div className=\"chip-media\" style={{ backgroundColor: status.color }} >\n                        <i className=\"icon f7-icons if-not-md\">plus_circle</i>\n                        <i className=\"icon material-icons md-only\"></i>\n                    </div>\n                    <div className=\"chip-label\">{status.title}</div>\n                </div>\n            </div>\n            )\n        } else {\n        return(<div>{dict.add_stauts}</div>)\n        }\n    }\n    function editable() {\n        if (props.editable) {\n            return (\n                <AccordionContent>\n                <List >\n                    <ListInput\n                        outline\n                        label={dict.search}\n                        floatingLabel\n                        type=\"text\"\n                        placeholder=\"\"\n                        clearButton\n                        onInput={(e) => {\n                            props.searchStatus({ query: e.target.value })\n                        }}\n                    />\n                </List>\n                <SimpleList statuses={props.statuses} addStatus={props.addStatus} />\n            </AccordionContent>)\n        }\n    }\n    if (props.task) {\n        \n        return (\n            <List accordionList className='w-100'>\n                <ListItem accordionItem className='fs-10'\n                    title={chip(props.task.status)}\n                >\n                {editable()}\n                </ListItem>\n            </List>\n        )\n    } else {\n        return (<ul></ul>)\n    }\n}\nexport default Statuses;\n","import React from \"react\";\nimport { Searchbar, Card, CardHeader, Link, CardContent, List, ListItem, CardFooter, Row, Col } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\nimport Moment from 'react-moment';\nimport JDate from 'jalali-date';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\n\nconst Works = (props) => {\n\n    function chip(work) {\n        var result = []\n\n        if (work.deadline_alert) {\n            result.push(\n                <span className='color-red ml-5'>\n                    <i class=\"fa fa-bell-o\" aria-hidden=\"true\"></i>\n                </span>\n            )\n        }\n\n        if (work.comment_alert) {\n            result.push(\n                <span className='color-green ml-5'>\n                    <i class=\"fa fa-comments-o \" aria-hidden=\"true\"></i>\n                </span>\n            )\n        }\n        if (work.report_alert) {\n            result.push(\n                <span className='color-blue ml-5'>\n                    <i class=\"fa fa-file-text-o \" aria-hidden=\"true\"></i>\n                </span>\n            )\n        }\n        if (work.status) {\n            result.push(\n\n                <div className=\"chip\" key={'work-status-chip' + work.id }>\n                    <div className=\"chip-media\" style={{ backgroundColor: work.status.color }} >\n                        <i className=\"icon f7-icons if-not-md\">plus_circle</i>\n                        <i className=\"icon material-icons md-only\"></i>\n                    </div>\n                    <div className=\"chip-label\">{work.status.title}</div>\n                </div>\n            )\n\n        } else {\n            result.push(<span className='mr-5'>{dict.add_stauts}</span>)\n        }\n        return (result)\n    }\n\n    function editable() {\n        if (props.editable) {\n            return (<Link href={'/works/new/' + props.task.id}><i className=\"ml-5 fa fa-plus\"></i> {dict.new}</Link>)\n        }\n    }\n\n    function title(work){        \n        return(<span>{work.title}</span>)\n    }\n\n    function text(work) {\n        var result = []\n        if (work.priority === 'high'){\n            result.push(<span className='va-2 fs-8 bg-yellow ml-10'>{dict[work.priority]}</span> )\n        }\n        if (work.priority === 'urgent'){\n            result.push(<span className='va-2 fs-8 bg-orange ml-10'>{dict[work.priority]}</span> )\n        }\n        result.push(<span  className='pd-5'>{work.details}</span>)\n        return(result)\n    }\n\n    if (props.task) {\n        return (\n            <Card>\n                <CardHeader>\n                    {dict.works}\n                    {editable()}\n                </CardHeader>\n                <CardContent>\n                    <List mediaList >\n                        {props.works.map((work) =>\n                            <ListItem\n                                key={'work'+work.id}\n                                className='fs-11 work-media'\n                                link={\"/works/\" + work.id}\n                                title={title(work)}\n                                after={chip(work)}\n                                text={text(work)}\n                            >\n                            </ListItem>\n                        )}\n                    </List>\n                </CardContent>\n                <CardFooter>\n\n                    <Searchbar\n                        className='p-static fs-10'\n                        disableButtonText={dict.cancel}\n                        placeholder={dict.search}\n                        inline={true}\n                        onChange={(e) => props.searchWork(e.target.value)}\n                    ></Searchbar>\n\n                </CardFooter>\n            </Card>\n        )\n    } else {\n        return (<ul></ul>)\n    }\n}\nexport default Works;\n","import React from \"react\";\nimport { Searchbar, Card, CardHeader, Link, CardContent, List, ListItem, CardFooter, ListInput, Col } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\nimport Moment from 'react-moment';\nimport JDate from 'jalali-date';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\n\nconst Reports = (props) => {\n    if (props.task) {\n        function creation(t) {\n            var date = new Date(new window.ODate(t))\n            return (<Moment date={date} fromNow></Moment>)\n        }\n        function editable() {\n            if (props.editable) {\n                return (<Link href={'/reports/new/tasks/' + props.task.id}><i className=\"ml-5 fa fa-plus\"></i> {dict.new}</Link>)\n            }\n        }\n        return (\n            <Card>\n                <CardHeader>\n                    {dict.reports}\n                    {editable()}\n                </CardHeader>\n                <CardContent>\n                    <List mediaList >\n                        {props.reports.map((report) =>\n                            <ListItem\n                                key={'report' + report.id}\n                                className='fs-11 work-media'\n                                link={\"/reports/\" + report.id}\n                                title={report.title}\n                                after={creation(report.creation_date)}\n                                text={report.content}\n                            >\n                            </ListItem>\n                        )}\n                    </List>\n                </CardContent>\n                <CardFooter>\n                    <Searchbar\n                        className='p-static fs-10'\n                        disableButtonText={dict.cancel}\n                        placeholder={dict.search}\n                        inline={true}\n                        onChange={(e) => props.searchReport(e.target.value)}\n                    ></Searchbar>\n                </CardFooter>\n            </Card>\n        )\n    } else {\n        return (<ul></ul>)\n    }\n}\nexport default Reports;\n","import React from \"react\";\nimport { List, ListInput, Chip, Block, Link, Button, Card, CardHeader, CardFooter } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport InputTrigger from 'react-input-trigger';\n\n\nconst CommentForm = (props) => {\n  function replyTo(){\n    if(props.replyTo){\n      var content = ''\n      props.comments.map((cm) => { if(cm.id === props.replyTo){content = cm.content}})\n      return(<Chip text={dict.in_reply_to + ': '+ content.substring(0,20)} deleteable onClick={ props.removeReply } />)\n    }\n    \n  }\n  return (\n    <Card>\n      <CardHeader>{dict.comment_form} {replyTo()}</CardHeader>\n     <List >\n        <ListInput\n          label={dict.comment}\n          inputId={\"cm-form-\"+props.rnd}\n          type=\"textarea\"\n          placeholder='...'\n          maxlength='300'\n          resizable\n          clearButton={true}\n          onInput={(e) => {\n            props.handleChange({ commentContent: e.target.value })\n          }}\n        />\n        </List>\n      <CardFooter>\n        <Link></Link>\n        <Link className=\"btn-notice\"></Link>\n        <Button className=\"col btn\" fill onClick={props.submit}>{dict.submit}</Button>\n      </CardFooter>\n    </Card>\n  )\n}\nexport default CommentForm;\n","import React from \"react\";\nimport { List, ListItem, BlockTitle, Row, Link, Col } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport Moment from 'react-moment';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\n\nconst CommentList = (props) => {\n    var items = []\n    function editLink(comment) {\n        var result = []\n        if (comment.editable) {\n            result.push(\n                <Link onClick={() => props.deleteCommentConfirm(comment.id)}>\n                    <i className=\"va ml-5 fa fa-trash\"></i>\n                </Link>\n            )\n        }\n        result.push(\n            <Link onClick={() => props.replyToComment(comment.id)}>\n                <i className=\"va ml-5 fa fa-reply\"></i>\n            </Link>\n        )\n        return (result)\n    }\n\n    function title(comment){\n        var result = [<span>{comment.profile.fullname}: </span>]\n        if(comment.reply_to){\n            result.push(<span className='fs-10 f-color-gray'>{dict.in_reply_to} {comment.reply_to}</span>)\n        }\n        return(result)\n    }\n    if (props.comments) {\n\n        for (let i = 0; i < props.comments.length; i++) {\n            var date = new Date(new window.ODate(props.comments[i].created_at))\n            var time =\n                <React.Fragment>\n                    {editLink(props.comments[i])}\n                    <Moment locale=\"fa\" fromNow ago>{date}</Moment>\n                    {dict.ago}\n                </React.Fragment>\n            items.push(\n                <ListItem\n                    key={'comment' + props.comments[i].id}\n                    className='fs-10'\n                    id={'cm-'+props.comments[i].id}\n                    text={time}\n                    title={title(props.comments[i])}\n                    subtitle={props.comments[i].content}\n                >\n                    <img slot=\"media\" src={props.comments[i].profile.avatar} width=\"44\" height=\"44\" />\n                </ListItem>\n\n\n\n            )\n        }\n\n        return (\n            <React.Fragment>\n                <BlockTitle>{dict.comments}</BlockTitle>\n                <List mediaList inset>\n                    {items}\n                </List>\n                <Row noGap>\n                    <Col></Col>\n                    <Col className='center'>\n                        <a className=\"gray-color\" onClick={() => props.loadMore()}>\n                            {dict.more}\n                        </a>\n                    </Col>\n                    <Col></Col>\n                </Row>\n                <BlockTitle></BlockTitle>\n            </React.Fragment>\n        )\n    }\n    else {\n        return (<BlockTitle></BlockTitle>)\n    }\n}\nexport default CommentList;","import React from \"react\";\nimport { Block, AccordionContent, Card, Row, Col, CardHeader, CardContent, List, ListItem, Chip, Icon, CardFooter, BlockTitle, Link } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport Involvements from './involvements';\nimport Statuses from \"./status\";\nimport Works from \"./works\";\nimport Reports from \"./reports\";\nimport CommentForm from \"../comments/form\"\nimport CommentList from \"../comments/list\"\nimport 'moment-timezone';\nimport 'moment/locale/fa';\n\n\nconst TaskShow = (props) => {\n  if (props.task && props.access) {\n    function tags() {\n      var arr = []\n      props.task.the_tags.map((tag) =>\n        arr.push(<Chip key={'task-tag' + tag.id} text={tag.title} />)\n      )\n      return (arr)\n    }\n\n    function archived(){\n      if(props.task.archived){\n        return(\n          <Row>\n          <Col width='100' tabletWidth='100'>\n          <Card className='fs-11 card-orange'>\n            <CardContent>\n            <i class=\"ml-2 fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\n            {dict.archived} <br/>\n            {props.task.archive_note}\n            </CardContent>\n            \n          </Card>\n          </Col>\n        </Row>\n        )\n      }\n\n    }\n\n    function isPublic() {\n      if (props.task.is_public) {\n        return (dict.public)\n      } else {\n        return (dict.private)\n      }\n    }\n\n    function access(segment) {\n      if (segment === 'statuses') {\n        var editable = false\n        if (props.access.includes('statuses')) {\n          editable = true\n        }\n        return (\n          <Statuses\n            task={props.task} searchStatus={props.searchStatus} editable={editable}\n            statuses={props.statuses} addStatus={props.addStatus}\n          />)\n      }\n\n      if (segment === 'involvements') {\n        var editable = false\n        if (props.access.includes('involvements')) {\n          editable = true\n        }\n        return (\n          <Involvements\n            task={props.task} searchProfile={props.searchProfile}\n            removeProfile={props.removeProfile} addProfile={props.addProfile}\n            profiles={props.profiles} changeRole={props.changeRole}\n            editable={editable} addGroup={props.addGroup}\n          />)\n      }\n\n\n      if (segment === 'works') {\n        var editable = false\n        if (props.access.includes('works')) {\n          editable = true\n        }\n        return (<Works task={props.task} works={props.works} editable={editable} searchWork={props.searchWork}></Works>)\n      }\n\n      if (segment === 'reports') {\n        var editable = false\n        if (props.access.includes('reports')) {\n          editable = true\n        }\n        return (<Reports task={props.task} reports={props.reports} editable={editable} searchReport={props.searchReport}></Reports>)\n      }\n\n      if (segment === 'comments') {\n        if (props.access.includes('comments')) {\n          return (\n            <CommentForm\n              model={props.task} submit={props.submitComment}\n              handleChange={props.handleChange} replyTo={props.replyTo}\n              comments={props.comments} removeReply={props.removeReply}\n              rnd={props.rnd}\n            />\n          )\n        }\n      }\n\n      if (segment === 'edit') {\n        if (props.access.includes('edit')) {\n          return (<Link href={'/tasks/' + props.task.id + '/edit'}><i className=\"ml-5 fa fa-cog\"></i></Link>)\n        }\n      }\n\n      if (segment === 'view') {\n        if (props.access.includes('view')) {\n          return (\n            <React.Fragment>\n              {archived()}\n              <Row>\n                <Col width='100' tabletWidth='50'>\n                  <Card>\n                    <CardHeader>\n                      {props.task.title}\n                      {access('edit')}\n                    </CardHeader>\n                    <CardContent>\n                      <List simple-list>\n                        <ListItem className='fs-11' title=''>{tags()}</ListItem>\n                        <ListItem className='fs-11' title=''>{isPublic()}</ListItem>\n                        <ListItem className='fs-11' title=''>{props.task.details}</ListItem>\n                      </List>\n\n                    </CardContent>\n                    <CardFooter>\n                      {access('statuses')}\n                    </CardFooter>\n                  </Card>\n                </Col>\n\n                <Col width='100' tabletWidth='50'>\n                  {access('involvements')}\n                </Col>\n              </Row>\n\n\n              <Row>\n                <Col width='100' tabletWidth='100'>\n                  {access('works')}\n                </Col>\n              </Row>\n\n              <Row>\n                <Col width='100' tabletWidth='100'>\n                  {access('reports')}\n                </Col>\n              </Row>\n\n              <BlockTitle>{dict.discussions}</BlockTitle>\n\n              {access('comments')}\n              <CommentList\n                comments={props.comments} deleteCommentConfirm={props.deleteCommentConfirm}\n                loadMore={props.loadMore} replyToComment={props.replyToComment}  />\n\n\n            </React.Fragment>\n\n          )\n        }\n      }\n\n    }\n\n\n    return (<React.Fragment>{access('view')}</React.Fragment>)\n  } else {\n    return (null)\n  }\n}\nexport default TaskShow;\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  Link,\n  Icon, Fab\n} from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport TaskShow from \"../../containers/tasks/show\"\nimport crypto from 'crypto-js';\n\nexport default class Layout extends Component {\n  constructor() {\n    super();\n    this.getInstance = this.getInstance.bind(this);\n    this.getList = this.getList.bind(this);\n    this.submit = this.submit.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.removeTask = this.removeTask.bind(this);\n    this.searchProfile = this.searchProfile.bind(this);\n    this.addProfile = this.addProfile.bind(this);\n    this.removeProfile = this.removeProfile.bind(this);\n    this.searchStatus = this.searchStatus.bind(this);\n    this.addStatus = this.addStatus.bind(this);\n    this.deleteComment = this.deleteComment.bind(this);\n    this.submitComment = this.submitComment.bind(this);\n    this.loadMore = this.loadMore.bind(this);\n    this.changeRole = this.changeRole.bind(this);\n    this.deleteCommentConfirm = this.deleteCommentConfirm.bind(this);\n    this.addGroup = this.addGroup.bind(this);\n    this.replyToComment = this.replyToComment.bind(this);\n    this.removeReply = this.removeReply.bind(this);\n    this.searchReport = this.searchReport.bind(this);\n    this.searchWork = this.searchWork.bind(this);\n    \n    \n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      task: null,\n      id: null,\n      users: null,\n      assignedUsers: null,\n      user_id: null,\n      abilityTitle: '',\n      abilityValue: true,\n      ability: null,\n      comments: null,\n      works: null,\n      query: null,\n      profiles: [],\n      statuses: [],\n      access: [],\n      commentContent: '',\n      replyTo: null,\n      reportQuery: null,\n      reports: null,\n      rnd: crypto.lib.WordArray.random(32),\n    }\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n    ModelStore.on(\"set_instance\", this.getInstance);\n    ModelStore.on(\"got_list\", this.getList);\n    ModelStore.on(\"deleted_instance\", this.getInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n    ModelStore.removeListener(\"set_instance\", this.getInstance);\n    ModelStore.removeListener(\"got_list\", this.getList);\n    ModelStore.removeListener(\"deleted_instance\", this.getInstance);\n  }\n\n  componentDidMount() {\n    console.log(this.$f7route.params['taskId'])\n    MyActions.getInstance('tasks', this.$f7route.params['taskId'], this.state.token);\n  }\n\n  getInstance() {\n    var task = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (task && klass === 'Task') {\n      this.setState({\n        task: task,\n        id: task.id,\n        assignedUsers: task.users,\n        works: task.works,\n        reports: task.reports,\n        comments: task.the_comments,\n        access: task.user_access,\n        replyTo: null,\n        reportQuery: null,\n      });\n    }\n    console.log('$$$$$$')\n    console.log(task, klass)\n    this.$$('#cm-form-'+this.state.rnd).val('');\n  }\n\n\n  loadMore() {\n    this.setState({ page: this.state.page + 1 }, () => {\n      MyActions.getInstance('tasks', this.$f7route.params['taskId'], this.state.token, this.state.page);\n    });\n  }\n\n  getList() {\n    var list = ModelStore.getList()\n    var klass = ModelStore.getKlass()\n    if (list && klass === 'User') {\n      this.setState({\n        users: list,\n      });\n    }\n    if (list && klass === 'Profile') {\n      this.setState({\n        profiles: list,\n      });\n    }\n    if (list && klass === 'Status') {\n      this.setState({\n        statuses: list,\n      });\n    }\n    if (list && klass === 'Report') {\n      this.setState({\n        reports: list,\n      });\n    }\n    if (list && klass === 'Work') {\n      this.setState({\n        works: list,\n      });\n    }\n  }\n\n  submit() {\n    this.$$('.btn').hide();\n    this.$$('.btn-notice').text(dict.submitting);\n    var data = { task_id: this.state.id, user_id: this.state.user_id }\n    MyActions.setInstance('users/assignments', data, this.state.token);\n  }\n\n  searchProfile(obj) {\n    this.setState({ profiles: [] });\n    this.setState(obj, () => {\n      MyActions.getList('profiles/search', this.state.page, { q: this.state.query });\n    });\n  }\n\n  searchStatus(obj) {\n    this.setState({ statuses: [] });\n    this.setState(obj, () => {\n      MyActions.getList('statuses/search', this.state.page, { q: this.state.query });\n    });\n  }\n\n  addProfile(profileId) {\n    var data = { id: this.state.id, profile_id: profileId }\n    MyActions.setInstance('tasks/involvements', data, this.state.token);\n  }\n\n  addStatus(statusId) {\n    var data = { id: this.state.id, status_id: statusId }\n    MyActions.setInstance('tasks/status', data, this.state.token);\n  }\n\n  removeProfile(profileId) {\n    var data = { id: this.state.id, profile_id: profileId }\n    MyActions.removeInstance('tasks/involvements', data, this.state.token);\n  }\n\n  changeRole(profile_id, role) {\n    var data = { id: this.state.id, profile_id: profile_id, role: role }\n    MyActions.setInstance('tasks/change_role', data, this.state.token);\n  }\n\n  submitComment() {\n    var data = { commentable_type: 'Task', commentable_id: this.state.id, content: this.state.commentContent, reply_id: this.state.replyTo }\n    MyActions.setInstance('comments', data, this.state.token);\n  }\n\n\n  deleteCommentConfirm(id) {\n    const self = this;\n    const app = self.$f7;\n    app.dialog.confirm(dict.are_you_sure, dict.alert, () => self.deleteComment(id))\n  }\n\n  deleteComment(id) {\n    var data = { id: id }\n    MyActions.removeInstance('comments', data, this.state.token, this.state.page);\n  }\n\n  searchReport(q){\n    MyActions.getList('reports/search', this.state.page, { task_id: this.state.id, q: q }, this.state.token);\n  }\n\n  searchWork(q){\n    MyActions.getList('works/search', this.state.page, { task_id: this.state.id, q: q }, this.state.token);\n  }\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  fab() {\n    if (this.state.task) {\n      return (\n        <Fab href={\"/tasks/\" + this.state.task.id + \"/edit\"} target=\"#main-view\" position=\"left-bottom\" slot=\"fixed\" color=\"lime\">\n          <Icon ios=\"f7:edit\" aurora=\"f7:edit\" md=\"material:edit\"></Icon>\n          <Icon ios=\"f7:close\" aurora=\"f7:close\" md=\"material:close\"></Icon>\n        </Fab>\n      )\n    }\n  }\n\n\n\n  removeTask(user_id) {\n    MyActions.removeInstance('users/assignments', { user_id: user_id, task_id: this.state.id }, this.state.token);\n  }\n\n  addGroup(e, id) {\n    var data = { id: this.state.id, group_id: id }\n    if (e.target.checked) {\n      MyActions.setInstance('tasks/group_involvements', data, this.state.token);\n    } else {\n      MyActions.removeInstance('tasks/group_involvements', data, this.state.token);\n    }\n  }\n\n  replyToComment(id) {\n    this.setState({ replyTo: id })\n    this.$$('#cm-form-'+this.state.rnd).focus()\n  }\n\n  removeReply() {\n    this.setState({ replyTo: null })\n  }\n\n  back() {\n    \n      return (<Link href={'/tasks/'}>{'<'+dict.back}</Link>)\n  }\n\n  render() {\n    const {\n      task, users, assignedUsers, ability,\n      profiles, statuses, works, commentContent,\n      comments, access, replyTo, rnd, reports } = this.state;\n    return (\n      <Page>\n        <Navbar title={dict.tasks}>\n        {this.back()}\n          <Link panelOpen=\"right\">\n            <Icon f7=\"bars\"></Icon>\n          </Link>\n        </Navbar>\n        <TaskShow\n          task={task} users={users} ability={ability} profiles={profiles} statuses={statuses}\n          removeProfile={this.removeProfile} addProfile={this.addProfile}\n          searchProfile={this.searchProfile} removeAbility={this.removeAbility}\n          assignedUsers={assignedUsers} addAbility={this.addAbility}\n          removeTask={this.removeTask} submit={this.submit} handleChange={this.handleChangeValue}\n          searchStatus={this.searchStatus} addStatus={this.addStatus} works={works}\n          submitComment={this.submitComment} deleteCommentConfirm={this.deleteCommentConfirm}\n          commentContent={commentContent} comments={comments} loadMore={this.loadMore}\n          changeRole={this.changeRole} access={access} addGroup={this.addGroup}\n          replyToComment={this.replyToComment} replyTo={replyTo} removeReply={this.removeReply}\n          rnd={rnd} searchReport={this.searchReport} reports={reports} searchWork={this.searchWork}\n        />\n      </Page>\n    );\n  }\n}\n","import React from \"react\";\nimport { Page, Navbar, Row, BlockTitle, Col, Fab, Icon, Card, Link } from 'framework7-react';\nimport TaskList from \"./list\"\nimport WorkList from \"./workList\"\nimport { dict } from '../../Dict';\n\nconst TaskIndex = (props) => {\n  function fab(a) {\n    if (props.ability) {\n      var result = []\n      props.ability.map((ab) => {\n        if (ab.title === a && ab.value) {\n          result.push(\n            <Fab href=\"/tasks/new\" target=\"#main-view\" position=\"left-bottom\" slot=\"fixed\" color=\"deeporange\">\n              <Icon ios=\"f7:add\" aurora=\"f7:add\" md=\"material:add\"></Icon>\n              <Icon ios=\"f7:close\" aurora=\"f7:close\" md=\"material:close\"></Icon>\n            </Fab>\n          )\n        }\n      })\n    }\n    return result\n  }\n  return (\n    <Page>\n      <Navbar title={dict.tasks} >\n        <Link panelOpen=\"right\">\n          <Icon f7=\"bars\"></Icon>\n        </Link>\n      </Navbar>\n      <BlockTitle>{dict.list}</BlockTitle>\n    {fab('create_task')}\n      <Row>\n        <Col width='100' tabletWidth='50'>\n          <Card>\n            <TaskList tasks={props.tasks} header={dict.your_tasks} sortChange={props.sortChange} />\n          </Card>\n        </Col>\n        <Col width='100' tabletWidth='50'>\n          <Card>\n            <WorkList works={props.works} header={dict.your_newest_works} sortChange={props.sortChange} />\n          </Card>\n        </Col>\n\n      </Row>\n\n    </Page>\n  )\n}\nexport default TaskIndex;\n","import React from \"react\"\nimport { Page,Fab, Icon } from 'framework7-react';\nimport ModelStore from \"../../stores/ModelStore\";\nimport TaskIndex from \"../../containers/tasks/index\"\nimport * as MyActions from \"../../actions/MyActions\";\nimport { dict} from '../../Dict';\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\n\nexport default class Layout extends React.Component {\n  constructor() {\n    super();\n    this.getList = this.getList.bind(this);\n    this.sortChange = this.sortChange.bind(this);\n    \n    this.state = {\n      token: window.localStorage.getItem('token'),\n      tasks: null,\n      works: null,\n      ability: null,\n    }\n  }\n  componentWillMount() {\n    ModelStore.on(\"got_list\", this.getList);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_list\", this.getList);\n  }\n\n  componentDidMount(){\n    this.loadData();\n  }\n\n  sortChange(i){\n    MyActions.getList('tasks', this.state.page, {order: i.title}, this.state.token);\n  }\n\n  loadData(){\n    const f7: Framework7 = Framework7.instance;\n    f7.toast.show({ text: dict.receiving, closeTimeout: 2000, position: 'top'});\n    MyActions.getList('tasks', this.state.page, {}, this.state.token);\n    MyActions.getList('works', this.state.page, {}, this.state.token);\n  }\n\n  getList() {\n    var list = ModelStore.getList()\n    var klass = ModelStore.getKlass()\n    if (list && klass === 'Task'){\n      this.setState({\n        tasks: list,\n        ability: list[0].ability\n      });\n    }\n    if (list && klass === 'Work'){\n      this.setState({\n        works: list,\n      });\n    }\n  }\n\n  render() {\n    const {tasks, works, ability} = this.state;\n    return(<TaskIndex tasks={tasks} ability={ability} works={works} sortChange={this.sortChange}/>)\n  }\n}\n","import React from \"react\";\nimport { List, Chip, ListInput, Block, Row, Button, BlockTitle, Card, ListItem, Col, Link } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport crypto from 'crypto-js';\n\n\nconst TaskForm = (props) => {\n  if (props.isPublic) {\n    var isPublicTask = true;\n  } else {\n    var isPublicTask = false;\n  }\n  function tags() {\n    if (props.tags) {\n      var chips = [\n        <div>\n          <a className='fs-11 ' href=\"#\" id='autocomplete-standalone-ajax'>\n            <div className=\"item-title fs-11\">\n              <i className=\"va-minus-2 ml-5 fa fa-plus\"></i>\n              {dict.tags}:\n        </div>\n          </a>\n        </div>]\n      props.tags.map((tag) =>\n        chips.push(<Chip text={tag.title} deleteable onClick={() => props.removeTag(tag.id)} />)\n      )\n      return chips\n    }\n  }\n\n  function deleteButton() {\n    if (props.editing) {\n      return (\n        <Col>\n          <Button className=\"col btn ml-5\" outline color='red' disabled={!props.editing} onClick={() => props.deleteTaskConfirm()}>{dict.delete}</Button>\n        </Col>\n      )\n    }\n  }\n\n  function archive() {\n    if (props.editing) {\n      return (\n        <List>\n          <ListItem checkbox value={props.archived} checked={props.archived} title={dict.archived}\n            onChange={(e) => {\n              props.handleChange({ archived: !JSON.parse(e.target.value) })\n            }}\n          ></ListItem>\n          <ListInput\n            label={dict.archive_note}\n            type=\"textarea\"\n            placeholder={dict.write_archive_note}\n            value={props.archiveNote}\n            onInput={(e) => {\n              props.handleChange({ archiveNote: e.target.value })\n            }}\n          />\n\n        </List>)\n    }\n\n  }\n  return (\n    <Card>\n      <BlockTitle>{dict.task}</BlockTitle>\n      <List >\n        <ListInput\n          label={dict.title}\n          type=\"text\"\n          placeholder={dict.select_appropriate_title}\n          defaultValue={props.task.title}\n          required={true}\n          onInput={(e) => {\n            props.handleChange({ title: e.target.value })\n          }}\n        />\n\n        <ListInput\n          label={dict.details}\n          type=\"textarea\"\n          placeholder={dict.write_appropriate_description}\n          value={props.details}\n          onInput={(e) => {\n            props.handleChange({ details: e.target.value })\n          }}\n        />\n\n        <ListItem radio value={false} checked={!isPublicTask} name=\"selectedMode\" title={dict.private}\n          onChange={(e) => {\n            console.log(e)\n            props.handleChange({ isPublic: JSON.parse(e.target.value) });\n          }}>\n        </ListItem>\n        <ListItem radio value={true} checked={isPublicTask} name=\"selectedMode\" title={dict.public}\n          onChange={(e) => {\n            console.log(e)\n            props.handleChange({ isPublic: JSON.parse(e.target.value) })\n          }}>\n        </ListItem>\n\n\n        <ListItem title={tags()}></ListItem>\n\n      </List>\n\n      {archive()}\n\n      <Block strong>\n        <Row tag=\"p\">\n          {deleteButton()}\n          <Col>\n            <Link className=\"btn-notice\"></Link>\n            <Button className=\"col btn\" fill onClick={props.submit}>{dict.submit}</Button>\n          </Col>\n        </Row>\n      </Block>\n    </Card >\n\n  )\n}\nexport default TaskForm;\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  BlockTitle,\n} from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport TaskForm from \"../../containers/tasks/form\"\nimport { conf } from '../../conf';\n\nexport default class TaskCreate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.loadTags = this.loadTags.bind(this);\n    this.pageAfterIn = this.pageAfterIn.bind(this);\n    this.removeTag = this.removeTag.bind(this);\n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      task: {},\n      title: null,\n      details: null,\n      deadline: new Date(),\n      start: new Date(),\n      startTime: '0:00',\n      deadlineTime: '0:00',\n      privateTask: true,\n      tags: [],\n      isPublic: false,\n    }\n  }\n\n\n  componentWillMount() {\n    ModelStore.on(\"set_instance\", this.setInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n  }\n\n  loadTags() {\n    const self = this;\n    const app = self.$f7;\n\n    app.autocomplete.create({\n      openIn: 'popup', //open in page\n      openerEl: '#autocomplete-standalone-ajax', //link that opens autocomplete\n      multiple: true, //allow multiple values\n      valueProperty: 'id', //object's \"value\" property name\n      textProperty: 'title', //object's \"text\" property name\n      searchbarDisableText: dict.cancel,\n      popupCloseLinkText: dict.close,\n      notFoundText: dict.not_found,\n      limit: 50,\n      searchbarPlaceholder: dict.search,\n      preloader: true, //enable preloader\n      source: function (query, render) {\n        var autocomplete = this;\n        var results = [];\n        if (query.length === 0) {\n          render(results);\n          return;\n        }\n        // Show Preloader\n        autocomplete.preloaderShow();\n        // Do Ajax request to Autocomplete data\n        app.request({\n          url: conf.server + '/tags/search',\n          method: 'GET',\n          dataType: 'json',\n          //send \"query\" to server. Useful in case you generate response dynamically\n          data: {\n            q: query\n          },\n          success: function (item) {\n            // Find matched items\n            for (var i = 0; i < item.data.length; i++) {\n              if (item.data[i].title.indexOf(query) >= 0) results.push(item.data[i]);\n            }\n            // Hide Preoloader\n            autocomplete.preloaderHide();\n            // Render items by passing array with result items\n            render(results);\n          }\n        });\n      },\n      on: {\n        change: function (value) {\n          if (value && value[value.length - 1]) {\n            self.setState({ tags: self.state.tags.concat({ title: value[value.length - 1].title, id: value[value.length - 1].id }) })\n          }\n        },\n      },\n    });\n  }\n\n  pageAfterIn() {\n    this.loadTags();\n  }\n\n  submit() {\n    this.$$('.btn').hide();\n    this.$$('.btn-notice').text(dict.submitting);\n    var data = {\n      title: this.state.title, public: this.state.isPublic,\n      details: this.state.details, tags: this.state.tags\n    }\n    if (this.state.title && this.state.title.length > 0) {\n      MyActions.setInstance('tasks', data, this.state.token);\n    } else {\n      const self = this;\n      self.$f7.dialog.alert(dict.incomplete_data, dict.alert);\n    }\n\n  }\n\n  removeTag(id) {\n    this.setState({\n      tags: this.state.tags.filter(function (tag) {\n        return tag.id !== id\n      })\n    });\n  }\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  setInstance() {\n    this.$$('.btn').show();\n    this.$f7router.navigate('/tasks/');\n  }\n\n\n\n  render() {\n    const { task, tags, isPublic } = this.state;\n    return (\n      <Page onPageAfterIn={this.pageAfterIn.bind(this)} backLink={dict.back} backLinkForce={true}>\n        <Navbar title={dict.task_form} backLink={dict.back} />\n        <BlockTitle>{dict.task_form}</BlockTitle>\n        <TaskForm\n          task={task} removeTag={this.removeTag} tags={tags} isPublic={isPublic}\n          submit={this.submit} editing={false} handleChange={this.handleChangeValue} />\n      </Page>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon\n} from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport TaskForm from \"../../containers/tasks/form\"\nimport Framework7 from 'framework7/framework7.esm.bundle';\nimport { conf } from '../../conf';\n\nexport default class DocumentUpdate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.pageAfterIn = this.pageAfterIn.bind(this);\n    this.loadTags = this.loadTags.bind(this);\n    this.removeTag = this.removeTag.bind(this);\n    this.deleteTaskConfirm = this.deleteTaskConfirm.bind(this);\n    this.deleteTask = this.deleteTask.bind(this);\n    this.deleteInstance = this.deleteInstance.bind(this);\n\n     \n    this.state = {\n      token: window.localStorage.getItem('token'),\n      task: {},\n      id: null,\n      title: null,\n      details: null,\n      privateTask: true,\n      details: null,\n      tags: [],\n      isPublic: false,\n      selectedMode: false,\n      archived: false,\n      archiveNote: null,\n    }\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n    ModelStore.on(\"set_instance\", this.setInstance);\n    ModelStore.on(\"deleted_instance\", this.deleteInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n    ModelStore.removeListener(\"deleted_instance\", this.deleteInstance);\n\n  }\n\n  pageAfterIn() {\n    this.loadTags();\n  }\n\n  loadTags() {\n    const self = this;\n    const app = self.$f7;\n\n    app.autocomplete.create({\n      openIn: 'popup', //open in page\n      openerEl: '#autocomplete-standalone-ajax', //link that opens autocomplete\n      multiple: true, //allow multiple values\n      valueProperty: 'id', //object's \"value\" property name\n      textProperty: 'title', //object's \"text\" property name\n      limit: 50,\n      searchbarPlaceholder: dict.search,\n      searchbarDisableText: dict.cancel,\n      popupCloseLinkText: dict.close,\n      notFoundText: dict.not_found,\n      preloader: true, //enable preloader\n      source: function (query, render) {\n        var autocomplete = this;\n        var results = [];\n        if (query.length === 0) {\n          render(results);\n          return;\n        }\n        // Show Preloader\n        autocomplete.preloaderShow();\n        // Do Ajax request to Autocomplete data\n        app.request({\n          url: conf.server + '/tags/search',\n          method: 'GET',\n          dataType: 'json',\n          //send \"query\" to server. Useful in case you generate response dynamically\n          data: {\n            q: query\n          },\n          success: function (item) {\n            // Find matched items\n            for (var i = 0; i < item.data.length; i++) {\n              if (item.data[i].title.indexOf(query) >= 0) results.push(item.data[i]);\n            }\n            // Hide Preoloader\n            autocomplete.preloaderHide();\n            // Render items by passing array with result items\n            render(results);\n          }\n        });\n      },\n      on: {\n        change: function (value) {\n          if (value && value[value.length - 1]) {\n            self.setState({ tags: self.state.tags.concat({ title: value[value.length - 1].title, id: value[value.length - 1].id }) })\n          }\n        },\n      },\n    });\n  }\n\n\n\n  submit() {\n    this.$$('.btn').hide();\n    this.$$('.btn-notice').text(dict.submitting);\n    var data = {\n      id: this.state.id, title: this.state.title, public: this.state.isPublic,\n      details: this.state.details, tags: this.state.tags, archive_note: this.state.archiveNote,\n      archived: this.state.archived\n    }\n    if (this.state.title && this.state.title.length > 0) {\n      MyActions.updateInstance('tasks', data, this.state.token);\n    } else {\n      const self = this;\n      self.$f7.dialog.alert(dict.incomplete_data, dict.alert);\n    }\n\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  loadData() {\n    const f7: Framework7 = Framework7.instance;\n    f7.toast.show({ text: dict.receiving, closeTimeout: 2000, position: 'top' });\n    if (this.$f7route.params['taskId']) {\n      MyActions.getInstance('tasks', this.$f7route.params['taskId'], this.state.token);\n    }\n  }\n\n\n  getInstance() {\n    var task = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (task && klass === 'Task') {\n      this.setState({\n        title: task.title,\n        details: task.details,\n        id: task.id,\n        task: task,\n        defaultTask: task.default_task,\n        tags: task.the_tags,\n        isPublic: task.is_public,\n        archived: task.archived, \n        archiveNote: task.archive_note, \n      }, () => this.loadTags());\n    }\n\n  }\n\n  removeTag(id) {\n    this.setState({\n      tags: this.state.tags.filter(function (tag) {\n        return tag.id !== id\n      })\n    });\n  }\n\n  handleChangeValue(obj) {\n    console.log(obj)\n    this.setState(obj);\n  }\n\n  deleteTaskConfirm(){\n    const self = this;\n    const app = self.$f7;\n    app.dialog.confirm(dict.are_you_sure, dict.alert, self.deleteTask)\n  }\n\n  deleteTask(){\n    var data = { id: this.state.id}\n    MyActions.removeInstance('tasks', data, this.state.token);\n  }\n\n\n  deleteInstance() {\n    this.$f7router.navigate('/tasks/');\n  }\n\n\n  setInstance() {\n    var task = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (task && klass === 'Task') {\n      this.$$('.btn').show();\n      this.$f7router.navigate('/tasks/' + task.id);\n    }\n  }\n\n\n  render() {\n    const { task, defaultTask, title, details, isPublic, tags, selectedMode, archived, archiveNote } = this.state;\n    return (\n      <Page onPageAfterIn={this.pageAfterIn.bind(this)} backLink={dict.back} backLinkForce={true}>\n        <Navbar title={dict.task_form} backLink={dict.back} />\n        <BlockTitle>{dict.task_form}</BlockTitle>\n        <TaskForm\n          task={task} title={title} isPublic={isPublic}\n          tags={tags} removeTag={this.removeTag} selectedMode={selectedMode}\n          details={details} defaultTask={defaultTask} submit={this.submit}\n          editing={true} handleChange={this.handleChangeValue}\n          deleteTaskConfirm={this.deleteTaskConfirm}\n          archived={archived} archiveNote={archiveNote}\n          />\n      </Page>\n    );\n  }\n}\n","import React from \"react\";\nimport { List, ListItem, Link } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\nimport Moment from 'react-moment';\nimport JDate from 'jalali-date';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\n\nconst InvolvementList = (props) => {\n\n  if (props.involvements) {\n    function removeLink(involvement){\n      if (involvement.role !== 'Creator' && props.editable){\n        return(<Link className=\"mt-4\" onClick={() => props.removeProfile(involvement.profile.id)}>{dict.remove}</Link>)\n      }\n    }\n\n    function select(involvement) {\n      if (involvement.role !== 'Creator' && props.editable) {\n        return (\n          <select name=\"role\" onChange={(e) => { props.changeRole(involvement.profile.id, e.target.value) }}>\n            {option('Admin', involvement)}\n            {option('Confirmer', involvement)}\n            {option('Colleague', involvement)}\n            {option('Observer', involvement)}\n          </select>\n        )\n      }\n    }\n    function option(role, involvement) {\n      var selected = false\n      if (involvement.role == role) {\n        selected = true\n      }\n      return (<option value={role} selected={selected}>{dict[role]}</option>)\n    }\n    function addLink(involvement) {\n      if (props.removeProfile) {\n        return (\n          <div className='inline'>\n             {removeLink(involvement)}\n            <a className=\" fs-10 smart-select smart-select-init\" data-open-in=\"popover\">\n              {select(involvement)}\n              <div className=\"item-content\">\n                <div className=\"item-inner bg-w-after\">\n                  <div className=\"item-title\">{dict.role}</div>\n                  <div className=\"item-after mt-2\">{dict[involvement.role]}</div>\n                </div>\n              </div>\n            </a>\n          </div>\n        )\n      }\n    }\n    return (\n      <List className='fs-11'>\n        {props.involvements.map((involvement) =>\n          <ListItem\n            key={'involvement' + involvement.profile.id}\n            title={involvement.profile.fullname}\n            after={addLink(involvement)}>\n            <img slot=\"media\" src={involvement.profile.avatar} width=\"27\" height=\"27\" />\n          </ListItem>\n        )}\n      </List>\n    )\n  } else {\n    return (<ul></ul>)\n  }\n}\nexport default InvolvementList;\n","import React from \"react\";\nimport { Link, AccordionContent, Card, CardHeader, CardContent, List, ListItem, CardFooter, ListInput, Col } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\nimport Moment from 'react-moment';\nimport JDate from 'jalali-date';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\nimport InvolvementList from \"./involvementList\";\nimport  SimpleList from \"../profiles/simpleList\";\n\nconst Partcipants = (props) => {\n    function editable() {\n        if (props.editable) {\n            return (\n                <List accordionList className='w-100'>\n                <ListItem accordionItem className='fs-10' title={\"+ \" + dict.add}>\n                    <AccordionContent>\n                        <List >\n                            <ListInput\n                                outline\n                                label={dict.search}\n                                floatingLabel\n                                type=\"text\"\n                                placeholder=\"\"\n                                clearButton\n                                onInput={(e) => {\n                                    props.searchProfile({ query: e.target.value })\n                                  }}\n                            />\n                        </List>\n                        <SimpleList profiles={props.profiles} addProfile={props.addProfile}  />\n                    </AccordionContent>\n                </ListItem>\n            </List>\n                )\n        }\n    }\n    if (props.work) {\n        return (\n            <Card>\n                <CardHeader>\n                    {dict.coworkers}\n                </CardHeader>\n                <CardContent className='mh-90'>\n                    <List>\n                        <InvolvementList \n                            involvements={props.work.the_involvements} removeProfile={props.removeProfile} \n                            changeRole={props.changeRole} editable={props.editable} />\n                    </List>\n                </CardContent>\n                <CardFooter>\n                    {editable()}\n                </CardFooter>\n            </Card>\n        )\n    } else {\n        return (<ul></ul>)\n    }\n}\nexport default Partcipants;\n","import React from \"react\";\nimport { Block, AccordionContent, Icon, Chip, CardContent, List, ListItem, CardFooter, ListInput, Col } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\nimport Moment from 'react-moment';\nimport JDate from 'jalali-date';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\nimport SimpleList from \"../statuses/simpleList\";\n\nconst Statuses = (props) => {\n    function chip(status) {\n        if (status) {\n            return (\n                <div>\n                    <div className=\"chip\" >\n                        <div className=\"chip-media\" style={{ backgroundColor: status.color }} >\n                            <i className=\"icon f7-icons if-not-md\">plus_circle</i>\n                            <i className=\"icon material-icons md-only\"></i>\n                        </div>\n                        <div className=\"chip-label\">{status.title}</div>\n                    </div>\n                </div>\n            )\n        } else {\n            return (<div>{dict.add_stauts}</div>)\n        }\n    }\n    function editable() {\n        if (props.editable) {\n            return (\n                <AccordionContent>\n                    <List >\n                        <ListInput\n                            outline\n                            label={dict.search}\n                            floatingLabel\n                            type=\"text\"\n                            placeholder=\"\"\n                            clearButton\n                            onInput={(e) => {\n                                props.searchStatus({ query: e.target.value })\n                            }}\n                        />\n                    </List>\n                    <SimpleList statuses={props.statuses} addStatus={props.addStatus} />\n                </AccordionContent>)\n        }\n    }\n    if (props.work) {\n\n        return (\n            <List accordionList className='w-100'>\n                <ListItem accordionItem className='fs-10'\n                    key={'status' + props.work.id}\n                    title={chip(props.work.status)}\n                >\n                    {editable()}\n                </ListItem>\n            </List>\n        )\n    } else {\n        return (<ul></ul>)\n    }\n}\nexport default Statuses;\n","import React from \"react\";\nimport { Block, Card, CardHeader, Link, CardContent, List, ListItem, CardFooter, Searchbar, Col } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\nimport Moment from 'react-moment';\nimport JDate from 'jalali-date';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\n\nconst Reports = (props) => {\n    if (props.work) {\n        function creation(t) {\n            var date = new Date(new window.ODate(t))\n            return(<Moment date={date} fromNow></Moment>)\n        }\n        function editable() {\n            if (props.editable) {\n                return ( <Link href={'/reports/new/works/' + props.work.id}><i className=\"ml-5 fa fa-plus\"></i> {dict.new}</Link>)\n            }\n        }\n        return (\n            <Card>\n                <CardHeader>\n                    {dict.reports}\n                    {editable()}\n                </CardHeader>\n                <CardContent>\n                    <List mediaList >\n                        {props.reports.map((report) =>\n                            <ListItem\n                                key={'report' + report.id}\n                                className='fs-11 work-media'\n                                link={\"/reports/\" + report.id}\n                                title={report.title}\n                                after={creation(report.creation_date)}\n                                text={report.content}\n                                \n                            >\n                            </ListItem>\n                        )}\n                    </List>\n                </CardContent>\n                <CardFooter>\n                    <Searchbar\n                        className='p-static fs-10'\n                        disableButtonText={dict.cancel}\n                        placeholder={dict.search}\n                        inline={true}\n                        onChange={(e) => props.searchReport(e.target.value)}\n                    ></Searchbar>\n                </CardFooter>\n            </Card>\n        )\n    } else {\n        return (<ul></ul>)\n    }\n}\nexport default Reports;\n","import React from \"react\";\nimport { List, ListItem, Chip, Link } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\nimport Moment from 'react-moment';\nimport JDate from 'jalali-date';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\n\nconst TodosInvolvementsList = (props) => {\n\n  function addInvolvements(todo) {\n    var chips = []\n    todo.involvements.map((involvement) =>\n      chips.push(<Chip key={'chip' + '-' + todo.id + '-' + involvement.profile.id} className=\"ml-5\" text={involvement.profile.fullname} />)\n    )\n    if (props.editable) {\n      chips.push(<Link key={'todoEdit' + todo.id} href={'/todos/' + todo.id + '/edit'}><i className=\"ml-5 fa fa-edit\"></i></Link>)\n      chips.push(<Link key={'todoDelete' + todo.id} onClick={() => props.deleteTodoConfirm(todo.id)}><i className=\"ml-5 fa fa-trash\"></i></Link>)\n    }\n\n    return (chips)\n\n  }\n  function lt(todo) {\n    if (todo.check) {\n      return ('of-scroll line-through ')\n    } else {\n      return ('of-scroll')\n    }\n  }\n  if (props.todos) {\n    return (\n      <List className='fs-11 ' >\n        {props.todos.map((todo) =>\n\n          <li className={lt(todo)} key={'todo' + todo.id}>\n            <label className=\"item-content item-checkbox\">\n              <input type=\"checkbox\" value=\"\" checked={todo.check} onChange={(e) => props.todoChecked(todo.id, e)}></input>\n              <i className=\"icon icon-checkbox\"></i>\n              <div className=\"item-inner of-scroll\">\n                <div className=\"item-title of-visible mw-auto\">{todo.title}</div>\n                <div className=\"item-after\">\n                  <span>\n                    {addInvolvements(todo)}\n                  </span>\n                </div>\n              </div>\n            </label>\n          </li>\n        )}\n      </List>\n\n    )\n  } else {\n    return (<ul></ul>)\n  }\n}\nexport default TodosInvolvementsList;\n        /*<ListItem\nclassName={lt(todo)}\ncheckbox\nchecked={todo.check}\nonChange={(e) => props.todoChecked(todo.id,e)}\ntitle={todo.title}\nafter={addInvolvements(todo)}>\n</ListItem>*/","import React from \"react\";\nimport { List, ListItem, ListInput, Block, Row, Button, Link, Col } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport crypto from 'crypto-js';\n\n\nconst TodoForm = (props) => {\n  if (true) {\n    function involvementChecked(workInvolvement) {\n      var flag = false\n      props.involvements.map((involvement) => {\n        if (involvement.id === workInvolvement.profile.id) {\n          flag = true\n        }\n      }\n      )\n      return flag\n    }\n    return (\n      <List>\n        <ListInput\n          key='todos-form-title'\n          label={dict.title}\n          type=\"text\"\n          placeholder={dict.select_appropriate_title}\n          defaultValue={props.title}\n          required={true}\n          onInput={(e) => {\n            props.handleChange({ title: e.target.value })\n          }}\n        />\n\n        <List className='fs-11 ' >\n          {props.workInvolvements.map((workInvolvement) =>\n            <ListItem\n              key={workInvolvement.id}\n              checkbox\n              checked={involvementChecked(workInvolvement)}\n              onChange={(e) => props.involvementCheck(workInvolvement.profile.id, e)}\n              title={workInvolvement.profile.fullname}\n              after=''>\n            </ListItem>\n\n          )}\n        </List>\n\n\n\n        <Block strong>\n          <Row tag=\"p\">\n            <Col>\n            <Link className=\"btn-notice\"></Link>\n              <Button className=\"col btn\" fill disabled={!props.editing} onClick={props.submit}>{dict.submit}</Button>\n            </Col>\n          </Row>\n        </Block>\n      </List>\n    )\n  } else {\n    return (null)\n  }\n\n}\nexport default TodoForm;\n","import React from \"react\";\nimport { Link, AccordionContent, Card, CardHeader, CardContent, List, ListItem, CardFooter, ListInput, Button } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\nimport Moment from 'react-moment';\nimport JDate from 'jalali-date';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\nimport TodosInvolvementsList from \"./todosInvolvementList\";\nimport  SimpleList from \"../profiles/simpleList\";\nimport  TodoForm from \"./form\";\n\nconst TodoList = (props) => {\n    if (props.work) {\n        function editable() {\n            if (props.editable) {\n                return ( <Link href={'/todos/new/' + props.work.id}><i className=\"ml-5 fa fa-plus\"></i> {dict.new}</Link>)\n            }\n        }\n        return (\n            <Card className='bg-gray'>\n                <CardHeader>\n                    {dict.todo_list}\n                    {editable()}\n                </CardHeader>\n                <CardContent>\n                    <List>\n                        <TodosInvolvementsList \n                        todos={props.todos} todoChecked={props.todoChecked} \n                        deleteTodoConfirm={props.deleteTodoConfirm} editable={props.editable}\n                        />\n                    </List>\n                </CardContent>\n                <CardFooter>\n                    \n                </CardFooter>\n            </Card>\n        )\n    } else {\n        return (<ul></ul>)\n    }\n}\nexport default TodoList;\n","import React from \"react\";\nimport { Block, AccordionContent, Card, Row, Col, CardHeader, CardContent, List, ListItem, Chip, Icon, CardFooter, BlockTitle, Link } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport Involvements from './involvements';\nimport Statuses from \"./status\";\nimport Reports from \"./reports\";\nimport Moment from 'react-moment';\nimport JDate from 'jalali-date';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\nimport CommentForm from \"../comments/form\"\nimport CommentList from \"../comments/list\"\nimport TodoList from \"../todos/list\"\n\nconst WorkShow = (props) => {\n  function archived(){\n    if(props.work.archived){\n      return(\n        <Row>\n        <Col width='100' tabletWidth='100'>\n        <Card className='fs-11 card-orange'>\n          <CardContent>\n          <i class=\"ml-2 fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\n          {dict.archived} <br/>\n          {props.work.task.archive_note}\n          </CardContent>\n          \n        </Card>\n        </Col>\n      </Row>\n      )\n    }\n\n  }\n\n  function access(segment) {\n    if (segment === 'statuses') {\n      var editable = false\n      if (props.access.includes('statuses')) {\n        editable = true\n      }\n      return (\n        <Statuses\n          work={props.work} searchStatus={props.searchStatus} editable={editable}\n          statuses={props.statuses} addStatus={props.addStatus}\n        />\n      )\n    }\n\n    if (segment === 'involvements') {\n      var editable = false\n      if (props.access.includes('involvements')) {\n        editable = true\n      }\n      return (\n        <Involvements\n          work={props.work} searchProfile={props.searchProfile}\n          removeProfile={props.removeProfile} addProfile={props.addProfile}\n          profiles={props.profiles} changeRole={props.changeRole}\n          editable={editable} />\n      )\n    }\n\n    if (segment === 'todos') {\n      var editable = false\n      if (props.access.includes('todos')) {\n        editable = true\n      }\n      return (\n        <TodoList \n        work={props.work} todos={props.todos} \n        editable={editable} todoChecked={props.todoChecked}\n        deleteTodoConfirm={props.deleteTodoConfirm}\n        />\n      )\n    }\n\n\n    if (segment === 'reports') {\n      var editable = false\n      if (props.access.includes('reports')) {\n        editable = true\n      }\n      return (<Reports work={props.work} editable={editable} reports={props.reports} searchReport={props.searchReport} ></Reports>)\n    }\n\n    if (segment === 'comments') {\n      if (props.access.includes('comments')) {\n        return (<CommentForm \n          model={props.work} submit={props.submitComment} \n          handleChange={props.handleChange} replyTo={props.replyTo}\n          comments={props.comments} removeReply={props.removeReply}\n          rnd={props.rnd}\n          />)\n      }\n    }\n\n    if (segment === 'edit') {\n      if (props.access.includes('edit')) {\n        return (<Link href={'/works/' + props.work.id + '/edit'}><i className=\"ml-5 fa fa-cog\"></i></Link>)\n      }\n    }\n\n\n    if (segment === 'view') {\n      if (props.access.includes('view')) {\n        return (\n          <React.Fragment>\n            {archived()}\n            <Row>\n              <Col width='100' tabletWidth='50'>\n                <Card>\n                  <CardHeader>\n                    {props.work.title}\n                    {access('edit')}\n                  </CardHeader>\n                  <CardContent>\n                    <List simple-list>\n                      <ListItem className='fs-11' title={dict.task + ': ' + props.work.task.title} href={'/tasks/' + props.work.task.id}></ListItem>\n                      <ListItem className='fs-11' title={dict.start_date + ': ' + props.work.start_date_j}></ListItem>\n                      <ListItem className='fs-11' title={dict.deadline + ': ' + props.work.deadline_date_j}></ListItem>\n\n                      <ListItem className='fs-11' title=''></ListItem>\n                    </List>\n                    <span className='fs-11'>{props.work.details}</span>\n\n                  </CardContent>\n                  <CardFooter>\n                    {access('statuses')}\n                  </CardFooter>\n                </Card>\n              </Col>\n\n              <Col width='100' tabletWidth='50'>\n                {access('involvements')}\n              </Col>\n            </Row>\n\n            <Row>\n              <Col width='100' tabletWidth='100'>\n                {access('todos')}\n              </Col>\n            </Row>\n\n            <Row>\n              <Col width='100' tabletWidth='100'>\n                {access('reports')}\n              </Col>\n            </Row>\n            {access('comments')}\n\n            <CommentList \n              comments={props.comments} deleteCommentConfirm={props.deleteCommentConfirm}  \n              replyToComment={props.replyToComment} \n            />\n\n          </React.Fragment>\n        )\n      }\n    }\n\n  }\n\n  if (props.work && props.access) {\n    return (<React.Fragment>{access('view')}</React.Fragment>)\n  } else {\n    return (null)\n  }\n}\nexport default WorkShow;\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  Link,\n  Icon, Fab\n} from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport WorkShow from \"../../containers/works/show\"\nimport crypto from 'crypto-js';\nimport TaskShow from '../../containers/tasks/show';\n\nexport default class Layout extends Component {\n  constructor() {\n    super();\n    this.getInstance = this.getInstance.bind(this);\n    this.getList = this.getList.bind(this);\n    this.submit = this.submit.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.removeWork = this.removeWork.bind(this);\n    this.addAbility = this.addAbility.bind(this);\n    this.removeAbility = this.removeAbility.bind(this);\n    this.searchProfile = this.searchProfile.bind(this);\n    this.addProfile = this.addProfile.bind(this);\n    this.removeProfile = this.removeProfile.bind(this);\n    this.searchStatus = this.searchStatus.bind(this);\n    this.addStatus = this.addStatus.bind(this);\n    this.deleteComment = this.deleteComment.bind(this);\n    this.deleteCommentConfirm = this.deleteCommentConfirm.bind(this);\n    this.submitComment = this.submitComment.bind(this);\n    this.loadMore = this.loadMore.bind(this);\n    this.changeRole = this.changeRole.bind(this);\n    this.todoChecked = this.todoChecked.bind(this);\n    this.deleteTodoConfirm = this.deleteTodoConfirm.bind(this);\n    this.deleteTodo = this.deleteTodo.bind(this);\n    this.replyToComment = this.replyToComment.bind(this);\n    this.removeReply = this.removeReply.bind(this);\n    this.searchReport = this.searchReport.bind(this);\n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      work: null,\n      id: null,\n      users: null,\n      assignedUsers: null,\n      user_id: null,\n      abilityTitle: '',\n      abilityValue: true,\n      ability: null,\n      query: null,\n      profiles: [],\n      statuses: [],\n      commentContent: '',\n      access: null,\n      comments: null,\n      todos: [],\n      replyTo: null,\n      reports: null,\n      rnd: crypto.lib.WordArray.random(32),\n    }\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n    ModelStore.on(\"set_instance\", this.getInstance);\n    ModelStore.on(\"got_list\", this.getList);\n    ModelStore.on(\"deleted_instance\", this.getInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n    ModelStore.removeListener(\"set_instance\", this.getInstance);\n    ModelStore.removeListener(\"got_list\", this.getList);\n    ModelStore.removeListener(\"deleted_instance\", this.getInstance);\n  }\n\n  componentDidMount() {\n    console.log('Getting Works For Show')\n    MyActions.getInstance('works', this.$f7route.params['workId'], this.state.token);\n  }\n\n  getInstance() {\n    var work = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (work && klass === 'Work') {\n      this.setState({\n        work: work,\n        id: work.id,\n        assignedUsers: work.users,\n        reports: work.reports,\n        comments: work.the_comments,\n        access: work.user_access,\n        todos: work.the_todos,\n        replyTo: null,\n        //involvementss: work.the_involvementss\n      });\n    }\n    this.$$('.btn').show();\n    this.$$('#cm-form-' + this.state.rnd).val('');\n  }\n\n  getList() {\n    var list = ModelStore.getList()\n    var klass = ModelStore.getKlass()\n    if (list && klass === 'User') {\n      this.setState({\n        users: list,\n      });\n    }\n    if (list && klass === 'Profile') {\n      this.setState({\n        profiles: list,\n      });\n    }\n    if (list && klass === 'Status') {\n      this.setState({\n        statuses: list,\n      });\n    }\n    if (list && klass === 'Report') {\n      this.setState({\n        reports: list,\n      });\n    }\n  }\n\n  submit() {\n    this.$$('.btn').hide();\n    this.$$('.btn-notice').text(dict.submitting);\n    var data = { work_id: this.state.id, user_id: this.state.user_id }\n    MyActions.setInstance('users/assignments', data, this.state.token);\n  }\n\n  searchProfile(obj) {\n    this.setState({ profiles: [] });\n    this.setState(obj, () => {\n      MyActions.getList('profiles/search', this.state.page, { q: this.state.query });\n    });\n  }\n\n  searchStatus(obj) {\n    this.setState({ statuses: [] });\n    this.setState(obj, () => {\n      MyActions.getList('statuses/search', this.state.page, { q: this.state.query });\n    });\n  }\n\n  addProfile(profileId) {\n    var data = { id: this.state.id, profile_id: profileId }\n    MyActions.setInstance('works/involvements', data, this.state.token);\n  }\n\n  addStatus(statusId) {\n    var data = { id: this.state.id, status_id: statusId }\n    MyActions.setInstance('works/status', data, this.state.token);\n  }\n\n  removeProfile(profileId) {\n    var data = { id: this.state.id, profile_id: profileId }\n    MyActions.removeInstance('works/involvements', data, this.state.token);\n  }\n\n  addAbility() {\n    var data = { id: this.state.id, ability_title: this.state.abilityTitle, ability_value: this.state.abilityValue }\n    MyActions.setInstance('works/abilities', data, this.state.token);\n  }\n\n  changeRole(profile_id, role) {\n    var data = { id: this.state.id, profile_id: profile_id, role: role }\n    MyActions.setInstance('works/change_role', data, this.state.token);\n  }\n\n\n  loadMore() {\n    this.setState({ page: this.state.page + 1 }, () => {\n      console.log('Getting Works Load More')\n      MyActions.getInstance('works', this.$f7route.params['workId'], this.state.token, this.state.page);\n    });\n  }\n\n\n  submitComment() {\n    var data = { commentable_type: 'Work', commentable_id: this.state.id, content: this.state.commentContent, reply_id: this.state.replyTo }\n    MyActions.setInstance('comments', data, this.state.token);\n  }\n\n\n  deleteCommentConfirm(id) {\n    const self = this;\n    const app = self.$f7;\n    app.dialog.confirm(dict.are_you_sure, dict.alert, () => self.deleteComment(id))\n  }\n\n  deleteComment(id) {\n    var data = { id: id }\n    MyActions.removeInstance('comments', data, this.state.token, this.state.page);\n  }\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  todoChecked(id, e) {\n    var data = { id: id, is_done: e.target.checked }\n    MyActions.setInstance('todos/check_todo', data, this.state.token);\n  }\n\n  fab() {\n    if (this.state.work) {\n      return (\n        <Fab href={\"/works/\" + this.state.work.id + \"/edit\"} target=\"#main-view\" position=\"left-bottom\" slot=\"fixed\" color=\"lime\">\n          <Icon ios=\"f7:edit\" aurora=\"f7:edit\" md=\"material:edit\"></Icon>\n          <Icon ios=\"f7:close\" aurora=\"f7:close\" md=\"material:close\"></Icon>\n        </Fab>\n      )\n    }\n  }\n\n  deleteTodoConfirm(id) {\n    const self = this;\n    const app = self.$f7;\n    app.dialog.confirm(dict.are_you_sure, dict.alert, () => self.deleteTodo(id))\n  }\n\n  deleteTodo(id) {\n    var data = { id: id }\n    MyActions.removeInstance('todos', data, this.state.token);\n  }\n\n  removeWork(user_id) {\n    MyActions.removeInstance('users/assignments', { user_id: user_id, work_id: this.state.id }, this.state.token);\n  }\n\n  removeAbility(title) {\n    MyActions.removeInstance('works/abilities', { id: this.state.id, title: title }, this.state.token);\n  }\n\n  replyToComment(id) {\n    this.setState({ replyTo: id })\n    this.$$('#cm-form-' + this.state.rnd).focus()\n  }\n\n  removeReply() {\n    this.setState({ replyTo: null })\n  }\n\n  searchReport(q) {\n    MyActions.getList('reports/search', this.state.page, { work_id: this.state.id, q: q }, this.state.token);\n  }\n\n  back() {\n    if (this.state.work && this.state.work.task) {\n      return (<Link href={'/tasks/'+this.state.work.task.id}>{'<'+dict.back}</Link>)\n    }\n  }\n\n\n  render() {\n    const { work, users, assignedUsers, ability, profiles, statuses, comments, commentContent, access, todos, replyTo, rnd, reports } = this.state;\n    return (\n      <Page>\n        <Navbar title={dict.works}>\n          <Link panelOpen=\"right\">\n            <Icon f7=\"bars\"></Icon>\n          </Link>\n          {this.back()}\n        </Navbar>\n        <WorkShow\n          work={work} users={users} ability={ability} profiles={profiles} statuses={statuses}\n          removeProfile={this.removeProfile} addProfile={this.addProfile}\n          searchProfile={this.searchProfile} removeAbility={this.removeAbility}\n          assignedUsers={assignedUsers} addAbility={this.addAbility}\n          removeWork={this.removeWork} submit={this.submit} handleChange={this.handleChangeValue}\n          searchStatus={this.searchStatus} addStatus={this.addStatus}\n          submitComment={this.submitComment} deleteCommentConfirm={this.deleteCommentConfirm}\n          commentContent={commentContent} comments={comments} loadMore={this.loadMore}\n          changeRole={this.changeRole} access={access} todos={todos}\n          todoChecked={this.todoChecked} deleteTodoConfirm={this.deleteTodoConfirm}\n          replyToComment={this.replyToComment} replyTo={replyTo} removeReply={this.removeReply}\n          rnd={rnd} searchReport={this.searchReport} reports={reports}\n        />\n      </Page>\n    );\n  }\n}\n","import React from \"react\";\nimport { List, ListItem} from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\nimport Moment from 'react-moment';\nimport JDate from 'jalali-date';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\n\nconst WorkList = (props) => {\n  function title(t) {\n    var date = new Date(new window.ODate(t))\n    return(<Moment date={date} fromNow></Moment>)\n  }\n  if (props.works) {\n    console.log(props.works)\n    \n    return (\n      <List>\n        {props.works.map((work) =>\n        <ListItem key={'worklist' + work.id} header={work.title} title={title(work.deadline_date)} link={'/works/'+work.id}></ListItem>\n        )}\n      </List>\n    )\n  } else {\n    return (<ul></ul>)\n  }\n}\nexport default WorkList;\n","import React from \"react\";\nimport { Page, Navbar, List, BlockTitle, ListItem, Fab, Icon,Preloader, Block} from 'framework7-react';\nimport WorkList from \"./list\"\nimport { dict} from '../../Dict';\n\nconst WorkIndex = (props) => {\n  return(\n    <Page>\n      <Navbar title={dict.works} backLink={dict.back} >\n      </Navbar>\n      <BlockTitle>{dict.list}</BlockTitle>\n      <WorkList works={props.works}/>\n    </Page>\n  )\n}\nexport default WorkIndex;\n","import React from \"react\"\nimport { Page,Fab, Icon } from 'framework7-react';\nimport ModelStore from \"../../stores/ModelStore\";\nimport WorkIndex from \"../../containers/works/index\"\nimport * as MyActions from \"../../actions/MyActions\";\nimport { dict} from '../../Dict';\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\n\nexport default class Layout extends React.Component {\n  constructor() {\n    super();\n    this.getList = this.getList.bind(this);\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      works: null,\n    }\n  }\n  componentWillMount() {\n    ModelStore.on(\"got_list\", this.getList);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_list\", this.getList);\n  }\n\n  componentDidMount(){\n    this.loadData();\n  }\n\n  loadData(){\n    const f7: Framework7 = Framework7.instance;\n    f7.toast.show({ text: dict.receiving, closeTimeout: 2000, position: 'top'});\n    MyActions.getList('works', this.state.page, {}, this.state.token);\n  }\n\n  getList() {\n    var works = ModelStore.getList()\n    var klass = ModelStore.getKlass()\n    if (works && klass === 'Work'){\n      this.setState({\n        works: works,\n      });\n    }\n  }\n\n  render() {\n    const {works} = this.state;\n    return(<WorkIndex works={works}/>)\n  }\n}\n","import React from \"react\";\nimport { List, Col, ListInput, Block, Row, Button, BlockTitle, Card, Link } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport crypto from 'crypto-js';\n\n\nconst WorkForm = (props) => {\n  if (props.privateWork) {\n    var isPrivateWork = true;\n  } else {\n    var isPrivateWork = false\n  }\n\n  function deleteButton() {\n    if (props.editing) {\n      return (\n        <Col>\n          <Button className=\"col btn ml-5\" outline color='red' disabled={!props.editing} onClick={() => props.deleteWorkConfirm()}>{dict.delete}</Button>\n        </Col>\n      )\n    }\n  }\n  return (\n    <Card>\n      <BlockTitle>{dict.work}</BlockTitle>\n      <List >\n        <ListInput\n          label={dict.title}\n          type=\"text\"\n          placeholder={dict.select_appropriate_title}\n          defaultValue={props.work.title}\n          required={true}\n          onInput={(e) => {\n            props.handleChange({ title: e.target.value })\n          }}\n        />\n\n \n\n        <ListInput\n          label={dict.priority}\n          type=\"select\"\n          defaultValue={props.priority}\n          onChange={(e) => {\n            props.handleChange({ priority: e.target.value })\n          }}\n        >\n          <option value=\"normal\">{dict.normal}</option>\n          <option value=\"high\">{dict.high}</option>\n          <option value=\"urgent\">{dict.urgent}</option>\n        </ListInput>\n\n\n        <li>\n          <div class=\"item-content item-input\">\n            <div class=\"item-inner\">\n              <div class=\"item-title item-label\">{dict.start_date}</div>\n              <div class=\"item-input-wrap\">\n                <input type=\"text\" placeholder={dict.select_a_date} readonly=\"readonly\" id=\"start-calendar\" />\n              </div>\n            </div>\n          </div>\n        </li>\n\n        <li>\n          <div class=\"item-content item-input\">\n            <div class=\"item-inner\">\n              <div class=\"item-title item-label\">{dict.start_time}</div>\n              <div class=\"item-input-wrap\">\n                <input type=\"text\" placeholder={dict.select_a_time} value={props.startTime} readonly=\"readonly\" id=\"start-time-picker\" />\n              </div>\n            </div>\n          </div>\n        </li>\n        <li>\n          <div class=\"item-content item-input\">\n\n          </div>\n        </li>\n        <li>\n          <div class=\"item-content item-input\">\n            <div class=\"item-inner\">\n              <div class=\"item-title item-label\">{dict.deadline}</div>\n              <div class=\"item-input-wrap\">\n                <input type=\"text\" placeholder={dict.select_a_date} readonly=\"readonly\" id=\"deadline-calendar\" />\n              </div>\n            </div>\n          </div>\n        </li>\n\n        <li>\n          <div class=\"item-content item-input\">\n            <div class=\"item-inner\">\n              <div class=\"item-title item-label\">{dict.deadline_time}</div>\n              <div class=\"item-input-wrap\">\n                <input type=\"text\" placeholder={dict.select_a_time} value={props.deadlineTime} readonly=\"readonly\" id=\"deadline-time-picker\" />\n              </div>\n            </div>\n          </div>\n        </li>\n      </List>\n\n      <Block strong>\n        <Row tag=\"p\">\n          {deleteButton()}\n          <Link className=\"btn-notice\"></Link>\n          <Button className=\"col btn\" fill onClick={props.submit}>{dict.submit}</Button>\n        </Row>\n      </Block>\n    </Card >\n\n  )\n}\nexport default WorkForm;\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  BlockTitle,\n} from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport WorkForm from \"../../containers/works/form\"\n\nexport default class WorkCreate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.loadCalender = this.loadCalender.bind(this);\n    this.pageAfterIn = this.pageAfterIn.bind(this);\n    \n    this.state = {\n      token: window.localStorage.getItem('token'),\n      work: {},\n      title: null,\n      details: null,\n      deadline: new Date(),\n      start: new Date(),\n      startTime:  '0:00',\n      deadlineTime: '0:00',\n      privateWork: true,\n      priority: 'normal',\n    }\n  }\n\n\n  componentWillMount() {\n    ModelStore.on(\"set_instance\", this.setInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n  }\n\n  componentDidMount() {\n\n  }\n\n  pageAfterIn() {\n    this.loadCalender();\n    this.loadTime();\n  }\n\n  loadTime(){\n    var today = new Date();\n    const self = this;\n    const app = self.$f7;\n    \n    app.picker.create({\n      inputEl: '#start-time-picker',\n        rotateEffect: true,\n        on: {\n          closed: function (picker) {\n            self.setState({ startTime: picker.value[1]+':'+picker.value[0]});\n          }\n        },\n        cols: [\n          {\n            values: ('00 15 30 45').split(' ')\n          },\n          {\n            textAlign: 'left',\n            values: ('0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23').split(' ')\n          },\n\n        ]\n    });\n    app.picker.create({\n      inputEl: '#deadline-time-picker',\n        rotateEffect: true,        on: {\n          closed: function (picker) {\n            self.setState({ deadlineTime: picker.value[1]+':'+picker.value[0]});\n          }\n        },\n        cols: [\n          {\n            values: ('00 15 30 45').split(' ')\n          },\n          {\n            textAlign: 'left',\n            values: ('0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23').split(' ')\n          },\n\n        ]\n    });\n  }\n\n  loadCalender(){\n    const self = this;\n    const app = self.$f7;\n\n    app.calendar.create({\n      inputEl: '#start-calendar',\n      value: [new Date()],\n      closeOnSelect: true,\n      firstDay: 6,\n      weekendDays: [4, 5],\n      monthNames: ['فروردين', 'ارديبهشت', 'خرداد', 'تیر', 'مرداد', 'شهریور', 'مهر', 'آبان', 'آذر', 'دی', 'بهمن', 'اسفند'],\n      dayNames: ['یکشنبه', 'دوشنبه', 'سه شنبه', 'چهارشنبه', 'پنج‌شنبه', 'جمعه', 'شنبه'],\n      dayNamesShort: ['یک', 'دو', 'سه ', 'چهار', 'پنج‌', 'جمعه', 'شنبه'],\n      on: {\n        closed: function (c) {\n          console.log(c.value[0].a)\n          self.setState({ start: c.value[0].a });\n        }\n      }\n    });\n\n    app.calendar.create({\n      inputEl: '#deadline-calendar',\n      closeOnSelect: true,\n      value: [new Date()],\n      firstDay: 6,\n      weekendDays: [4, 5],\n      monthNames: ['فروردين', 'ارديبهشت', 'خرداد', 'تیر', 'مرداد', 'شهریور', 'مهر', 'آبان', 'آذر', 'دی', 'بهمن', 'اسفند'],\n      dayNames: ['یکشنبه', 'دوشنبه', 'سه شنبه', 'چهارشنبه', 'پنج‌شنبه', 'جمعه', 'شنبه'],\n      dayNamesShort: ['یک', 'دو', 'سه ', 'چهار', 'پنج‌', 'جمعه', 'شنبه'],\n      on: {\n        closed: function (c) {\n          self.setState({ deadline: c.value[0].a });\n        }\n      }\n\n    });\n  }\n\n  submit() {\n    this.$$('.btn').hide();\n    this.$$('.btn-notice').text(dict.submitting);\n    var data = { \n      title: this.state.title, details: this.state.details, \n      start: this.state.start, start_time: this.state.startTime, \n      deadline: this.state.deadline, deadline_time: this.state.deadlineTime,\n      task_id: this.$f7route.params['taskId'], priority: this.state.priority\n    }\n    if (this.state.title && this.state.title.length > 0) {\n      MyActions.setInstance('works', data, this.state.token);\n    } else {\n      const self = this;\n      self.$f7.dialog.alert(dict.incomplete_data, dict.alert);\n    }\n\n  }\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  setInstance() {\n    var work = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (work && klass === 'Work') {\n      this.$$('.btn').show();\n      this.$f7router.navigate('/works/'+work.id);\n    } else {\n      this.$$('.btn').show();\n      this.$f7router.navigate('/tasks/');\n    }\n    \n  }\n\n\n\n  render() {\n    const { work } = this.state;\n    return (\n      <Page onPageAfterIn={this.pageAfterIn.bind(this)}>\n        <Navbar title={dict.work_form} />\n        <BlockTitle>{dict.work_form}</BlockTitle>\n        <WorkForm work={work} submit={this.submit} editing={false} handleChange={this.handleChangeValue} />\n      </Page>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon\n} from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport WorkForm from \"../../containers/works/form\"\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\nexport default class DocumentUpdate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.loadTime = this.loadTime.bind(this);\n    this.loadCalender = this.loadCalender.bind(this);\n    this.pageAfterIn = this.pageAfterIn.bind(this);\n    this.deleteWorkConfirm = this.deleteWorkConfirm.bind(this);\n    this.deleteWork = this.deleteWork.bind(this);\n    this.deleteInstance = this.deleteInstance.bind(this);\n\n    \n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      work: {},\n      id: null,\n      title: null,\n      details: null,\n      deadline: new Date(),\n      start: new Date(),\n      startTime: '0 00',\n      deadlineTime: '0 00',\n      privateWork: true,\n      priority: 'normal',\n    }\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n    ModelStore.on(\"set_instance\", this.setInstance);\n    ModelStore.on(\"deleted_instance\", this.deleteInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n    ModelStore.removeListener(\"deleted_instance\", this.deleteInstance);\n\n  }\n\n  pageAfterIn() {\n    this.loadTime();\n  }\n\n  loadTime() {\n    var today = new Date();\n    const self = this;\n    const app = self.$f7;\n\n    app.picker.create({\n      inputEl: '#start-time-picker',\n      rotateEffect: true,\n      on: {\n        closed: function (picker) {\n          self.setState({ startTime: picker.value[1] + ':' + picker.value[0] });\n        }\n      },\n      cols: [\n        {\n          values: ('00 15 30 45').split(' ')\n        },\n        {\n          textAlign: 'left',\n          values: ('0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23').split(' ')\n        },\n\n      ]\n    });\n    app.picker.create({\n      inputEl: '#deadline-time-picker',\n      rotateEffect: true, on: {\n        closed: function (picker) {\n          self.setState({ deadlineTime: picker.value[1] + ':' + picker.value[0] });\n        }\n      },\n      cols: [\n        {\n          values: ('00 15 30 45').split(' ')\n        },\n        {\n          textAlign: 'left',\n          values: ('0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23').split(' ')\n        },\n\n      ]\n    });\n  }\n\n  loadCalender() {\n    const self = this;\n    const app = self.$f7;\n\n    app.calendar.create({\n      inputEl: '#start-calendar',\n      value: [this.state.start],\n      closeOnSelect: true,\n      firstDay: 6,\n      weekendDays: [4, 5],\n      monthNames: ['فروردين', 'ارديبهشت', 'خرداد', 'تیر', 'مرداد', 'شهریور', 'مهر', 'آبان', 'آذر', 'دی', 'بهمن', 'اسفند'],\n      dayNames: ['یکشنبه', 'دوشنبه', 'سه شنبه', 'چهارشنبه', 'پنج‌شنبه', 'جمعه', 'شنبه'],\n      dayNamesShort: ['یک', 'دو', 'سه ', 'چهار', 'پنج‌', 'جمعه', 'شنبه'],\n      on: {\n        closed: function (c) {\n          self.setState({ start: c.value[0].a });\n        }\n      }\n    });\n\n    app.calendar.create({\n      inputEl: '#deadline-calendar',\n      closeOnSelect: true,\n      value: [this.state.deadline],\n      firstDay: 6,\n      weekendDays: [4, 5],\n      monthNames: ['فروردين', 'ارديبهشت', 'خرداد', 'تیر', 'مرداد', 'شهریور', 'مهر', 'آبان', 'آذر', 'دی', 'بهمن', 'اسفند'],\n      dayNames: ['یکشنبه', 'دوشنبه', 'سه شنبه', 'چهارشنبه', 'پنج‌شنبه', 'جمعه', 'شنبه'],\n      dayNamesShort: ['یک', 'دو', 'سه ', 'چهار', 'پنج‌', 'جمعه', 'شنبه'],\n      on: {\n        closed: function (c) {\n          //console.log(c.value[0].a)\n          self.setState({ deadline: c.value[0].a });\n        }\n      }\n\n    });\n  }\n\n\n\n  submit() {\n    this.$$('.btn').hide();\n    this.$$('.btn-notice').text(dict.submitting);\n    var data = { \n      id: this.state.id, title: this.state.title, details: this.state.details,\n      start: this.state.start, start_time: this.state.startTime, \n      deadline: this.state.deadline, deadline_time: this.state.deadlineTime,\n      priority: this.state.priority\n    }// start: new Date(this.state.start.setHours(startTime[0], startTime[1], 0, 0)).toISOString(), deadline:  new Date(this.state.deadline.setHours(deadlineTime[0], deadlineTime[1], 0, 0)).toISOString() }\n    if (this.state.title && this.state.title.length > 0) {\n      MyActions.updateInstance('works', data, this.state.token);\n    } else {\n      const self = this;\n      self.$f7.dialog.alert(dict.incomplete_data, dict.alert);\n    }\n\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  loadData() {\n    const f7: Framework7 = Framework7.instance;\n    f7.toast.show({ text: dict.receiving, closeTimeout: 2000, position: 'top' });\n    if (this.$f7route.params['workId']) {\n      console.log('Getting Works For Update')\n      MyActions.getInstance('works', this.$f7route.params['workId'], this.state.token);\n    }\n  }\n\n\n  getInstance() {\n    var work = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (work && klass === 'Work') {\n      this.setState({\n        title: work.title,\n        content: work.details,\n        id: work.id,\n        work: work,\n        start: new window.ODate(work.start_date),\n        deadline: new window.ODate(work.deadline_date),\n        startTime: work.start_time,\n        deadlineTime: work.deadline_time,\n        defaultWork: work.default_work,\n        priority: work.priority\n      }, () => this.loadCalender());\n    }\n  }\n\n  deleteWorkConfirm(){\n    const self = this;\n    const app = self.$f7;\n    app.dialog.confirm(dict.are_you_sure, dict.alert, self.deleteWork)\n  }\n\n  deleteWork(){\n    var data = { id: this.state.id}\n    MyActions.removeInstance('works', data, this.state.token);\n  }\n\n  deleteInstance() {\n    this.$f7router.navigate('/tasks/');\n  }\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n\n  setInstance() {\n    this.$$('.btn').show();\n    this.$f7router.navigate('/works/'+this.state.id);\n  }\n\n\n  render() {\n    const { work, defaultWork, title, content, startTime, deadlineTime, priority } = this.state;\n    return (\n      <Page onPageAfterIn={this.pageAfterIn.bind(this)}>\n        <Navbar title={dict.work_form} />\n        <BlockTitle>{dict.work_form}</BlockTitle>\n        <WorkForm \n        work={work} title={title} startTime={startTime} \n        deadlineTime={deadlineTime} content={content} \n        defaultWork={defaultWork} submit={this.submit} \n        editing={true} handleChange={this.handleChangeValue} \n        deleteWorkConfirm={this.deleteWorkConfirm}\n        priority={priority}\n        />\n      </Page>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  BlockTitle,\n} from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport TodoForm from \"../../containers/todos/form\"\n\nexport default class TodoCreate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n    this.involvementCheck = this.involvementCheck.bind(this);\n    \n    \n    this.state = {\n      token: window.localStorage.getItem('token'),\n      todo: {},\n      title: null,\n      involvements: [],\n      workInvolvements: [],\n    }\n  }\n\n\n  componentWillMount() {\n    ModelStore.on(\"set_instance\", this.setInstance);\n    ModelStore.on(\"got_instance\", this.getInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n  }\n\n  componentDidMount() {\n    console.log('Getting Works For Create')\n    MyActions.getInstance('works', this.$f7route.params['workId'], this.state.token);\n  }\n\n\n  submit() {\n    this.$$('.btn').hide();\n    this.$$('.btn-notice').text(dict.submitting);\n    var data = { \n        title: this.state.title, work_id: this.$f7route.params['workId'],\n        involvements: this.state.involvements\n    }\n    if (this.state.title && this.state.title.length > 0) {\n      MyActions.setInstance('todos', data, this.state.token);\n    } else {\n      const self = this;\n      self.$f7.dialog.alert(dict.incomplete_data, dict.alert);\n    }\n\n  }\n\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  setInstance() {\n    var todo = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (todo && klass === 'Todo') {\n      this.$$('.btn').show();\n      this.$f7router.navigate('/works/'+todo.work_id);\n    } \n  }\n\n  getInstance() {\n    var work = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (work && klass === 'Work') {\n      this.setState({\n        workInvolvements: work.the_involvements\n      });\n    }\n  }\n\n  involvementCheck(id, e){\n    if (e.target.checked) {\n      this.setState({ involvements: this.state.involvements.concat({ id: id })})\n    } else {\n      this.setState({\n        involvements: this.state.involvements.filter(function (involvement) {\n          return involvement.id !== id\n        })\n      });\n    }\n  }\n\n\n\n  render() {\n    const { todo, involvements, workInvolvements } = this.state;\n    return (\n      <Page  backLink={dict.back} backLinkForce={true}>\n        <Navbar title={dict.work_form} backLink={dict.back} />\n        <BlockTitle>{dict.work_form}</BlockTitle>\n        <TodoForm \n        todo={todo} workInvolvements={workInvolvements}\n         involvements={involvements} removeInvolvement={this.removeInvolvement}\n        submit={this.submit} editing={true} involvementCheck={this.involvementCheck}\n        handleChange={this.handleChangeValue} />\n      </Page>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  BlockTitle,\n} from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport TodoForm from \"../../containers/todos/form\"\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\nexport default class TodoCreate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.removeInvolvement = this.removeInvolvement.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n    this.involvementCheck = this.involvementCheck.bind(this);\n    this.setInvolvements = this.setInvolvements.bind(this);\n    \n    \n    this.state = {\n      token: window.localStorage.getItem('token'),\n      todo: {},\n      title: null,\n      id: null, \n      involvements: [],\n      workInvolvements: [],\n    }\n  }\n\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n    ModelStore.on(\"set_instance\", this.setInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  loadData() {\n    const f7: Framework7 = Framework7.instance;\n    f7.toast.show({ text: dict.receiving, closeTimeout: 2000, position: 'top' });\n    if (this.$f7route.params['todoId']) {\n      MyActions.getInstance('todos', this.$f7route.params['todoId'], this.state.token);\n    }\n  }\n\n\n  submit() {\n    this.$$('.btn').hide();\n    this.$$('.btn-notice').text(dict.submitting);\n    var data = { \n        id: this.state.id,\n        title: this.state.title,\n        involvements: this.state.involvements\n    }\n    if (this.state.title && this.state.title.length > 0) {\n      MyActions.updateInstance('todos', data, this.state.token);\n    } else {\n      const self = this;\n      self.$f7.dialog.alert(dict.incomplete_data, dict.alert);\n    }\n\n  }\n\n  removeInvolvement(id) {\n    this.setState({\n      involvements: this.state.involvements.filter(function (involvement) {\n        return involvement.id !== id\n      })\n    });\n  }\n\n  getInstance() {\n    var todo = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (todo && klass === 'Todo') {\n      this.setState({\n        title: todo.title,\n        id: todo.id,\n        //involvements: todo.involvement_tags,\n        workInvolvements: todo.work_involvements\n      }, () =>  this.setInvolvements());\n    }\n  }\n\n  setInvolvements(){\n    this.setState({ involvements: [] });\n    var arr = []\n    this.state.workInvolvements.map((workInvolvement) => {\n      if(workInvolvement.check){\n        arr.push({ id: workInvolvement.profile.id })\n      }\n    })\n    this.setState({ involvements: arr})\n  }\n\n\n  involvementCheck(id, e){\n    if (e.target.checked) {\n      this.setState({ involvements: this.state.involvements.concat({ id: id })})\n    } else {\n      this.setState({\n        involvements: this.state.involvements.filter(function (involvement) {\n          return involvement.id !== id\n        })\n      });\n    }\n  }\n\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  setInstance() {\n    var todo = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (todo && klass === 'Todo') {\n      this.$$('.btn').show();\n      this.$f7router.navigate('/works/'+todo.work_id);\n    } \n  }\n\n\n\n  render() {\n    const { todo, involvements, title , workInvolvements} = this.state;\n    return (\n      <Page  backLink={dict.back} backLinkForce={true}>\n        <Navbar title={dict.work_form} backLink={dict.back} />\n        <BlockTitle>{dict.work_form}</BlockTitle>\n        <TodoForm \n        todo={todo} workInvolvements={workInvolvements}\n         title={title} involvements={involvements} involvementCheck={this.involvementCheck}\n        removeInvolvement={this.removeInvolvement} submit={this.submit} editing={true} handleChange={this.handleChangeValue} />\n      </Page>\n    );\n  }\n}\n","import React from \"react\";\nimport { Page, Navbar, List, BlockTitle, ListItem, Chip, Icon, Preloader, Block } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport CommentForm from \"../comments/form\"\nimport CommentList from \"../comments/list\"\n\n\nconst TimeSheetShow = (props) => {\n  function association(kind) {\n    var chips = [\n      <div>\n        <div className=\"item-title fs-11\">\n          {dict.associations}:\n        </div>\n      </div>\n    ]\n    if (props.time_sheet.the_associations) {\n      props.time_sheet.the_associations.map((association) => {\n        if (association.kind == kind) {\n          chips.push(<a href={'/' + association.a_type + '/' + association.id + '/'}><Chip text={association.title} /></a>)\n        }\n      }\n      )\n    }\n    return chips\n  }\n\n  if (props.time_sheet) {\n    return (\n      <React.Fragment>\n        <BlockTitle>{dict.sheet_date}</BlockTitle>\n        <List simple-list>\n          <ListItem>{props.time_sheet.jdate}</ListItem>\n        </List>\n\n        <List className='fs-11'>\n        {props.time_sheet.the_involvements.map((involvement) =>\n          <ListItem\n            key={'involvement' + involvement.profile.id}\n            title={involvement.profile.fullname}\n            after=''>\n            <img slot=\"media\" src={involvement.profile.avatar} width=\"27\" height=\"27\" />\n          </ListItem>\n        )}\n      </List>\n\n        <BlockTitle>{dict.morning_report}</BlockTitle>\n        <List simple-list>\n          <ListItem>{props.time_sheet.morning_report}</ListItem>\n          <ListItem>{association('Morning')}</ListItem>\n        </List>\n\n        <BlockTitle>{dict.afternoon_report}</BlockTitle>\n        <List simple-list>\n          <ListItem>{props.time_sheet.afternoon_report}</ListItem>\n          <ListItem>{association('Afternoon')}</ListItem>\n        </List>\n\n        <BlockTitle>{dict.extra_report}</BlockTitle>\n        <List simple-list>\n          <ListItem>{props.time_sheet.extra_report}</ListItem>\n          <ListItem>{association('Extra')}</ListItem>\n        </List>\n\n        <CommentForm model={props.time_sheet} submit={props.submitComment} handleChange={props.handleChange}/>\n\n        <CommentList\n                comments={props.comments} deleteCommentConfirm={props.deleteCommentConfirm}\n                loadMore={props.loadMore} />\n      </React.Fragment>\n    )\n  } else {\n    return (null)\n  }\n}\nexport default TimeSheetShow;\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon, Fab\n} from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport TimeSheetShow from \"../../containers/time_sheets/show\"\n\nexport default class Layout extends Component {\n  constructor() {\n    super();\n    this.getInstance = this.getInstance.bind(this);\n    this.getList = this.getList.bind(this);\n    this.submit = this.submit.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.deleteComment = this.deleteComment.bind(this);\n    this.submitComment = this.submitComment.bind(this);\n    this.deleteCommentConfirm = this.deleteCommentConfirm.bind(this);\n    \n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      time_sheet: null,\n      id: null,\n      user_id: null,\n      comments: null,\n    }\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n    ModelStore.on(\"set_instance\", this.getInstance);\n    ModelStore.on(\"got_list\", this.getList);\n    ModelStore.on(\"deleted_instance\", this.getInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n    ModelStore.removeListener(\"set_instance\", this.getInstance);\n    ModelStore.removeListener(\"got_list\", this.getList);\n    ModelStore.removeListener(\"deleted_instance\", this.getInstance);\n  }\n\n  componentDidMount() {\n    MyActions.getInstance('time_sheets', this.$f7route.params['timeSheetId'], this.state.token);\n  }\n\n  getInstance() {\n    var time_sheet = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (time_sheet && klass === 'TimeSheet') {\n      this.setState({\n        time_sheet: time_sheet,\n        id: time_sheet.id,\n        comments: time_sheet.the_comments,\n      });\n    }\n    this.$$('.btn').show();\n  }\n\n  getList() {\n    var users = ModelStore.getList()\n    var klass = ModelStore.getKlass()\n    if (users && klass === 'User') {\n      this.setState({\n        users: users,\n      });\n    }\n  }\n\n  submit() {\n    this.$$('.btn').hide();\n    this.$$('.btn-notice').text(dict.submitting);\n    var data = { time_sheet_id: this.state.id, user_id: this.state.user_id }\n    MyActions.setInstance('users/assignments', data, this.state.token);\n  }\n\n  submitComment() {\n    var data = { commentable_type: 'TimeSheet' ,commentable_id: this.state.id, content: this.state.commentContent }\n    MyActions.setInstance('comments', data, this.state.token);\n  }\n\n\n  deleteCommentConfirm(id){\n    const self = this;\n    const app = self.$f7;\n    app.dialog.confirm(dict.are_you_sure, dict.alert, () => self.deleteComment(id))\n  }\n\n  deleteComment(id) {\n    var data = { id: id }\n    MyActions.removeInstance('comments', data, this.state.token, this.state.page);\n  }\n\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  fab() {\n    if (this.state.time_sheet) {\n      return (\n        <Fab href={\"/time_sheets/\" + this.state.time_sheet.id + \"/edit\"} target=\"#main-view\" position=\"left-bottom\" slot=\"fixed\" color=\"lime\">\n          <Icon ios=\"f7:edit\" aurora=\"f7:edit\" md=\"material:edit\"></Icon>\n          <Icon ios=\"f7:close\" aurora=\"f7:close\" md=\"material:close\"></Icon>\n        </Fab>\n      )\n    }\n  }\n\n  render() {\n    const { time_sheet, comments } = this.state;\n    return (\n      <Page>\n        <Navbar title={dict.time_sheets} backLink={dict.back} />\n        <BlockTitle></BlockTitle>\n        {this.fab()}\n        <TimeSheetShow \n          time_sheet={time_sheet} \n          submit={this.submit} handleChange={this.handleChangeValue} \n          comments={comments}\n          submitComment={this.submitComment} deleteCommentConfirm={this.deleteCommentConfirm}\n          />\n      </Page>\n    );\n  }\n}\n","import React from \"react\";\nimport { List, ListItem, CardHeader, CardContent, CardFooter, Card, Button, Link } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\n\nconst TimeSheetList = (props) => {\n\n  if (props.time_sheets) {\n    return (\n      <Card>\n        <CardHeader>\n          {props.header}\n        </CardHeader>\n        <CardContent>\n          <List mediaList className='fs-11'>\n            {props.time_sheets.map((time_sheet) =>\n              <ListItem\n              className='fs-11'\n                key={crypto.lib.WordArray.random(32)}\n                link={\"/time_sheets/\" + time_sheet.id}\n                ignoreCache={true}\n                title={time_sheet.jdate}\n                after=\"\"\n                subtitle={time_sheet.profile.fullname}\n                text=\"\"\n              >\n                 <img slot=\"media\" src={time_sheet.profile.avatar} width=\"28\" height=\"28\"/>\n              </ListItem>\n            )}\n          </List>\n        </CardContent>\n        <CardFooter>\n          <Link></Link>\n            <Button  onClick={() => props.loadMore(props.page)}>{dict.more}</Button>\n        </CardFooter>\n      </Card>\n    )\n  } else {\n    return (<ul></ul>)\n  }\n}\nexport default TimeSheetList;\n","import React from \"react\";\nimport { Page, Navbar, Row, BlockTitle, Col, Fab, Icon, Preloader, Block, Card, CardFooter, CardContent, CardHeader } from 'framework7-react';\nimport TimeSheetList from \"./list\"\nimport { dict } from '../../Dict';\n\nconst TimeSheetIndex = (props) => {\n  return (\n    <Page>\n      <Navbar title={dict.time_sheets} backLink={dict.back} >\n      </Navbar>\n      <BlockTitle>{dict.list}</BlockTitle>\n      <Fab href=\"/time_sheets/new\" target=\"#main-view\" position=\"left-bottom\" slot=\"fixed\" color=\"deeporange\">\n        <Icon ios=\"f7:add\" aurora=\"f7:add\" md=\"material:add\"></Icon>\n        <Icon ios=\"f7:close\" aurora=\"f7:close\" md=\"material:close\"></Icon>\n      </Fab>\n      <Row>\n        <Col width='100' tabletWidth='50'>\n          <TimeSheetList\n            time_sheets={props.related_time_sheets} header={dict.sent_to_me}\n            page='page_related' loadMore={props.loadMore}\n          />\n        </Col>\n        <Col width='100' tabletWidth='50'>\n          <TimeSheetList\n            time_sheets={props.mine_time_sheets} header={dict.sent_by_me}\n            page='page_mine' loadMore={props.loadMore}\n          />\n        </Col>\n      </Row>\n\n    </Page>\n  )\n}\nexport default TimeSheetIndex;\n","import React from \"react\"\nimport { Page,Fab, Icon } from 'framework7-react';\nimport ModelStore from \"../../stores/ModelStore\";\nimport TimeSheetIndex from \"../../containers/time_sheets/index\"\nimport * as MyActions from \"../../actions/MyActions\";\nimport { dict} from '../../Dict';\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\n\nexport default class Layout extends React.Component {\n  constructor() {\n    super();\n    this.getMutipleList = this.getMutipleList.bind(this);\n    this.loadMore = this.loadMore.bind(this);\n    this.getList = this.getList.bind(this);\n    \n    this.state = {\n      token: window.localStorage.getItem('token'),\n      mine_time_sheets: [],\n      related_time_sheets: [],\n      page_mine: 1,\n      page_related: 1,\n    }\n  }\n  componentWillMount() {\n    ModelStore.on(\"got_multiple_list\", this.getMutipleList);\n    ModelStore.on(\"got_list\", this.getList);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_multiple_list\", this.getMutipleList);\n    ModelStore.removeListener(\"got_list\", this.getList);\n  }\n  \n\n  componentDidMount(){\n    this.loadData();\n  }\n\n  loadData(){\n    const f7: Framework7 = Framework7.instance;\n    f7.toast.show({ text: dict.receiving, closeTimeout: 2000, position: 'top'});\n    MyActions.getMultipleList('time_sheets', this.state.page, {}, this.state.token);\n  }\n\n\n  loadMore(p) {\n\n    if( p === 'page_mine') {\n      this.setState({ page_mine: this.state.page_mine + 1 }, () => {\n        MyActions.getList('time_sheets/mine', this.state.page_mine, {}, this.state.token);\n      });\n    }\n    if( p === 'page_related') {\n      this.setState({ page_related: this.state.page_related + 1 }, () => {\n        MyActions.getList('time_sheets/related', this.state.page_related, {}, this.state.token);\n      });\n    }\n  }\n\n  getList(){\n    var list = ModelStore.getList()\n    var klass = ModelStore.getKlass()\n    console.log(list)\n    if (list && klass === 'TimeSheetMine'){\n      this.setState({\n        mine_time_sheets: this.state.mine_time_sheets.concat(list),\n      });\n    }\n    if (list && klass === 'TimeSheetRelated'){\n      this.setState({\n        related_time_sheets: this.state.related_time_sheets.concat(list),\n      });\n  }\n}\n\n  getMutipleList() {\n    var multiple = ModelStore.getMutipleList()\n    var klass = ModelStore.getKlass()\n    console.log(multiple)\n    if (multiple && klass === 'TimeSheet'){\n      this.setState({\n        mine_time_sheets: multiple.mine,\n        related_time_sheets: multiple.related,\n      });\n    }\n  }\n\n  render() {\n    const {mine_time_sheets, related_time_sheets} = this.state;\n    return(<TimeSheetIndex \n      mine_time_sheets={mine_time_sheets} related_time_sheets={related_time_sheets}\n      loadMore={this.loadMore}\n      />)\n  }\n}\n","import React from \"react\";\nimport { List, ListItem, ListInput, Col, Row, Button, Link, Chip, Card, CardHeader, CardContent, CardFooter } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport crypto from 'crypto-js';\n\n\nconst TimeSheetForm = (props) => {\n\n\n  function association(type) {\n    var chips = [\n      <div>\n        <a className='fs-11 ' href=\"#\" id={type + '-association'}>\n          <div className=\"item-title fs-11\">\n            <i className=\"va-minus-2 ml-5 fa fa-plus\"></i>\n            {dict.associations}:\n        </div>\n        </a>\n      </div>\n    ]\n    if (props.associations) {\n      props.associations.map((association) => {\n        if (association.kind == type) {\n          chips.push(<Chip text={association.title} deleteable onClick={() => props.removeAssociation(association.id, type)} />)\n        }\n      }\n      )\n    }\n    return chips\n  }\n\n  function involvements() {\n    var chips = [\n      <div>\n        <a className='fs-11 ' href=\"#\" id='time-sheet-involvements'>\n          <div className=\"item-title fs-11\">\n            <i className=\"va-minus-2 ml-5 fa fa-user-plus\"></i>\n            {dict.recipients}:\n        </div>\n        </a>\n      </div>\n    ]\n    if (props.involvements) {\n      props.involvements.map((involvement) => {\n        chips.push(<Chip text={involvement.fullname} deleteable onClick={() => props.removeInvolvement(involvement.id)} />)\n      }\n      )\n    }\n    return chips\n  }\n\n  if (props.time_sheet) {\n    return (\n      <Card>\n        <CardHeader>{dict.time_sheet}</CardHeader>\n        <CardContent>\n          <List >\n            <ListInput\n              label={dict.morning_report}\n              type=\"textarea\"\n              placeholder={dict.write_appropriate_details}\n              value={props.time_sheet.morning_report}\n              onInput={(e) => {\n                props.handleChange({ morningReport: e.target.value })\n              }}\n            />\n\n\n            <ListItem title={association('Morning')}></ListItem>\n\n            <ListInput\n              label={dict.afternoon_report}\n              type=\"textarea\"\n              placeholder={dict.write_appropriate_details}\n              value={props.time_sheet.afternoon_report}\n              onInput={(e) => {\n                props.handleChange({ afternoonReport: e.target.value })\n              }}\n            />\n\n            <ListItem title={association('Afternoon')}></ListItem>\n\n            <ListInput\n              label={dict.extra_report}\n              type=\"textarea\"\n              placeholder={dict.write_appropriate_details}\n              value={props.extra_report}\n              onInput={(e) => {\n                props.handleChange({ extraReport: e.target.value })\n              }}\n            />\n\n            <ListItem title={association('Extra')}></ListItem>\n\n            <li>\n              <div className=\"item-content item-input\">\n                <div className=\"item-inner\">\n                  <div className=\"item-title item-label\">{dict.sheet_date}</div>\n                  <div className=\"item-input-wrap\">\n                    <input className=\"date-input\" type=\"text\" placeholder={dict.select_a_date} readonly=\"readonly\" id=\"sheet-date-calendar\" />\n                  </div>\n                </div>\n              </div>\n            </li>\n\n            <ListItem title={involvements()}></ListItem>\n          </List>\n        </CardContent>\n        <CardFooter>\n\n          <Link></Link>\n          <Button fill disabled={!props.editing} onClick={props.submit}>{dict.submit}</Button>\n        </CardFooter>\n      </Card>\n    )\n  }\n  else {\n    return (null)\n  }\n}\nexport default TimeSheetForm;\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon\n} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport TimeSheetForm from \"../../containers/time_sheets/form\"\nimport Framework7 from 'framework7/framework7.esm.bundle';\nimport { conf } from '../../conf';\n\nexport default class TimeSheetCreate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.loadCalender = this.loadCalender.bind(this);\n    this.loadAssociation = this.loadAssociation.bind(this);\n    this.removeAssociation = this.removeAssociation.bind(this);\n    this.removeInvolvement = this.removeInvolvement.bind(this);\n    \n    \n    \n    \n    this.state = {\n      token: window.localStorage.getItem('token'),\n      morningReport: null,\n      afternoonReport: null,\n      extraReport: null,\n      associations: [],\n      involvements: [],\n      time_sheet: {},\n      timeSheetDate:  new Date(),\n      isPublic: false,\n    }\n  }\n\n\n  componentWillMount() {\n    ModelStore.on(\"set_instance\", this.setInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n  }\n\n  submit(){\n    var data = {\n      associations: this.state.associations,\n      morning_report: this.state.morningReport, afternoon_report: this.state.afternoonReport,\n      extra_report: this.state.extraReport, sheet_date: this.state.timeSheetDate,\n      involvements: this.state.involvements\n    }\n    MyActions.setInstance('time_sheets', data, this.state.token);\n  }\n\n  loadAssociation() {\n    const self = this;\n    const app = self.$f7;\n\n    app.autocomplete.create({\n      openIn: 'popup', //open in page\n      openerEl: '#Morning-association', //link that opens autocomplete\n      multiple: true, //allow multiple values\n      valueProperty: 'id', //object's \"value\" property name\n      textProperty: 'title', //object's \"text\" property name\n      searchbarDisableText: dict.cancel,\n      popupCloseLinkText: dict.close,\n      notFoundText: dict.not_found,\n      limit: 50,\n      searchbarPlaceholder: dict.search,\n      preloader: true, //enable preloader\n      source: function (query, render) {\n        var autocomplete = this;\n        var results = [];\n        if (query.length === 0) {\n          render(results);\n          return;\n        }\n        // Show Preloader\n        autocomplete.preloaderShow();\n        // Do Ajax request to Autocomplete data\n        app.request({\n          url:  conf.server + '/time_sheets/search_ass',\n          method: 'GET',\n          dataType: 'json',\n          //send \"query\" to server. Useful in case you generate response dynamically\n          data: {\n            q: query\n          },\n          success: function (item) {\n            // Find matched items\n            for (var i = 0; i < item.data.length; i++) {\n              results.push(item.data[i]);\n            }\n            // Hide Preoloader\n            autocomplete.preloaderHide();\n            // Render items by passing array with result items\n            render(results);\n          }\n        });\n      },\n      on: {\n        change: function (value) {\n          if (value && value[value.length - 1]) {\n            console.log(value[value.length - 1])\n            self.setState({ associations: self.state.associations.concat({ title: value[value.length - 1].title, id: value[value.length - 1].id , a_type:  value[value.length - 1].a_type, kind: 'Morning'}) })\n          }\n        },\n      },\n    });\n\n    app.autocomplete.create({\n      openIn: 'popup', //open in page\n      openerEl: '#Afternoon-association', //link that opens autocomplete\n      multiple: true, //allow multiple values\n      valueProperty: 'id', //object's \"value\" property name\n      textProperty: 'title', //object's \"text\" property name\n      searchbarDisableText: dict.cancel,\n      popupCloseLinkText: dict.close,\n      notFoundText: dict.not_found,\n      limit: 50,\n      searchbarPlaceholder: dict.search,\n      //preloader: true, //enable preloader\n      source: function (query, render) {\n        var autocomplete = this;\n        var results = [];\n        if (query.length === 0) {\n          render(results);\n          return;\n        }\n        // Show Preloader\n       // autocomplete.preloaderShow();\n        // Do Ajax request to Autocomplete data\n        app.request({\n          url: conf.server +  '/time_sheets/search_ass',\n          method: 'GET',\n          dataType: 'json',\n          //send \"query\" to server. Useful in case you generate response dynamically\n          data: {\n            q: query\n          },\n          success: function (item) {\n            // Find matched items\n            for (var i = 0; i < item.data.length; i++) {\n              results.push(item.data[i]);\n            }\n            // Hide Preoloader\n            //autocomplete.preloaderHide();\n            // Render items by passing array with result items\n            render(results);\n          }\n        });\n      },\n      on: {\n        change: function (value) {\n          if (value && value[value.length - 1]) {\n            self.setState({ associations: self.state.associations.concat({ title: value[value.length - 1].title, id: value[value.length - 1].id ,  a_type:  value[value.length - 1].a_type, kind: 'Afternoon'}) })\n          }\n        },\n      },\n    });\n\n    app.autocomplete.create({\n      openIn: 'popup', //open in page\n      openerEl: '#Extra-association', //link that opens autocomplete\n      multiple: true, //allow multiple values\n      valueProperty: 'id', //object's \"value\" property name\n      textProperty: 'title', //object's \"text\" property name\n      searchbarDisableText: dict.cancel,\n      popupCloseLinkText: dict.close,\n      notFoundText: dict.not_found,\n      limit: 50,\n      searchbarPlaceholder: dict.search,\n      //preloader: true, //enable preloader\n      source: function (query, render) {\n        var autocomplete = this;\n        var results = [];\n        if (query.length === 0) {\n          render(results);\n          return;\n        }\n        // Show Preloader\n       // autocomplete.preloaderShow();\n        // Do Ajax request to Autocomplete data\n        app.request({\n          url: conf.server + '/time_sheets/search_ass',\n          method: 'GET',\n          dataType: 'json',\n          //send \"query\" to server. Useful in case you generate response dynamically\n          data: {\n            q: query\n          },\n          success: function (item) {\n            // Find matched items\n            for (var i = 0; i < item.data.length; i++) {\n              results.push(item.data[i]);\n            }\n            // Hide Preoloader\n            //autocomplete.preloaderHide();\n            // Render items by passing array with result items\n            render(results);\n          }\n        });\n      },\n      on: {\n        change: function (value) {\n          if (value && value[value.length - 1]) {\n            self.setState({ associations: self.state.associations.concat({ title: value[value.length - 1].title, id: value[value.length - 1].id ,  a_type:  value[value.length - 1].a_type, kind: 'Extra'}) })\n          }\n        },\n      },\n    });\n\n    app.autocomplete.create({\n      openIn: 'popup', //open in page\n      openerEl: '#time-sheet-involvements', //link that opens autocomplete\n      multiple: true, //allow multiple values\n      valueProperty: 'id', //object's \"value\" property name\n      textProperty: 'fullname', //object's \"text\" property name\n      searchbarDisableText: dict.cancel,\n      popupCloseLinkText: dict.close,\n      notFoundText: dict.not_found,\n      limit: 50,\n      searchbarPlaceholder: dict.search,\n      //preloader: true, //enable preloader\n      source: function (query, render) {\n        var autocomplete = this;\n        var results = [];\n        if (query.length === 0) {\n          render(results);\n          return;\n        }\n        // Show Preloader\n       // autocomplete.preloaderShow();\n        // Do Ajax request to Autocomplete data\n        app.request({\n          url: conf.server + '/profiles/search',\n          method: 'GET',\n          dataType: 'json',\n          //send \"query\" to server. Useful in case you generate response dynamically\n          data: {\n            q: query\n          },\n          success: function (item) {\n            // Find matched items\n            for (var i = 0; i < item.data.length; i++) {\n               results.push(item.data[i]);\n            }\n            // Hide Preoloader\n            //autocomplete.preloaderHide();\n            // Render items by passing array with result items\n            render(results);\n          }\n        });\n      },\n      on: {\n        change: function (value) {\n          if (value && value[value.length - 1]) {\n            self.setState({ involvements: self.state.involvements.concat({ fullname: value[value.length - 1].fullname, id: value[value.length - 1].id }) })\n          }\n        },\n      },\n    });\n  }\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  setInstance(){\n    const self = this;\n    this.$f7router.navigate('/time_sheets/');\n  }\n\n  pageAfterIn() {\n    this.loadCalender();\n    this.loadAssociation();\n  }\n\n\n  loadCalender() {\n    const self = this;\n    const app = self.$f7;\n    var today = new window.ODate();\n    var weekAgo = new window.ODate().setDate(today.getDate() - 7);  \n    app.calendar.create({\n      inputEl: '#sheet-date-calendar',\n      value: [new Date()],\n      closeOnSelect: true,\n      firstDay: 6,\n      weekendDays: [4, 5],\n      monthNames: ['فروردين', 'ارديبهشت', 'خرداد', 'تیر', 'مرداد', 'شهریور', 'مهر', 'آبان', 'آذر', 'دی', 'بهمن', 'اسفند'],\n      dayNames: ['یکشنبه', 'دوشنبه', 'سه شنبه', 'چهارشنبه', 'پنج‌شنبه', 'جمعه', 'شنبه'],\n      dayNamesShort: ['یک', 'دو', 'سه ', 'چهار', 'پنج‌', 'جمعه', 'شنبه'],\n      disabled: function (date) {\n        if (date > weekAgo && date < today) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    },\n      on: {\n        closed: function (c) {\n          self.setState({ timeSheetDate: c.value[0].a });\n        }\n      }\n    });\n  }\n\n  removeAssociation(id, kind){\n    this.setState({\n      associations: this.state.associations.filter(function (association) {\n        return (association.id !== id || association.kind !== kind)\n      })\n    });\n  }\n\n  removeInvolvement(id){\n    this.setState({\n      involvements: this.state.involvements.filter(function (involvement) {\n        return involvement.id !== id\n      })\n    });\n  }\n\n\n\n\n  render() {\n    const {time_sheet, associations, involvements} = this.state;\n    return (\n      <Page onPageAfterIn={this.pageAfterIn.bind(this)}>\n        <Navbar title={dict.time_sheet_form} backLink={dict.back} />\n        <BlockTitle>{dict.time_sheet_form}</BlockTitle>\n        <TimeSheetForm \n          time_sheet={time_sheet} submit={this.submit}\n           editing={true} handleChange={this.handleChangeValue}\n           associations={associations} removeAssociation={this.removeAssociation}\n           involvements={involvements} removeInvolvement={this.removeInvolvement}\n           />\n      </Page>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon\n} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport TimeSheetForm from \"../../containers/time_sheets/form\"\nimport Framework7 from 'framework7/framework7.esm.bundle';\nimport { conf } from '../../conf';\n\nexport default class TimeSheetCreate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.loadCalender = this.loadCalender.bind(this);\n    this.loadAssociation = this.loadAssociation.bind(this);\n    this.removeAssociation = this.removeAssociation.bind(this);\n    this.removeInvolvement = this.removeInvolvement.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n    \n    \n    \n    \n    \n    this.state = {\n      token: window.localStorage.getItem('token'),\n      morningReport: null,\n      afternoonReport: null,\n      extraReport: null,\n      id: null,\n      associations: [],\n      involvements: [],\n      time_sheet: null,\n      timeSheetDate:  new Date(),\n    }\n  }\n\n\n  componentWillMount() {\n    ModelStore.on(\"set_instance\", this.setInstance);\n    ModelStore.on(\"got_instance\", this.getInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  loadData() {\n    if (this.$f7route.params['timeSheetId']) {\n      MyActions.getInstance('time_sheets', this.$f7route.params['timeSheetId'], this.state.token);\n    }\n  }\n\n  submit(){\n    var data = {\n      id: this.state.id,\n      associations: this.state.associations,\n      morning_report: this.state.morningReport, afternoon_report: this.state.afternoonReport,\n      extra_report: this.state.extraReport, sheet_date: this.state.timeSheetDate,\n      involvements: this.state.involvements\n    }\n    MyActions.updateInstance('time_sheets', data, this.state.token);\n  }\n\n  getInstance(){\n    var time_sheet = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (time_sheet && klass === 'TimeSheet') {\n      this.setState({\n        id: time_sheet.id,\n        time_sheet: time_sheet,\n        timeSheetDate: time_sheet.date,\n        involvements: time_sheet.the_involvements,\n        associations: time_sheet.the_associations\n      }, () => this.loadAssociation());\n\n    }\n    console.log(time_sheet)\n  }\n\n  loadAssociation() {\n    const self = this;\n    const app = self.$f7;\n\n    app.autocomplete.create({\n      openIn: 'popup', //open in page\n      openerEl: '#Morning-association', //link that opens autocomplete\n      multiple: true, //allow multiple values\n      valueProperty: 'id', //object's \"value\" property name\n      textProperty: 'title', //object's \"text\" property name\n      searchbarDisableText: dict.cancel,\n      popupCloseLinkText: dict.close,\n      notFoundText: dict.not_found,\n      limit: 50,\n      searchbarPlaceholder: dict.search,\n      preloader: true, //enable preloader\n      source: function (query, render) {\n        var autocomplete = this;\n        var results = [];\n        if (query.length === 0) {\n          render(results);\n          return;\n        }\n        // Show Preloader\n        autocomplete.preloaderShow();\n        // Do Ajax request to Autocomplete data\n        app.request({\n          url:  conf.server + '/time_sheets/search_ass',\n          method: 'GET',\n          dataType: 'json',\n          //send \"query\" to server. Useful in case you generate response dynamically\n          data: {\n            q: query\n          },\n          success: function (item) {\n            // Find matched items\n            for (var i = 0; i < item.data.length; i++) {\n              results.push(item.data[i]);\n            }\n            // Hide Preoloader\n            autocomplete.preloaderHide();\n            // Render items by passing array with result items\n            render(results);\n          }\n        });\n      },\n      on: {\n        change: function (value) {\n          if (value && value[value.length - 1]) {\n            console.log(self.state.associations)\n            self.setState({ associations: self.state.associations.concat({ title: value[value.length - 1].title, id: value[value.length - 1].id , a_type:  value[value.length - 1].a_type, kind: 'Morning'}) })\n          }\n        },\n      },\n    });\n\n    app.autocomplete.create({\n      openIn: 'popup', //open in page\n      openerEl: '#Afternoon-association', //link that opens autocomplete\n      multiple: true, //allow multiple values\n      valueProperty: 'id', //object's \"value\" property name\n      textProperty: 'title', //object's \"text\" property name\n      searchbarDisableText: dict.cancel,\n      popupCloseLinkText: dict.close,\n      notFoundText: dict.not_found,\n      limit: 50,\n      searchbarPlaceholder: dict.search,\n      //preloader: true, //enable preloader\n      source: function (query, render) {\n        var autocomplete = this;\n        var results = [];\n        if (query.length === 0) {\n          render(results);\n          return;\n        }\n        // Show Preloader\n       // autocomplete.preloaderShow();\n        // Do Ajax request to Autocomplete data\n        app.request({\n          url: conf.server + '/time_sheets/search_ass',\n          method: 'GET',\n          dataType: 'json',\n          //send \"query\" to server. Useful in case you generate response dynamically\n          data: {\n            q: query\n          },\n          success: function (item) {\n            // Find matched items\n            for (var i = 0; i < item.data.length; i++) {\n              results.push(item.data[i]);\n            }\n            // Hide Preoloader\n            //autocomplete.preloaderHide();\n            // Render items by passing array with result items\n            render(results);\n          }\n        });\n      },\n      on: {\n        change: function (value) {\n          if (value && value[value.length - 1]) {\n            self.setState({ associations: self.state.associations.concat({ title: value[value.length - 1].title, id: value[value.length - 1].id ,  a_type:  value[value.length - 1].a_type, kind: 'Afternoon'}) })\n          }\n        },\n      },\n    });\n\n    app.autocomplete.create({\n      openIn: 'popup', //open in page\n      openerEl: '#Extra-association', //link that opens autocomplete\n      multiple: true, //allow multiple values\n      valueProperty: 'id', //object's \"value\" property name\n      textProperty: 'title', //object's \"text\" property name\n      searchbarDisableText: dict.cancel,\n      popupCloseLinkText: dict.close,\n      notFoundText: dict.not_found,\n      limit: 50,\n      searchbarPlaceholder: dict.search,\n      //preloader: true, //enable preloader\n      source: function (query, render) {\n        var autocomplete = this;\n        var results = [];\n        if (query.length === 0) {\n          render(results);\n          return;\n        }\n        // Show Preloader\n       // autocomplete.preloaderShow();\n        // Do Ajax request to Autocomplete data\n        app.request({\n          url: conf.server +'/time_sheets/search_ass',\n          method: 'GET',\n          dataType: 'json',\n          //send \"query\" to server. Useful in case you generate response dynamically\n          data: {\n            q: query\n          },\n          success: function (item) {\n            // Find matched items\n            for (var i = 0; i < item.data.length; i++) {\n              results.push(item.data[i]);\n            }\n            // Hide Preoloader\n            //autocomplete.preloaderHide();\n            // Render items by passing array with result items\n            render(results);\n          }\n        });\n      },\n      on: {\n        change: function (value) {\n          if (value && value[value.length - 1]) {\n            self.setState({ associations: self.state.associations.concat({ title: value[value.length - 1].title, id: value[value.length - 1].id ,  a_type:  value[value.length - 1].a_type, kind: 'Extra'}) })\n          }\n        },\n      },\n    });\n\n    app.autocomplete.create({\n      openIn: 'popup', //open in page\n      openerEl: '#time-sheet-involvements', //link that opens autocomplete\n      multiple: true, //allow multiple values\n      valueProperty: 'id', //object's \"value\" property name\n      textProperty: 'fullname', //object's \"text\" property name\n      searchbarDisableText: dict.cancel,\n      popupCloseLinkText: dict.close,\n      notFoundText: dict.not_found,\n      limit: 50,\n      searchbarPlaceholder: dict.search,\n      //preloader: true, //enable preloader\n      source: function (query, render) {\n        var autocomplete = this;\n        var results = [];\n        if (query.length === 0) {\n          render(results);\n          return;\n        }\n        // Show Preloader\n       // autocomplete.preloaderShow();\n        // Do Ajax request to Autocomplete data\n        app.request({\n          url: conf.server + '/profiles/search',\n          method: 'GET',\n          dataType: 'json',\n          //send \"query\" to server. Useful in case you generate response dynamically\n          data: {\n            q: query\n          },\n          success: function (item) {\n            // Find matched items\n            for (var i = 0; i < item.data.length; i++) {\n               results.push(item.data[i]);\n            }\n            // Hide Preoloader\n            //autocomplete.preloaderHide();\n            // Render items by passing array with result items\n            render(results);\n          }\n        });\n      },\n      on: {\n        change: function (value) {\n          if (value && value[value.length - 1]) {\n            self.setState({ involvements: self.state.involvements.concat({ fullname: value[value.length - 1].fullname, id: value[value.length - 1].id }) })\n          }\n        },\n      },\n    });\n  }\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  setInstance(){\n    const self = this;\n    this.$f7router.navigate('/time_sheets/');\n  }\n\n  pageAfterIn() {\n    this.loadCalender();\n    this.loadAssociation();\n  }\n\n\n  loadCalender() {\n    const self = this;\n    const app = self.$f7;\n\n    app.calendar.create({\n      inputEl: '#sheet-date-calendar',\n      value: [new Date()],\n      closeOnSelect: true,\n      firstDay: 6,\n      weekendDays: [4, 5],\n      monthNames: ['فروردين', 'ارديبهشت', 'خرداد', 'تیر', 'مرداد', 'شهریور', 'مهر', 'آبان', 'آذر', 'دی', 'بهمن', 'اسفند'],\n      dayNames: ['یکشنبه', 'دوشنبه', 'سه شنبه', 'چهارشنبه', 'پنج‌شنبه', 'جمعه', 'شنبه'],\n      dayNamesShort: ['یک', 'دو', 'سه ', 'چهار', 'پنج‌', 'جمعه', 'شنبه'],\n      on: {\n        closed: function (c) {\n          self.setState({ timeSheetDate: c.value[0].a });\n        }\n      }\n    });\n  }\n\n  removeAssociation(id, kind){\n    this.setState({\n      associations: this.state.associations.filter(function (association) {\n        return (association.id !== id || association.kind !== kind)\n      })\n    });\n  }\n\n  removeInvolvement(id){\n    this.setState({\n      involvements: this.state.involvements.filter(function (involvement) {\n        return involvement.id !== id\n      })\n    });\n  }\n\n\n\n\n  render() {\n    const {time_sheet, associations, involvements} = this.state;\n    return (\n      <Page onPageAfterIn={this.pageAfterIn.bind(this)}>\n        <Navbar title={dict.time_sheet_form} backLink={dict.back} />\n        <BlockTitle>{dict.time_sheet_form}</BlockTitle>\n        <TimeSheetForm \n          time_sheet={time_sheet} submit={this.submit}\n           editing={true} handleChange={this.handleChangeValue}\n           associations={associations} removeAssociation={this.removeAssociation}\n           involvements={involvements} removeInvolvement={this.removeInvolvement}\n           />\n      </Page>\n    );\n  }\n}\n","import React from \"react\";\nimport { List, ListItem, Card } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport { Chart } from 'react-charts'\nimport { color } from \"d3\";\nimport TaskList from \"../tasks/list\"\nimport WorkList from \"../tasks/workList\"\nconst ProfileShow = (props) => {\n\n  if (props.profile) {\n    console.log(props)\n    return (\n      <React.Fragment>\n        <List className='fs-12'>\n          <ListItem\n            key={'profile-show' + props.profile.id}\n            title={props.profile.fullname}\n            after=''>\n            <img slot=\"media\" src={props.profile.avatar} width=\"27\" height=\"27\" />\n          </ListItem>\n\n        </List>\n        <Card>\n          <TaskList tasks={props.profile.the_tasks} header={dict.tasks} sortChange={props.sortChange} />\n        </Card>\n        <Card>\n          <WorkList works={props.profile.the_works} header={dict.works} sortChange={props.sortChange} />\n        </Card>\n      </React.Fragment>\n    )\n  } else {\n    return (null)\n  }\n}\nexport default ProfileShow;\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Link,\n  Tabs,\n  Toolbar,\n  Tab,\n  Range,\n  Block,\n  Icon, Fab\n} from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport ProfileShow from \"../../containers/profiles/show\"\n\nexport default class Layout extends Component {\n  constructor() {\n    super();\n    this.getInstance = this.getInstance.bind(this);\n    \n    this.state = {\n      token: window.localStorage.getItem('token'),\n      profile: null,\n      id: null,\n      actuals: null,\n      metas: null,\n      channels: null,\n    }\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n  }\n\n  componentDidMount() {\n    MyActions.getInstance('profiles', this.$f7route.params['profileId'], this.state.token);\n  }\n\n  getInstance() {\n    var profile = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (profile && klass === 'Profile') {\n      this.setState({\n        profile: profile,\n        id: profile.id,\n      });\n    }\n  }\n\n  fab() {\n    if (this.state.profile) {\n      return (\n        <Fab href={\"/profiles/\" + this.state.profile.id + \"/edit\"} target=\"#main-view\" position=\"left-bottom\" slot=\"fixed\" color=\"lime\">\n          <Icon ios=\"f7:edit\" aurora=\"f7:edit\" md=\"material:edit\"></Icon>\n          <Icon ios=\"f7:close\" aurora=\"f7:close\" md=\"material:close\"></Icon>\n        </Fab>\n      )\n    }\n  }\n\n\n  render() {\n    const { profile } = this.state;\n    return (\n      <Page>\n        <Navbar title={dict.profiles} backLink={dict.back} />\n        {this.fab()}\n        <ProfileShow profile={profile} />\n      </Page>\n    );\n  }\n}\n","import React from \"react\";\nimport { List,ListItem } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\nimport Moment from 'react-moment';\nimport 'moment-timezone';\nimport 'moment/locale/fa';\nimport ExpertiesList from \"./experties\";\n\nconst ProfileList = (props) => {\n\n  if (props.profiles) {\n    return (\n      <List mediaList>\n        {props.profiles.map((profile) =>\n          <ListItem\n          key={crypto.lib.WordArray.random(32)}\n          link={\"/profiles/\" + profile.id}\n          title={profile.fullname}\n          after=\"\"\n          subtitle=\"\"\n          text=\"\"\n          >\n                <img slot=\"media\" src={profile.avatar} width=\"40\" height=\"40\" />\n          </ListItem>\n        )}\n      </List>\n    )\n  } else {\n    return (<ul></ul>)\n  }\n}\nexport default ProfileList;\n","import React from \"react\";\nimport { Page, Navbar, Searchbar, BlockTitle, Subnavbar, Fab, Icon, Link } from 'framework7-react';\nimport ProfileList from \"./list\"\nimport { dict } from '../../Dict';\n\nconst ProfileIndex = (props) => {\n  return (\n    <Page>\n      <Navbar title={dict.profiles} backLink={dict.back} >\n        <Link panelOpen=\"right\">\n          <Icon f7=\"bars\"></Icon>\n        </Link>\n        <Subnavbar inner={false}>\n          <Searchbar\n            disableButtonText={dict.cancel}\n            placeholder={dict.search}\n            onChange={(e) => {\n              props.search({ query: e.target.value })\n            }}\n          ></Searchbar>\n        </Subnavbar>\n      </Navbar>\n      <BlockTitle></BlockTitle>\n      <Fab href=\"/profiles/new\" target=\"#main-view\" position=\"left-bottom\" slot=\"fixed\" color=\"deeporange\">\n        <Icon ios=\"f7:add\" aurora=\"f7:add\" md=\"material:add\"></Icon>\n        <Icon ios=\"f7:close\" aurora=\"f7:close\" md=\"material:close\"></Icon>\n      </Fab>\n      <ProfileList profiles={props.profiles} />\n\n    </Page>\n  )\n}\nexport default ProfileIndex;\n","import React from \"react\"\nimport { Page,Fab, Icon } from 'framework7-react';\nimport ModelStore from \"../../stores/ModelStore\";\nimport ProfileIndex from \"../../containers/profiles/index\"\nimport * as MyActions from \"../../actions/MyActions\";\nimport { dict} from '../../Dict';\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\n\nexport default class Layout extends React.Component {\n  constructor() {\n    super();\n    this.getList = this.getList.bind(this);\n    this.search = this.search.bind(this);\n    \n    this.state = {\n      token: window.localStorage.getItem('token'),\n      profiles: null,\n      query: null,\n    }\n  }\n  componentWillMount() {\n    ModelStore.on(\"got_list\", this.getList);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_list\", this.getList);\n  }\n\n  componentDidMount(){\n    this.loadData();\n  }\n\n  loadData(){\n    MyActions.getList('profiles', this.state.page, {}, this.state.token);\n  }\n\n  search(obj){\n    this.setState(obj, () => {\n      MyActions.getList('profiles/search', this.state.page, {q: this.state.query}, this.state.token);\n  });    \n  }\n\n  getList() {\n    var profiles = ModelStore.getList()\n    var klass = ModelStore.getKlass()\n    if (profiles && klass === 'Profile'){\n      this.setState({\n        profiles: profiles,\n      });\n    }\n  }\n\n  render() {\n    const {profiles} = this.state;\n    return(<ProfileIndex profiles={profiles} search={this.search}/>)\n  }\n}\n","import React from \"react\";\nimport { List, ListInput, CardFooter, Button, Card, Link, CardHeader, CardContent, Row } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport crypto from 'crypto-js';\nimport ExpertiesList from \"./experties\";\nimport ImageUploader from 'react-images-upload';\nconst ProfileForm = (props) => {\n  if (props.profile) {\n    return (\n      <React.Fragment>\n        <Card>\n          <CardHeader>{dict.profile_info}</CardHeader>\n          <CardContent>\n            <List >\n              <ListInput\n                label={dict.firstname}\n                type=\"text\"\n                placeholder='...'\n                defaultValue={props.name}\n                onInput={(e) => {\n                  props.handleChange({ name: e.target.value })\n                }}\n              />\n\n              <ListInput\n                label={dict.surename}\n                type=\"text\"\n                placeholder='...'\n                defaultValue={props.surename}\n                onInput={(e) => {\n                  props.handleChange({ surename: e.target.value })\n                }}\n              />\n            </List>\n          </CardContent>\n          <CardFooter>\n            <Link></Link>\n            <Link className=\"btn-notice\"></Link>\n            <Button className=\"col btn\" fill onClick={props.submit}>{dict.submit}</Button>\n          </CardFooter>\n        </Card>\n\n\n\n        <Card>\n          <CardHeader>\n            <img src={props.avatar} width=\"40\" height=\"40\"></img>\n          </CardHeader>\n          <ImageUploader\n            withIcon={true}\n            buttonText={dict.choose_image}\n            onChange={props.onDrop}\n            buttonClassName='upload-btn'\n            imgExtension={['.jpg', '.jpeg', '.png']}\n            maxFileSize={5242880}\n          />\n        </Card>\n\n\n      </React.Fragment>\n    )\n  } else {\n    return (null)\n  }\n\n}\nexport default ProfileForm;\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon\n} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport ProfileForm from \"../../containers/profiles/form\"\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\nexport default class ProfileCreate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.handleChangeValueFields = this.handleChangeValueFields.bind(this);\n    this.removeActual = this.removeActual.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n    this.submitFields = this.submitFields.bind(this);\n    this.onDrop = this.onDrop.bind(this);    \n    this.getList = this.getList.bind(this);\n    \n    \n    this.getList = this.getList.bind(this);\n\n    this.state = {\n      profile: {},\n      metas: null,\n      token: window.localStorage.getItem('token'),\n      fields: [],\n      name: 'dd',\n      surename: '',\n      pictures: [],\n      avatar: null,\n    }\n  }\n\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n    ModelStore.on(\"set_instance\", this.getInstance);\n    ModelStore.on(\"deleted_instance\", this.getInstance);\n    ModelStore.on(\"got_list\", this.getList);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n    ModelStore.removeListener(\"set_instance\", this.getInstance);\n    ModelStore.removeListener(\"deleted_instance\", this.getInstance);\n    ModelStore.removeListener(\"got_list\", this.getList);\n  }\n\n  componentDidMount(){\n    this.loadData();\n\n  }\n\n  loadData(){\n    MyActions.getList('metas', this.state.page);\n  }\n\n  onDrop(picture) {\n    console.log(picture[0])\n    MyActions.fileUpload('profiles', this.state.id, picture[0], this.state.token);\n  }\n\n\n  submit(){\n    var data = {id: this.state.id, name: this.state.name, surename: this.state.surename}\n    MyActions.updateInstance('profiles', data, this.state.token);\n  }\n\n  submitFields(){\n    var data = {meta_id: this.state.metaId, content: this.state.fields}\n    MyActions.setInstance('actuals', data, this.state.token);\n  }\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  handleChangeValueFields(key, value, metaId) {\n    var fields = this.state.fields\n    if (fields.length > 0) {\n      for (let i = 0; i < fields.length; i++) {\n        if (fields[i].fid && fields[i].fid === key) {\n          let newState = Object.assign({}, this.state);\n          newState.fields[i] = { fid: key, value: value, metaId: metaId }\n          this.setState(newState);\n        } else {\n          this.setState({ fields: this.state.fields.concat({ fid: key, value: value , metaId:metaId}) });\n        }\n      }\n    } else {\n      this.setState({ fields: this.state.fields.concat({ fid: key, value: value, metaId:metaId }) });\n    }\n  }\n\n  setInstance(){\n    const self = this;\n    this.$f7router.navigate('/profiles/');\n  }\n\n  getInstance() {\n    var profile = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (profile && klass === 'Profile') {\n      this.setState({\n        metas: profile.metas,\n        profile: profile\n      });\n    }\n  }\n\n\n  removeActual(uuid){\n    MyActions.removeInstance('actuals', {uuid: uuid});\n  }\n\n  getList() {\n    var metas = ModelStore.getList()\n    var klass = ModelStore.getKlass()\n    if (metas && klass === 'Meta'){\n      this.setState({\n        metas: metas,\n      });\n    }\n  }\n\n\n\n  render() {\n    const {profile, metas, name, avatar, surename} = this.state;\n    return (\n      <Page>\n        <Navbar title={dict.profile_form} backLink={dict.back} />\n        <BlockTitle>{dict.profile_form}</BlockTitle>\n        <ProfileForm name={name} avatar={avatar} surename={surename} metas={metas} onDrop={this.onDrop} removeActual={this.removeActual} submitFields={this.submitFields} submit={this.submit} editing={true} handleChangeValueFields={this.handleChangeValueFields} handleChange={this.handleChangeValue}/>\n      </Page>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  BlockTitle,\n} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport ProfileForm from \"../../containers/profiles/form\"\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\nexport default class ProfileCreate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n    this.onDrop = this.onDrop.bind(this);    \n    \n\n    \n\n    this.state = {\n      name: null,\n      surename: null,\n      token: window.localStorage.getItem('token'),\n      profile: null,\n      id: null, \n      pictures: [],\n      avatar: null,\n    }\n  }\n\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n    ModelStore.on(\"set_instance\", this.setInstance);\n    ModelStore.on(\"file_posted\", this.getInstance);    \n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n    ModelStore.removeListener(\"file_posted\", this.getInstance);\n  }\n\n  componentDidMount(){\n    this.loadData();\n  }\n\n  loadData(){\n    if (this.$f7route.params['profileId']) {\n      MyActions.getInstance('profiles', this.$f7route.params['profileId'], this.state.token);\n    }\n  }\n\n  onDrop(picture) {\n    console.log(picture[0])\n    MyActions.fileUpload('profiles', this.state.id, picture[0], this.state.token);\n  }\n\n\n  submit(){\n    var data = {id: this.state.id, name: this.state.name, surename: this.state.surename}\n    MyActions.updateInstance('profiles', data, this.state.token);\n  }\n\n\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n\n\n  setInstance(){\n    const self = this;\n    this.$f7router.navigate('/profiles/');\n  }\n\n  getInstance() {\n    var profile = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (profile && klass === 'Profile') {\n      this.setState({\n        id: profile.id, \n        profile: profile,\n        name: profile.name,\n        surename : profile.surename,\n        avatar: profile.avatar,\n      });\n    }\n  }\n\n\n\n\n\n\n  render() {\n    const {profile, name, surename, avatar} = this.state;\n    return (\n      <Page>\n        <Navbar title={dict.profile_form} backLink={dict.back} />\n        <BlockTitle>{dict.profile_form}</BlockTitle>\n        <ProfileForm profile={profile}\n          name={name} avatar={avatar} surename={surename} onDrop={this.onDrop}  \n         submit={this.submit} editing={true} \n         handleChange={this.handleChangeValue} \n         />\n      </Page>\n    );\n  }\n}\n\n","import React from \"react\";\nimport { List, BlockTitle, ListItem, Block, Row, Col, Button, Link } from 'framework7-react';\nimport { stateToHTML } from \"draft-js-export-html\";\nimport { EditorState, convertFromRaw } from \"draft-js\";\nimport { Editor } from 'react-draft-wysiwyg';\nimport { dict } from '../../Dict';\nimport Moment from 'react-moment';\nimport CommentForm from \"../comments/form\"\nimport CommentList from \"../comments/list\"\nimport 'moment-timezone';\nimport 'moment/locale/fa';\n\nconst ReportShow = (props) => {\nconsole.log(props)\n  function commentable(){\n    if (props.access.includes('view_reports')) {\n      return (\n        <CommentForm\n          model={props.task} submit={props.submitComment}\n          handleChange={props.handleChange} replyTo={props.replyTo}\n          comments={props.comments} removeReply={props.removeReply}\n          rnd={props.rnd}\n         \n        />\n      )\n    }\n  }\n\n  function comments(){\n    if (props.comments) {\n     return( <CommentList\n      comments={props.comments} deleteCommentConfirm={props.deleteCommentConfirm}\n      loadMore={props.loadMore}  replyToComment={props.replyToComment} />)\n    }\n  }\n  if (props.report && props.report.draft) {\n    const contentState = convertFromRaw(props.report.draft);\n    const editorState = EditorState.createWithContent(contentState);\n    function parent() {\n      if (props.report.the_work) {\n        return (<ListItem title={props.report.the_work.title} href={'/works/' + props.report.the_work.id}></ListItem>)\n      }\n      if (props.report.the_task) {\n        return (<ListItem title={props.report.the_task.title} href={'/tasks/' + props.report.the_task.id}></ListItem>)\n      }\n    }\n\n    function creation(t) {\n      var date = new Date(new window.ODate(t))\n      return (<Moment date={date} fromNow></Moment>)\n    }\n    return (\n      <React.Fragment>\n        <Block>\n          <Row>\n\n          </Row>\n        </Block>\n        <List simple-list>\n          {parent()}\n        </List>\n\n        <List simple-list>\n          <ListItem\n            key={'profile' + props.report.profile.id}\n            title={props.report.profile.fullname}\n            after=''>\n            <img slot=\"media\" src={props.report.profile.avatar} width=\"27\" height=\"27\" />\n          </ListItem>\n        </List>\n\n\n\n\n        <BlockTitle>{dict.title}</BlockTitle>\n        <List simple-list>\n          <ListItem>{props.report.title}</ListItem>\n        </List>\n\n        <BlockTitle>{dict.content}</BlockTitle>\n        <Editor editorState={editorState}\n          toolbar={{ options: [] }}\n          readOnly={true}\n        />\n        <List simple-list>\n          <ListItem title={creation(props.report.creation_date)}></ListItem>\n        </List>\n\n        <BlockTitle>{dict.attachments}</BlockTitle>\n        <List>\n          {props.report.attachments.map((attachment) =>\n            <li className=\"\">\n              <div className=\"item-content\">\n                <div className=\"item-inner\">\n                  <div className=\"item-title\">\n                    <a className=\"link external\" target=\"_blank\" href={attachment.link}>\n                      <i className=\"fa ml-5 fa-cloud-download\" aria-hidden=\"true\"></i>\n                      {attachment.filename}\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </li>\n          )}\n        </List>\n\n        {commentable()}\n        {comments()}\n\n\n      </React.Fragment>\n    )\n  } else {\n    return (null)\n  }\n}\nexport default ReportShow;\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  Link,\n  BlockTitle,\n  Icon, Fab\n} from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport ReportShow from \"../../containers/reports/show\";\nimport crypto from 'crypto-js';\n\nexport default class Layout extends Component {\n  constructor() {\n    super();\n    this.getInstance = this.getInstance.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.getList = this.getList.bind(this);\n    this.submitComment = this.submitComment.bind(this);\n    this.deleteComment = this.deleteComment.bind(this);\n    this.deleteCommentConfirm = this.deleteCommentConfirm.bind(this);\n    this.loadMore = this.loadMore.bind(this);\n    this.replyToComment = this.replyToComment.bind(this);\n    this.removeReply = this.removeReply.bind(this);\n\n\n\n\n    this.state = {\n      report: null,\n      id: null,\n      page: 1,\n      selectedChannel: null,\n      sheetOpened: false,\n      commentContent: '',\n      comments: null,\n      access: null,\n      replyTo: null,\n      token: window.localStorage.getItem('token'),\n      rnd: crypto.lib.WordArray.random(32),\n\n    }\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n    ModelStore.on(\"set_instance\", this.setInstance);\n    ModelStore.on(\"got_list\", this.getList);\n    ModelStore.on(\"deleted_instance\", this.getInstance);\n\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n    ModelStore.removeListener(\"got_list\", this.getList);\n    ModelStore.removeListener(\"deleted_instance\", this.getInstance);\n  }\n\n  componentDidMount() {\n    MyActions.getInstance('reports', this.$f7route.params['reportId'], this.state.token);\n  }\n\n  getInstance() {\n    var report = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (report && klass === 'Report') {\n      this.setState({\n        report: report,\n        id: report.id,\n        comments: report.the_comments,\n        access: report.user_access,\n        replyTo: null,\n      });\n    }\n  }\n\n  getList() {\n\n  }\n\n  setInstance() {\n    var report = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (report && klass === 'Report') {\n      this.setState({\n        report: report,\n        comments: report.the_comments,\n        page: 1\n      });\n    }\n    this.$$('#cm-form-'+this.state.rnd).val('');\n  }\n\n  loadMore() {\n    this.setState({ page: this.state.page + 1 }, () => {\n      MyActions.getInstance('reports', this.$f7route.params['reportId'], this.state.token, this.state.page);\n    });\n  }\n\n  fab() {\n    if (this.state.report) {\n      return (\n        <Fab href={\"/reports/\" + this.state.report.id + \"/edit\"} target=\"#main-view\" position=\"left-bottom\" slot=\"fixed\" color=\"lime\">\n          <Icon ios=\"f7:edit\" aurora=\"f7:edit\" md=\"material:edit\"></Icon>\n          <Icon ios=\"f7:close\" aurora=\"f7:close\" md=\"material:close\"></Icon>\n        </Fab>\n      )\n    }\n  }\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n\n\n  submitComment() {\n    var data = { commentable_type: 'Report', commentable_id: this.state.id, content: this.state.commentContent , reply_id: this.state.replyTo }\n    MyActions.setInstance('comments', data, this.state.token);\n  }\n\n\n  deleteCommentConfirm(id) {\n    const self = this;\n    const app = self.$f7;\n    app.dialog.confirm(dict.are_you_sure, dict.alert, () => self.deleteComment(id))\n  }\n\n  deleteComment(id) {\n    var data = { id: id }\n    MyActions.removeInstance('comments', data, this.state.token, this.state.page);\n  }\n\n  replyToComment(id) {\n    this.setState({ replyTo: id })\n    this.$$('#cm-form').focus()\n  }\n\n  removeReply() {\n    this.setState({ replyTo: null })\n  }\n\n\n\n  render() {\n    const { report, comments , access, replyTo, rnd} = this.state;\n    return (\n      <Page>\n        <Navbar title={dict.reports} >\n        <Link panelOpen=\"right\">\n          <Icon f7=\"bars\"></Icon>\n        </Link>\n      </Navbar>\n        <BlockTitle></BlockTitle>\n        {this.fab()}\n        <ReportShow \n          report={report} comments={comments} submitComment={this.submitComment}\n          deleteCommentConfirm={this.deleteCommentConfirm} submit={this.submit} \n          handleChange={this.handleChangeValue} loadMore={this.loadMore} \n          access={access}\n          replyToComment={this.replyToComment} replyTo={replyTo} removeReply={this.removeReply}\n          rnd={rnd}\n          />\n      </Page>\n    );\n  }\n}\n","import React from \"react\";\nimport { Card, CardHeader, Link, CardContent, Row, Col} from 'framework7-react';\nimport crypto from 'crypto-js';\n\nimport { dict } from \"../../Dict\";\n\nconst ReportList = (props) => {\n  if (props.reports && props.reports.length > 0) {\n    return (\n      <React.Fragment>\n        <Row noGap>\n          {props.reports.map((report) =>\n            <Col width=\"100\" tabletWidth=\"33\" key={crypto.lib.WordArray.random(128/8)}> \n              <Card className=\"demo-facebook-card\">\n                <CardHeader className=\"no-border\">\n                <div className=\"demo-facebook-avatar\"><Link tooltip={report.profile.fullname} href={'/profiles/' + report.profile.id}><img src={report.profile.avatar} height=\"34\" /></Link></div>\n                  <div className=\"demo-facebook-name \">\n                    <div className=\"demo-facebook-profile \">\n                      <Link className=\"gray-color\" href={'/profiles/' + report.profile.id}>{report.profile.fullname.substring(0, 40)}</Link>\n                    </div>\n                    <Link tooltip={dict.view} className=\"gray-color\" href={'/reports/' + report.id}>{report.title.substring(0, 15) + '..'}</Link></div>\n                  <div className=\"demo-facebook-date\">\n                    \n                  </div>\n                </CardHeader>\n                <CardContent className='lightgray-color fs-12'>\n                  {report.content.substring(0, 150) + '...'}\n                  <div className=\"demo-facebook-more\">\n                    <Link className=\"gray-color\" href={'/reports/' + report.id}>\n                      {dict.view}\n                      <i className=\"va fa fa-arrow-left mr-2\"></i>\n                    </Link>\n                  </div>\n                </CardContent>\n              </Card>\n            </Col>\n          )}\n        </Row>\n        <Row noGap>\n          <Col></Col>\n          <Col className='center mb-20'>\n          <a className=\"gray-color\" onClick={() => props.loadMore()}>\n            {dict.more}\n          </a>\n          </Col>\n          <Col></Col>\n        </Row>\n      </React.Fragment>\n    )\n  } else {\n    return (<ul></ul>)\n  }\n}\nexport default ReportList;\n","import React from \"react\";\nimport { Page, Navbar, Subnavbar, Searchbar, BlockTitle, Link, Fab, Icon, Toolbar, Tabs, Tab, Block } from 'framework7-react';\nimport ReportList from \"./list\"\nimport { dict } from '../../Dict';\n\nconst ReportIndex = (props) => {\n  return (\n    <Page pageContent={false}>\n      <Navbar title={dict.reports} >\n        <Link panelOpen=\"right\">\n          <Icon f7=\"bars\"></Icon>\n        </Link>\n        <Subnavbar inner={false}>\n          <Searchbar\n            disableButtonText={dict.cancel}\n            placeholder={dict.search}\n            onChange={(e) => {\n              props.search({ query: e.target.value })\n            }}\n          ></Searchbar>\n        </Subnavbar>\n      </Navbar>\n      <Toolbar tabbar bottom>\n          <Link tabLink=\"#tab-1\" tabLinkActive><i className=\"va ml-5 fa fa-link\"></i></Link>\n          <Link tabLink=\"#tab-2\"><i className=\"va ml-5 fa fa-plug\"></i></Link>\n          <Link tabLink=\"#tab-3\"><i className=\"va ml-5 fa fa-user-o\"></i></Link>\n        </Toolbar>\n      <BlockTitle></BlockTitle>\n      <Fab href=\"/reports/new\" target=\"#main-view\" position=\"left-bottom\" slot=\"fixed\" color=\"deeporange\">\n        <Icon ios=\"f7:add\" aurora=\"f7:add\" md=\"material:add\"></Icon>\n        <Icon ios=\"f7:close\" aurora=\"f7:close\" md=\"material:close\"></Icon>\n      </Fab>\n      <Tabs swipeable>\n        <Tab id=\"tab-1\" className=\"page-content\" tabActive>\n          <Block>\n            <ReportList reports={props.reports} interaction={props.interaction} loadMore={props.loadMore} />\n          </Block>\n        </Tab>\n\n        <Tab id=\"tab-2\" className=\"page-content\" >\n          <Block>\n            <ReportList reports={props.reports} interaction={props.interaction} loadMore={props.loadMore} />\n          </Block>\n        </Tab>\n\n        <Tab id=\"tab-3\" className=\"page-content\" >\n          <Block>\n            <ReportList reports={props.reports} interaction={props.interaction} loadMore={props.loadMore} />\n          </Block>\n        </Tab>\n      </Tabs>\n    </Page>\n  )\n}\nexport default ReportIndex;\n","\nexport function loggedIn() {\n // console.log('>>>>>>>>>>>>>>>>>>>>>');\n    var token = window.localStorage.getItem('token');\n    if (token) {\n      return true\n    } else {\n      this.$f7router.navigate('/login/');\n    }\n\n}\n","import React from \"react\"\nimport { Page, Fab, Icon } from 'framework7-react';\nimport ModelStore from \"../../stores/ModelStore\";\nimport ReportIndex from \"../../containers/reports/index\"\nimport * as MyActions from \"../../actions/MyActions\";\nimport { loggedIn } from \"../../components/users/loggedIn.js\"\n\n\nexport default class Report extends React.Component {\n  constructor() {\n    super();\n    this.getList = this.getList.bind(this);\n    this.loggedIn = loggedIn.bind(this);\n    this.interaction = this.interaction.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.search = this.search.bind(this);\n    this.loadMore = this.loadMore.bind(this);\n\n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      reports: [],\n      query: null,\n      page: 1\n    }\n  }\n  componentWillMount() {\n    ModelStore.on(\"got_list\", this.getList);\n    ModelStore.on(\"set_instance\", this.setInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_list\", this.getList);\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n  }\n\n  componentDidMount() {\n    this.loggedIn();\n    this.loadData();\n  }\n\n  loadData() {\n    MyActions.getList('reports', this.state.page, {}, this.state.token);\n  }\n\n  search(obj) {\n    this.setState({ reports: [], page: 1 });\n    this.setState(obj, () => {\n      MyActions.getList('reports/search', this.state.page, { q: this.state.query });\n    });\n\n  }\n\n  setInstance() {\n    var report = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (report && klass === 'Report') {\n      this.setState({ reports: this.state.reports.map(el => (el.id === report.id ? Object.assign({}, el, report) : el)) });\n    }\n  }\n\n\n  loadMore() {\n    if (this.state.query && this.state.query.length > 0) {\n      this.setState({ page: this.state.page + 1 }, () => {\n        MyActions.getList('reports/search', this.state.page, {q: this.state.query }, this.state.token);\n      });\n    } else {\n      this.setState({ page: this.state.page + 1 }, () => {\n        MyActions.getList('reports', this.state.page, {}, this.state.token);\n      });\n    }\n  }\n\n  getList() {\n    var reports = ModelStore.getList()\n    var klass = ModelStore.getKlass()\n    if (reports.length > 0 && klass === 'Report') {\n      this.setState({\n        reports: this.state.reports.concat(reports),\n      });\n    }\n  }\n\n  interaction(interaction_type, interactionable_id, interactionable_type, source_type = null, source_id = null) {\n    var data = { interaction_type: interaction_type, interactionable_id: interactionable_id, interactionable_type: interactionable_type, source_type: source_type, source_id: source_id }\n    MyActions.setInstance('interactions', data, this.state.token);\n  }\n\n  render() {\n    const { reports } = this.state;\n    return (<ReportIndex interaction={this.interaction} loadMore={this.loadMore} reports={reports} search={this.search} />)\n  }\n}\n","import React from \"react\";\nimport { Card, CardContent, CardHeader } from 'framework7-react';\nimport 'react-dropzone-uploader/dist/styles.css'\nimport '../../css/upload.css'\nimport Dropzone from 'react-dropzone-uploader'\nimport { dict } from \"../../Dict\";\nimport { conf } from '../../conf';\nconst server= conf.server\n\nconst UploadForm = (props) => {\n  // specify upload params and url for your files\n  const getUploadParams = ({ meta }) => { return { fields:{'upload[title]':props.title, 'upload[uuid]': props.uuid}, url: server+'/uploads' } }\n  \n  // called every time a file's `status` changes\n  const handleChangeStatus = ({ meta, file }, status) => { console.log(status, meta, file) }\n  \n  // receives array of files that are done uploading when submit button is clicked\n  const handleSubmit = (files, allFiles) => {\n    console.log(files.map(f => f.meta))\n    allFiles.forEach(f => f.remove())\n  }\n\n  return (\n    <Card>\n      <CardHeader>{dict.attachment}</CardHeader>\n      <CardContent>\n    <Dropzone\n      getUploadParams={getUploadParams}\n      onChangeStatus={handleChangeStatus}\n      onSubmit={handleSubmit}\n      autoUpload={true}\n      submitButtonDisabled={true}\n      inputContent={dict.drag_or_browse}\n    />\n    </CardContent>\n    </Card>\n  )\n}\n\nexport default UploadForm;\n","import React from \"react\";\nimport { List, BlockTitle, ListInput, Link, CardFooter, Button, Card, CardHeader, Col } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport crypto from 'crypto-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport { EditorState, convertFromRaw } from \"draft-js\";\nimport UploadForm from \"../uploads/form\"\nimport fa from '../../js/fa.js';\n\nconst ReportForm = (props) => {\n\n  function deleteButton() {\n    if (props.editing) {\n      return (\n        <Col>\n          <Button className=\"col btn ml-5\" outline color='red' disabled={!props.editing} onClick={() => props.deleteReportConfirm()}>{dict.delete}</Button>\n        </Col>\n      )\n    }\n  }\n\n  function attachments() {\n    if (props.previous_attachments) {\n      return (\n        <React.Fragment>\n          <BlockTitle>{dict.previous_attachments}</BlockTitle>\n          <List>\n            {props.attachments.map((attachment) =>\n              <li className=\"\">\n                <div className=\"item-content\">\n                  <div className=\"item-inner\">\n                    <div className=\"item-title\">\n                      <a className=\"link\" onClick={() => props.removeAttachment(attachment.id)}>\n                        <i className=\"fa ml-5 fa-trash\" aria-hidden=\"true\"></i>\n                        {attachment.filename}\n                      </a>\n                    </div>\n                  </div>\n                </div>\n              </li>\n            )}\n          </List>\n        </React.Fragment>\n      )\n    }\n  }\n  if (props.report) {\n    return (\n      <React.Fragment>\n        <Card>\n          <CardHeader>{dict.new_report}</CardHeader>\n          <List >\n            <ListInput\n              label={dict.title + '*'}\n              type=\"text\"\n              placeholder='...'\n              maxlength='65'\n              defaultValue={props.title}\n              onInput={(e) => {\n                props.handleChange({ title: e.target.value })\n              }}\n            />\n            <Editor\n              editorState={props.editorState}\n              placeholder={dict.content}\n              localization={{\n                locale: 'fa',\n                translations: fa\n              }}\n              toolbar={{\n                options: ['inline', 'list', 'link'],\n                inline: { options: ['bold', 'italic', 'underline'] },\n                image: {\n                  uploadCallback: props.uploadImageCallBack,\n                  previewImage: true,\n                },\n              }}\n              onEditorStateChange={props.onEditorStateChange}\n            />\n          </List>\n\n          <CardFooter>\n          {deleteButton()}\n            <Link></Link>\n            <Link className=\"btn-notice\"></Link>\n            <Button className=\"col btn\" fill onClick={(e) => props.submit(e)} >{dict.submit}</Button>\n          </CardFooter>\n        </Card>\n        <UploadForm uploadableType='Report' uuid={props.uuid} />\n\n\n\n      </React.Fragment>\n    )\n  } else {\n    return (null)\n  }\n}\nexport default ReportForm;\n","import { conf } from '../../conf';\nexport function uploadImageCallBack(file) {\n  return new Promise(\n    (resolve, reject) => {\n      const xhr = new XMLHttpRequest(); // eslint-disable-line no-undef\n      xhr.open('POST', conf.server+'/uploads');\n      xhr.setRequestHeader('Authorization', 'Client-ID 8d26ccd12712fca');\n      const data = new FormData(); // eslint-disable-line no-undef\n      data.append('upload[image]', file);\n      xhr.send(data);\n      xhr.addEventListener('load', () => {\n        const response = JSON.parse(xhr.responseText);\n        resolve(response);\n      });\n      xhr.addEventListener('error', () => {\n        const error = JSON.parse(xhr.responseText);\n        reject(error);\n      });\n    },\n  );\n}\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon\n} from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport ReportForm from \"../../containers/reports/form\"\nimport Framework7 from 'framework7/framework7.esm.bundle';\nimport { EditorState, convertFromRaw, convertToRaw } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport { uploadImageCallBack } from \"./uploader.js\";\nimport crypto from 'crypto-js';\n\nexport default class ReportCreate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.onEditorStateChange = this.onEditorStateChange.bind(this)\n    this.getList = this.getList.bind(this)\n    this.uploadImageCallBack = uploadImageCallBack.bind(this);\n\n\n    this.state = {\n      report: {},\n      editorState: EditorState.createEmpty(),\n      token: window.localStorage.getItem('token'),\n      title: null,\n      interaction: null,\n      uuid: crypto.enc.Base64.stringify(crypto.lib.WordArray.random(128/8)),\n      page: 0\n    }\n  }\n\n\n  componentWillMount() {\n    ModelStore.on(\"set_instance\", this.setInstance);\n    ModelStore.on(\"got_list\", this.getList);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n    ModelStore.removeListener(\"got_list\", this.getList);\n  }\n\n\n\n  submit() {\n    this.$$('.btn').hide();\n    this.$$('.btn-notice').text(dict.submitting);\n    \n  //  this.$$()\n    const blocks = convertToRaw(this.state.editorState.getCurrentContent()).blocks;\n    const value = blocks.map(block => (!block.text.trim() && '\\n') || block.text).join('\\n');\n    var taskId = null\n    var workId = null\n    if (this.$f7route.params['callerType'] == 'tasks'){\n      taskId = this.$f7route.params['callerId']\n    }\n    if (this.$f7route.params['callerType'] == 'works'){\n      workId = this.$f7route.params['callerId']\n    }\n    var data = { task_id: taskId, work_id: workId, uuid: this.state.uuid, title: this.state.title, content: value, draft: convertToRaw(this.state.editorState.getCurrentContent()) }\n    if (this.state.title) {\n      MyActions.setInstance('reports', data, this.state.token);\n    } else {\n      const self = this;\n      self.$f7.dialog.alert(dict.incomplete_data, dict.alert);\n    }\n  }\n\n  onEditorStateChange(editorState) {\n    this.setState({\n      editorState,\n    });\n  };\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  loadData() {\n    \n  }\n\n  componentDidUpdate(prev, prevstate) {\n  }\n\n  getList() {\n\n  }\n\n  setInstance() {\n    var report = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (report && klass === 'Report') { \n      this.$$('.btn').show();\n      this.$f7router.navigate('/reports/'+ report.id);\n    }\n    \n  }\n\n\n\n\n\n  render() {\n    const { report, editorState, uuid } = this.state;\n    return (\n      <Page>\n        <Navbar title={dict.report_form}  backLink={dict.back} />\n        <ReportForm report={report} uuid={uuid} editorState={editorState} onEditorStateChange={this.onEditorStateChange} submit={this.submit} handleChange={this.handleChangeValue} uploadImageCallBack={this.uploadImageCallBack} />\n      </Page>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon\n} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport ReportForm from \"../../containers/reports/form\"\nimport Framework7 from 'framework7/framework7.esm.bundle';\nimport { EditorState, convertFromRaw, convertToRaw } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport {uploadImageCallBack} from \"./uploader.js\"\nimport crypto from 'crypto-js';\n\nexport default class ReportUpdate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.onEditorStateChange = this.onEditorStateChange.bind(this)\n    this.getList = this.getList.bind(this)\n    this.removeAttachment = this.removeAttachment.bind(this);\n    this.deleteInstance = this.deleteInstance.bind(this);\n    this.deleteReportConfirm = this.deleteReportConfirm.bind(this);\n    this.deleteReport = this.deleteReport.bind(this);\n    \n    \n\n    this.state = {\n      report: null,\n      editorState: EditorState.createEmpty(),\n      token: window.localStorage.getItem('token'),\n      uuid: crypto.enc.Base64.stringify(crypto.lib.WordArray.random(128/8)),\n      id: null,\n      title: null,\n      draft: null,\n      taskId:  null,\n      workId: null,\n      page: 0\n    }\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n    ModelStore.on(\"set_instance\", this.setInstance);\n    ModelStore.on(\"got_list\", this.getList);\n    ModelStore.on(\"deleted_instance\", this.deleteInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n    ModelStore.removeListener(\"got_list\", this.getList);\n    ModelStore.removeListener(\"deleted_instance\", this.deleteInstance);\n  }\n\n  submit(){\n    const blocks = convertToRaw(this.state.editorState.getCurrentContent()).blocks;\n    const value = blocks.map(block => (!block.text.trim() && '\\n') || block.text).join('\\n');\n    var taskId = null\n    var workId = null\n    if (this.state.task){\n      taskId = this.state.task.id\n    }\n    if (this.state.work){\n      workId = this.state.work.id\n    }\n    var data = {\n      id: this.state.id, task_id: taskId, work_id: workId, \n      uuid: this.state.uuid, title: this.state.title, content: value, \n      draft: convertToRaw(this.state.editorState.getCurrentContent()) \n    }\n    MyActions.updateInstance('reports', data, this.state.token);\n  }\n\n  componentDidMount(){\n    this.loadData();\n  }\n\n  loadData(){\n    const f7: Framework7 = Framework7.instance;\n    f7.toast.show({ text: dict.receiving, closeTimeout: 2000, position: 'top'});\n    if (this.$f7route.params['reportId']) {\n      MyActions.getInstance('reports', this.$f7route.params['reportId'], this.state.token);\n    }\n  }\n\n  getList() {\n\n  }\n\n  getInstance(){\n    var report = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (report && klass === 'Report') { \n      const contentState = convertFromRaw(report.draft);\n      const editorState = EditorState.createWithContent(contentState);\n      this.setState({\n        report: report,\n        title: report.title,\n        id: report.id,\n        task: report.the_task,\n        work: report.the_work,\n        attachments: report.attachments,\n        editorState: editorState\n      });\n    }\n    console.log(report);\n  }\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  onEditorStateChange(editorState){\n      this.setState({\n      editorState,\n    });\n  };\n\n  removeAttachment(id){\n    this.setState({\n      attachments: this.state.attachments.filter(function (attachment) {\n        return attachment.id !== id\n      })\n    });\n    var data = { id: id }\n    MyActions.removeInstance('uploads', data, this.state.token, this.state.page);\n  }\n\n\n  setInstance() {\n    var report = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (report && klass === 'Report') { \n      this.$f7router.navigate('/reports/'+ report.id);\n    }\n    \n  }\n\n\n  deleteReportConfirm(){\n    const self = this;\n    const app = self.$f7;\n    app.dialog.confirm(dict.are_you_sure, dict.alert, self.deleteReport)\n  }\n\n  deleteReport(){\n    var data = { id: this.state.id}\n    MyActions.removeInstance('reports', data, this.state.token);\n  }\n\n  deleteInstance() {\n    if (this.state.task){\n      this.$f7router.navigate('/tasks/'+this.state.task.id);\n    }\n    if (this.state.work){\n      this.$f7router.navigate('/works/'+this.state.work.id);\n    }\n   \n  }\n\n\n\n\n  render() {\n    const { report, editorState, uuid, title, attachments} = this.state;\n    return (\n      <Page>\n        <Navbar title={dict.report} backLink={dict.back} />\n        <BlockTitle>{dict.workflow_form}</BlockTitle>\n        <ReportForm \n        report={report} attachments={attachments} title={title} \n        uuid={uuid} editorState={editorState} editing={true} deleteReportConfirm={this.deleteReportConfirm}\n        onEditorStateChange={this.onEditorStateChange} submit={this.submit}  \n        handleChange={this.handleChangeValue} removeAttachment={this.removeAttachment}/>\n      </Page>\n    );\n  }\n}\n","import React from \"react\";\nimport { Page, Navbar, List, BlockTitle, ListItem, Fab, Icon,Preloader, Block} from 'framework7-react';\nimport { dict} from '../../Dict';\n\n\nconst GroupShow = (props) => {\n  if (props.group){\n    return(\n      <React.Fragment>\n        <BlockTitle>{dict.title}</BlockTitle>\n        <List simple-list>\n          <ListItem>{props.group.title}</ListItem>\n        </List>\n\n        <List className='fs-11'>\n        {props.group.the_grouping.map((item) =>\n          <ListItem\n            key={'involvement' + item.profile.id}\n            title={item.profile.fullname}\n            after=''>\n            <img slot=\"media\" src={item.profile.avatar} width=\"27\" height=\"27\" />\n          </ListItem>\n        )}\n      </List>\n\n      </React.Fragment>\n    )\n  } else {\n    return(null)\n  }\n}\nexport default GroupShow;\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon, Fab\n} from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport GroupShow from \"../../containers/groups/show\"\n\nexport default class Layout extends Component {\n  constructor() {\n    super();\n    this.getInstance = this.getInstance.bind(this);\n    this.submit = this.submit.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n\n\n    \n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      group: null,\n      id: null,\n      user_id: null,\n    }\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n    ModelStore.on(\"set_instance\", this.getInstance);\n    ModelStore.on(\"deleted_instance\", this.getInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n    ModelStore.removeListener(\"set_instance\", this.getInstance);\n    ModelStore.removeListener(\"deleted_instance\", this.getInstance);\n  }\n\n  componentDidMount() {\n    MyActions.getInstance('groups', this.$f7route.params['groupId'], this.state.token);\n  }\n\n  getInstance() {\n    var group = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (group && klass === 'Group') {\n      this.setState({\n        group: group,\n        id: group.id,\n      });\n    }\n    this.$$('.btn').show();\n  }\n\n\n  submit() {\n    this.$$('.btn').hide();\n    this.$$('.btn-notice').text(dict.submitting);\n    var data = { group_id: this.state.id, user_id: this.state.user_id }\n    MyActions.setInstance('users/assignments', data, this.state.token);\n  }\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  fab() {\n    if (this.state.group) {\n      return (\n        <Fab href={\"/groups/\" + this.state.group.id + \"/edit\"} target=\"#main-view\" position=\"left-bottom\" slot=\"fixed\" color=\"lime\">\n          <Icon ios=\"f7:edit\" aurora=\"f7:edit\" md=\"material:edit\"></Icon>\n          <Icon ios=\"f7:close\" aurora=\"f7:close\" md=\"material:close\"></Icon>\n        </Fab>\n      )\n    }\n  }\n\n\n  render() {\n    const { group } = this.state;\n    return (\n      <Page>\n        <Navbar title={dict.groups} backLink={dict.back} />\n        <BlockTitle></BlockTitle>\n        {this.fab()}\n        <GroupShow \n          group={group}  submit={this.submit} \n          handleChange={this.handleChangeValue}\n        />\n      </Page>\n    );\n  }\n}\n","import React from \"react\";\nimport { List, ListItem} from 'framework7-react';\nimport crypto from 'crypto-js';\n\nconst GroupList = (props) => {\n\n  if (props.groups) {\n    return (\n      <List mediaList>\n        {props.groups.map((group) =>\n          <ListItem\n            key={crypto.lib.WordArray.random(32)}\n            link={\"/groups/\" + group.id}\n            ignoreCache={true}\n            title={group.title}\n            after=\"\"\n            subtitle=\"\"\n            text=\"\"\n            ></ListItem>\n        )}\n      </List>\n    )} else {\n      return (<ul></ul>)\n    }\n  }\n  export default GroupList;\n","import React from \"react\";\nimport { Page, Navbar, List, BlockTitle, ListItem, Fab, Icon,Preloader, Block} from 'framework7-react';\nimport GroupList from \"./list\"\nimport { dict} from '../../Dict';\n\nconst GroupIndex = (props) => {\n  return(\n    <Page>\n      <Navbar title={dict.groups} backLink={dict.back} >\n      </Navbar>\n      <BlockTitle>{dict.list}</BlockTitle>\n      <Fab href=\"/groups/new\" target=\"#main-view\"  position=\"left-bottom\" slot=\"fixed\" color=\"deeporange\">\n        <Icon ios=\"f7:add\" aurora=\"f7:add\" md=\"material:add\"></Icon>\n        <Icon ios=\"f7:close\" aurora=\"f7:close\" md=\"material:close\"></Icon>\n      </Fab>\n      <GroupList groups={props.groups}/>\n    </Page>\n  )\n}\nexport default GroupIndex;\n","import React from \"react\"\nimport { Page,Fab, Icon } from 'framework7-react';\nimport ModelStore from \"../../stores/ModelStore\";\nimport GroupIndex from \"../../containers/groups/index\"\nimport * as MyActions from \"../../actions/MyActions\";\nimport { dict} from '../../Dict';\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\n\nexport default class Layout extends React.Component {\n  constructor() {\n    super();\n    this.getList = this.getList.bind(this);\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      groups: null,\n    }\n  }\n  componentWillMount() {\n    ModelStore.on(\"got_list\", this.getList);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_list\", this.getList);\n  }\n\n  componentDidMount(){\n    this.loadData();\n  }\n\n  loadData(){\n    const f7: Framework7 = Framework7.instance;\n    f7.toast.show({ text: dict.receiving, closeTimeout: 2000, position: 'top'});\n    MyActions.getList('groups', this.state.page, {}, this.state.token);\n  }\n\n  getList() {\n    var groups = ModelStore.getList()\n    var klass = ModelStore.getKlass()\n    if (groups && klass === 'Group'){\n      this.setState({\n        groups: groups,\n      });\n    }\n  }\n\n  render() {\n    const {groups} = this.state;\n    return(<GroupIndex groups={groups}/>)\n  }\n}\n","import React from \"react\";\nimport { List, ListItem, ListInput, Block, Row, Button, BlockTitle, Chip, Link } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport crypto from 'crypto-js';\n\n\nconst GroupForm = (props) => {\n  console.log(props)\n  function groupings() {\n    var chips = [\n      <div>\n        <a className='fs-11 ' href=\"#\" id='time-sheet-grouping'>\n          <div className=\"item-title fs-11\">\n            <i className=\"va-minus-2 ml-5 fa fa-user-plus\"></i>\n            {dict.profiles}:\n        </div>\n        </a>\n      </div>\n    ]\n    if (props.grouping) {\n      props.grouping.map((profile) => {\n        chips.push(<Chip text={profile.fullname} deleteable onClick={() => props.removeGrouping(profile.id)} />)\n      }\n      )\n    }\n    return chips\n  }\n  return (\n    <React.Fragment>\n      <BlockTitle>{dict.group}</BlockTitle>\n      <List >\n        <ListInput\n          label={dict.title}\n          type=\"text\"\n          placeholder='...'\n          defaultValue={props.title}\n          onInput={(e) => {\n            props.handleChange({ title: e.target.value })\n          }}\n        />\n        <ListItem title={groupings()}></ListItem>\n      </List>\n      \n\n      <Block strong>\n        <Row tag=\"p\">\n        <Link className=\"btn-notice\"></Link>\n          <Button className=\"col btn\" fill disabled={!props.editing} onClick={props.submit}>{dict.submit}</Button>\n        </Row>\n      </Block>\n    </React.Fragment>\n  )}\nexport default GroupForm;\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon\n} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport GroupForm from \"../../containers/groups/form\"\nimport Framework7 from 'framework7/framework7.esm.bundle';\nimport { conf } from '../../conf';\n\nexport default class GroupCreate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.loadGrouping = this.loadGrouping.bind(this);\n    this.removeGrouping = this.removeGrouping.bind(this);\n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      group: {},\n      grouping: [],\n    }\n  }\n\n\n  componentWillMount() {\n    ModelStore.on(\"set_instance\", this.setInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n  }\n\n  submit(){\n    var data = {title: this.state.title, grouping: this.state.grouping}\n    MyActions.setInstance('groups', data, this.state.token);\n  }\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  setInstance(){\n    const self = this;\n    this.$f7router.navigate('/groups/');\n  }\n\n  removeGrouping(id){\n    this.setState({\n      grouping: this.state.grouping.filter(function (profile) {\n        return profile.id !== id\n      })\n    });\n  }\n\n  pageAfterIn() {\n    this.loadGrouping();\n  }\n\n\n  loadGrouping() {\n    const self = this;\n    const app = self.$f7;\n    app.autocomplete.create({\n      openIn: 'popup', //open in page\n      openerEl: '#time-sheet-grouping', //link that opens autocomplete\n      multiple: true, //allow multiple values\n      valueProperty: 'id', //object's \"value\" property name\n      textProperty: 'fullname', //object's \"text\" property name\n      searchbarDisableText: dict.cancel,\n      popupCloseLinkText: dict.close,\n      notFoundText: dict.not_found,\n      limit: 50,\n      searchbarPlaceholder: dict.search,\n      //preloader: true, //enable preloader\n      source: function (query, render) {\n        var autocomplete = this;\n        var results = [];\n        if (query.length === 0) {\n          render(results);\n          return;\n        }\n        // Show Preloader\n       // autocomplete.preloaderShow();\n        // Do Ajax request to Autocomplete data\n        app.request({\n          url: conf.server + '/profiles/search',\n          method: 'GET',\n          dataType: 'json',\n          //send \"query\" to server. Useful in case you generate response dynamically\n          data: {\n            q: query\n          },\n          success: function (item) {\n            // Find matched items\n            for (var i = 0; i < item.data.length; i++) {\n               results.push(item.data[i]);\n            }\n            // Hide Preoloader\n            //autocomplete.preloaderHide();\n            // Render items by passing array with result items\n            render(results);\n          }\n        });\n      },\n      on: {\n        change: function (value) {\n          if (value && value[value.length - 1]) {\n            self.setState({ grouping: self.state.grouping.concat({ fullname: value[value.length - 1].fullname, id: value[value.length - 1].id }) })\n          }\n        },\n      },\n    });\n  }\n\n\n\n  render() {\n    const {group, grouping} = this.state;\n    return (\n      <Page onPageAfterIn={this.pageAfterIn.bind(this)}>\n        <Navbar title={dict.group_form} backLink={dict.back} />\n        <BlockTitle>{dict.group_form}</BlockTitle>\n        <GroupForm \n        group={group} submit={this.submit} editing={true} grouping={grouping}\n        handleChange={this.handleChangeValue} removeGrouping={this.removeGrouping}\n        \n        />\n      </Page>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  List,\n  ListItem,\n  ListInput,\n  Toggle,\n  BlockTitle,\n  Row,\n  Button,\n  Range,\n  Block,\n  Icon\n} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport GroupForm from \"../../containers/groups/form\"\nimport Framework7 from 'framework7/framework7.esm.bundle';\nimport { conf } from '../../conf';\n\nexport default class GroupCreate extends Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.loadGrouping = this.loadGrouping.bind(this);\n    this.removeGrouping = this.removeGrouping.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      group: {},\n      title: null,\n      id: null,\n      grouping: [],\n    }\n  }\n\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n    ModelStore.on(\"set_instance\", this.setInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n  }\n\n  componentDidMount() {\n    MyActions.getInstance('groups', this.$f7route.params['groupId'], this.state.token);\n  }\n\n  submit(){\n    var data = {id: this.state.id, title: this.state.title, grouping: this.state.grouping}\n    MyActions.updateInstance('groups', data, this.state.token);\n  }\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  setInstance(){\n    const self = this;\n    this.$f7router.navigate('/groups/');\n  }\n\n  removeGrouping(id){\n    this.setState({\n      grouping: this.state.grouping.filter(function (profile) {\n        return profile.id !== id\n      })\n    });\n  }\n\n  pageAfterIn() {\n    this.loadGrouping();\n  }\n\n  getInstance() {\n    var group = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (group && klass === 'Group') {\n      this.setState({\n        group: group,\n        id: group.id,\n        title: group.title,\n        grouping: group.tag_grouping\n      });\n    }\n  }\n\n\n  loadGrouping() {\n    const self = this;\n    const app = self.$f7;\n    app.autocomplete.create({\n      openIn: 'popup', //open in page\n      openerEl: '#time-sheet-grouping', //link that opens autocomplete\n      multiple: true, //allow multiple values\n      valueProperty: 'id', //object's \"value\" property name\n      textProperty: 'fullname', //object's \"text\" property name\n      searchbarDisableText: dict.cancel,\n      popupCloseLinkText: dict.close,\n      notFoundText: dict.not_found,\n      limit: 50,\n      searchbarPlaceholder: dict.search,\n      //preloader: true, //enable preloader\n      source: function (query, render) {\n        var autocomplete = this;\n        var results = [];\n        if (query.length === 0) {\n          render(results);\n          return;\n        }\n        // Show Preloader\n       // autocomplete.preloaderShow();\n        // Do Ajax request to Autocomplete data\n        app.request({\n          url: conf.server + '/profiles/search',\n          method: 'GET',\n          dataType: 'json',\n          //send \"query\" to server. Useful in case you generate response dynamically\n          data: {\n            q: query\n          },\n          success: function (item) {\n            // Find matched items\n            for (var i = 0; i < item.data.length; i++) {\n               results.push(item.data[i]);\n            }\n            // Hide Preoloader\n            //autocomplete.preloaderHide();\n            // Render items by passing array with result items\n            render(results);\n          }\n        });\n      },\n      on: {\n        change: function (value) {\n          if (value && value[value.length - 1]) {\n            self.setState({ grouping: self.state.grouping.concat({ fullname: value[value.length - 1].fullname, id: value[value.length - 1].id }) })\n          }\n        },\n      },\n    });\n  }\n\n\n\n  render() {\n    const {group, grouping, title, id} = this.state;\n    return (\n      <Page onPageAfterIn={this.pageAfterIn.bind(this)}>\n        <Navbar title={dict.group_form} backLink={dict.back} />\n        <BlockTitle>{dict.group_form}</BlockTitle>\n        <GroupForm \n        group={group} submit={this.submit} editing={true} grouping={grouping}\n        id={id} title={title}\n        handleChange={this.handleChangeValue} removeGrouping={this.removeGrouping}\n        \n        />\n      </Page>\n    );\n  }\n}\n","import React from \"react\";\nimport { List, ListItem} from 'framework7-react';\nimport crypto from 'crypto-js';\n\nconst SurveillanceList = (props) => {\n\n  if (props.surveillances) {\n    return (\n      <List mediaList>\n        {props.surveillances.map((surveillance) =>\n          <ListItem>\n            <video autoPlay controls playsInline loop src={surveillance.link} width='640'></video>\n          </ListItem>\n        )}\n      </List>\n    )} else {\n      return (<ul></ul>)\n    }\n  }\n  export default SurveillanceList;\n","import React from \"react\";\nimport { Page, Navbar, List, BlockTitle, Row, Col, Icon, Preloader, Block, Button } from 'framework7-react';\nimport SurveillanceList from \"./list\"\nimport { dict } from '../../Dict';\n\nconst SurveillanceIndex = (props) => {\n  function stopBtn() {\n    if (props.stream && props.stream.getVideoTracks()[0]) {\n      props.stream.getVideoTracks()[0].stop()\n      props.stopRecording()\n    }\n  }\n  return (\n    <Page>\n      <Navbar title={dict.surveillances} backLink={dict.back} >\n      </Navbar>\n      <Block>\n        <Row>\n          <Col width=\"25\" className='ml-4'>\n            <Button fill onClick={props.startRecording}>\n              <i class=\"fa fa-play ml-4\" aria-hidden=\"true\"></i>\n              {dict.start}\n            </Button>\n          </Col>\n          <Col width=\"25\">\n            <Button fill onClick={() => stopBtn()}>\n              <i class=\"fa fa-stop ml-4\" aria-hidden=\"true\"></i>\n              {dict.stop}\n            </Button>\n          </Col>\n          <Col width=\"25\">\n            <Button fill onClick={props.uploadFromDb}>\n              <i class=\"fa fa-up ml-4\" aria-hidden=\"true\"></i>\n              {dict.stop}\n            </Button>\n          </Col>\n          <Col width=\"25\">\n\n          </Col>\n        </Row>\n        <video autoPlay playsInline loop src={props.videoSrc} width='640'></video>\n      </Block>\n      <BlockTitle>{dict.list}</BlockTitle>\n      <SurveillanceList surveillances={props.surveillances} />\n    </Page>\n  )\n}\nexport default SurveillanceIndex;\n","import React from \"react\"\nimport { Page, Fab, Icon } from 'framework7-react';\nimport ModelStore from \"../../stores/ModelStore\";\nimport SurveillanceIndex from \"../../containers/surveillances/index\"\nimport * as MyActions from \"../../actions/MyActions\";\nimport { dict } from '../../Dict';\nimport Framework7 from 'framework7/framework7.esm.bundle';\nimport crypto from 'crypto-js';\n//import ConcatenateBlobs  from 'concatenateblobs';\n\nexport default class Layout extends React.Component {\n  constructor() {\n    super();\n    this.getList = this.getList.bind(this);\n    this.startRecording = this.startRecording.bind(this);\n    this.addScreenCastDb = this.addScreenCastDb.bind(this);\n    this.uploadFromDb = this.uploadFromDb.bind(this);\n    this.stopRecording = this.stopRecording.bind(this);\n    \n    this.state = {\n      token: window.localStorage.getItem('token'),\n      surveillances: null,\n      chunks: [],\n      stream: null,\n      recorder: null,\n      videoSrc: null,\n      startTime: null,\n      endTime: null,\n      db: null,\n      sessionId: null\n    }\n  }\n  componentWillMount() {\n    ModelStore.on(\"got_list\", this.getList);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_list\", this.getList);\n  }\n\n  componentDidMount() {\n    //this.loadData();\n  }\n\n  loadData() {\n    const f7: Framework7 = Framework7.instance;\n    f7.toast.show({ text: dict.receiving, closeTimeout: 2000, position: 'top' });\n    MyActions.getList('surveillances', this.state.page, {}, this.state.token);\n  }\n\n  stopRecording() {\n    clearInterval(window.intervalHandle);\n  }\n\n  async startRecording() {\n    var self = this;\n    var supportedConstraints = navigator.mediaDevices.getSupportedConstraints();\n    console.log(supportedConstraints);\n    this.setState({ sessionId: crypto.lib.WordArray.random(32) })\n    \n\n    var stream = await navigator.mediaDevices.getDisplayMedia({\n      video: { mediaSource: \"screen\", frameRate: 6, width: 768, height: 480 },\n    })\n    this.setState({ stream: stream })\n    this.setState({ startTime: new Date() })\n    var recorder = new MediaRecorder(stream);\n    var self = this;\n    var chunks = [];\n    window.intervalHandle = null;\n    window.intervalHandle = setInterval(function () {\n      if (recorder.state !== 'inactive') {\n        recorder.stop();\n      }\n      setTimeout(function () {\n        try {\n          recorder.start();\n        }\n        catch (err) { }\n      }, 2000);\n    }, 3000);\n\n    stream.getVideoTracks()[0].onended = function(event) { \n      clearInterval(window.intervalHandle);\n    }\n\n\n    recorder.ondataavailable = (e) => {\n      chunks.push(e.data);\n    };\n\n    recorder.onpause = (e) => {\n      //console.log(chunks);\n      console.log(e.data);\n    };\n\n    recorder.onstop = (e) => {\n      //this.setState({ endTime: new Date() })\n      const completeBlob = new Blob(chunks, { type: chunks[0].type });\n      //this.setState({ videoSrc: URL.createObjectURL(completeBlob) });\n     // var data = [{ label: 'file', value: completeBlob }, { label: 'surveillance[start_time]', value: crypto.lib.WordArray.random(32) }]\n      //MyActions.generalFilePost('surveillances', data, this.state.token)\n      this.addScreenCastDb(completeBlob, self.state.sessionId)\n      // var data = [{ label: 'file', value: completeBlob }, { label: 'surveillance[start_time]', value: crypto.lib.WordArray.random(32) }]\n      // MyActions.generalFilePost('surveillances', data, this.state.token)\n      //video.src = URL.createObjectURL(completeBlob);\n    };\n  }\n\n\n\n  addScreenCastDb(blob, sessionId) {\n    // IndexedDB\n    var indexedDB = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.OIndexedDB || window.msIndexedDB,\n      IDBTransaction = window.IDBTransaction || window.webkitIDBTransaction || window.OIDBTransaction || window.msIDBTransaction,\n      dbVersion = 3;\n\n    // Create/open database\n    var request = indexedDB.open(\"screenCastFiles\", dbVersion);\n\n    request.onsuccess = function (event) {\n      console.log(\"Success creating/accessing IndexedDB database\");\n      var db = request.result;\n\n      db.onerror = function (event) {\n        console.log(\"Error creating/accessing IndexedDB database\");\n      };\n\n      var transaction = db.transaction([\"screenCastFiles\"], \"readwrite\");\n      console.log('added')\n      transaction.objectStore(\"screenCastFiles\").put({blob: blob, sessionId: sessionId} );\n    }\n\n    request.onupgradeneeded = function (event) {\n      var db = event.target.result;\n      console.log(\"running onupgradeneeded\");\n      if (!db.objectStoreNames.contains(\"screenCastFiles\")) {\n        console.log(\"I need to make the screenCast objectstore\");\n        db.createObjectStore(\"screenCastFiles\", { autoIncrement : true });\n      }\n    }\n  }\n\n  uploadFromDb() {\n    var self = this;\n    console.log('Started')\n    var indexedDB = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.OIndexedDB || window.msIndexedDB,\n      IDBTransaction = window.IDBTransaction || window.webkitIDBTransaction || window.OIDBTransaction || window.msIDBTransaction,\n      dbVersion = 2;\n\n    // Create/open database\n    var request = indexedDB.open(\"screenCastFiles\", dbVersion);\n    request.onsuccess = function (event) {\n      console.log(\"Success creating/accessing IndexedDB database\");\n      var db = request.result;\n\n      db.onerror = function (event) {\n        console.log(\"Error creating/accessing IndexedDB database\");\n      };\n      // db.createObjectStore(\"screenCast\");\n      var transaction = db.transaction([\"screenCast\"], \"readwrite\");\n      var parts = []\n      transaction.objectStore(\"screenCast\").getAll().onsuccess = function (event) {\n        console.log(event.target.result);\n        window.ConcatenateBlobs(event.target.result, \"video/x-matroska;codecs=avc1\", function (resultingBlob) {\n          //const completeBlob = new Blob(parts, { type: \"video/x-matroska;codecs=avc1\" });\n          console.log(resultingBlob)\n          self.setState({ videoSrc: URL.createObjectURL(resultingBlob) })\n        }\n        );\n\n      }\n    }\n  }\n\n\n  getList() {\n    var surveillances = ModelStore.getList()\n    var klass = ModelStore.getKlass()\n    if (surveillances && klass === 'Surveillance') {\n      this.setState({\n        surveillances: surveillances,\n      });\n    }\n  }\n\n  render() {\n    const { surveillances, stream, videoSrc } = this.state;\n    return (<SurveillanceIndex\n      videoSrc={videoSrc}\n      stream={stream}\n      surveillances={surveillances}\n      uploadFromDb={this.uploadFromDb}\n      stopRecording={this.stopRecording}\n      startRecording={this.startRecording} />)\n  }\n}\n","import React from \"react\";\nimport { List, ListItem, Toggle, Block, Row, Button, Chip, Col } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport crypto from 'crypto-js';\n\n\nconst SettingForm = (props) => {\n  if (true) {\n    function setting(item) {\n      if (props.notification_setting && props.notification_setting[item]) {\n        return (true)\n      } else {\n        if (props.notification_setting && props.notification_setting[item] == false) {\n          return (false)\n        } else {\n          return (false)\n        }\n      }\n    }\n\n    function blockList() {\n      var chips = [\n        <div>\n          <a className='fs-11 ' href=\"#\" id='user-blocklist'>\n            <div className=\"item-title fs-11\">\n              <i className=\"va-minus-2 ml-5 fa fa-user-plus\"></i>\n              {dict.profiles}:\n          </div>\n          </a>\n        </div>\n      ]\n      if (props.blockList) {\n        props.blockList.map((profile) => {\n          chips.push(<Chip text={profile.fullname} deleteable onClick={() => props.removeBlocked(profile.id)} />)\n        }\n        )\n      }\n      return chips\n    }\n\n    return (\n      <React.Fragment>\n        <List form className='fs-11'>\n          <ListItem>\n            <span >{dict.private}</span>\n            <Toggle className='pd-5' onChange={(e) => props.changeSetting(e, '')} />\n            <span className='pd-10 fs-8'>{dict.if_someone_adds_you_youll_be_asked}</span>\n          </ListItem>\n        </List>\n\n        <List>\n          <ListItem title={dict.blocked_list}></ListItem>\n          <ListItem title={blockList()}></ListItem>\n        </List>\n\n        <div className=\"data-table card\">\n          <table className='fs-11'>\n            <thead>\n              <tr>\n                <td>{dict.notification_type}</td>\n                <td>{dict.mail_notification}</td>\n                <td>{dict.push_notification}</td>\n                <td>{dict.sms}</td>\n              </tr>\n            </thead>\n            <tbody>\n              {}\n              <tr>\n                <td className='fs-11'>{dict.add_involvement_to_tasks}</td>\n                <td><Toggle className='pd-5' checked={setting('add_involvement_to_tasks_email')} onChange={(e) => props.changeSetting(e, 'add_involvement_to_tasks_email')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_involvement_to_tasks_push')} onChange={(e) => props.changeSetting(e, 'add_involvement_to_tasks_push')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_involvement_to_tasks_sms')} onChange={(e) => props.changeSetting(e, 'add_involvement_to_tasks_sms')} /></td>\n              </tr>\n              <tr>\n                <td className='fs-11'>{dict.remove_involvement_from_tasks}</td>\n                <td><Toggle className='pd-5' checked={setting('remove_involvement_from_tasks_email')} onChange={(e) => props.changeSetting(e, 'remove_involvement_from_tasks_email')} /></td>\n                <td><Toggle className='pd-5' checked={setting('remove_involvement_from_tasks_push')} onChange={(e) => props.changeSetting(e, 'remove_involvement_from_tasks_push')} /></td>\n                <td><Toggle className='pd-5' checked={setting('remove_involvement_from_tasks_sms')} onChange={(e) => props.changeSetting(e, 'remove_involvement_from_tasks_sms')} /></td>\n              </tr>\n              <tr>\n                <td className='fs-11'>{dict.change_status_tasks}</td>\n                <td><Toggle className='pd-5' checked={setting('change_status_tasks_email')} onChange={(e) => props.changeSetting(e, 'change_status_tasks_email')} /></td>\n                <td><Toggle className='pd-5' checked={setting('change_status_tasks_push')} onChange={(e) => props.changeSetting(e, 'change_status_tasks_push')} /></td>\n                <td><Toggle className='pd-5' checked={setting('change_status_tasks_sms')} onChange={(e) => props.changeSetting(e, 'change_status_tasks_sms')} /></td>\n              </tr>\n              <tr>\n                <td className='fs-11'>{dict.add_works_to_tasks}</td>\n                <td><Toggle className='pd-5' checked={setting('add_works_to_tasks_email')} onChange={(e) => props.changeSetting(e, 'add_works_to_tasks_email')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_works_to_tasks_push')} onChange={(e) => props.changeSetting(e, 'add_works_to_tasks_push')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_works_to_tasks_sms')} onChange={(e) => props.changeSetting(e, 'add_works_to_tasks_sms')} /></td>\n              </tr>\n              <tr>\n                <td className='fs-11'>{dict.add_reports_to_tasks}</td>\n                <td><Toggle className='pd-5' checked={setting('add_reports_to_tasks_email')} onChange={(e) => props.changeSetting(e, 'add_reports_to_tasks_email')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_reports_to_tasks_push')} onChange={(e) => props.changeSetting(e, 'add_reports_to_tasks_push')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_reports_to_tasks_sms')} onChange={(e) => props.changeSetting(e, 'add_reports_to_tasks_sms')} /></td>\n              </tr>\n              <tr>\n                <td className='fs-11'>{dict.add_comments_to_tasks}</td>\n                <td><Toggle className='pd-5' checked={setting('add_comments_to_tasks_email')} onChange={(e) => props.changeSetting(e, 'add_comments_to_tasks_email')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_comments_to_tasks_push')} onChange={(e) => props.changeSetting(e, 'add_comments_to_tasks_push')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_comments_to_tasks_sms')} onChange={(e) => props.changeSetting(e, 'add_comments_to_tasks_sms')} /></td>\n              </tr>\n              <tr>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n              </tr>\n              <tr>\n                <td className='fs-11'>{dict.add_involvement_to_works}</td>\n                <td><Toggle className='pd-5' checked={setting('add_involvement_to_works_email')} onChange={(e) => props.changeSetting(e, 'add_involvement_to_works_email')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_involvement_to_works_push')} onChange={(e) => props.changeSetting(e, 'add_involvement_to_works_push')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_involvement_to_works_sms')} onChange={(e) => props.changeSetting(e, 'add_involvement_to_works_sms')} /></td>\n              </tr>\n              <tr>\n                <td className='fs-11'>{dict.remove_involvement_from_works}</td>\n                <td><Toggle className='pd-5' checked={setting('remove_involvement_from_works_email')} onChange={(e) => props.changeSetting(e, 'remove_involvement_from_works_email')} /></td>\n                <td><Toggle className='pd-5' checked={setting('remove_involvement_from_works_push')} onChange={(e) => props.changeSetting(e, 'remove_involvement_from_works_push')} /></td>\n                <td><Toggle className='pd-5' checked={setting('remove_involvement_from_works_sms')} onChange={(e) => props.changeSetting(e, 'remove_involvement_from_works_sms')} /></td>\n              </tr>\n              <tr>\n                <td className='fs-11'>{dict.change_status_works}</td>\n                <td><Toggle className='pd-5' checked={setting('change_status_works_email')} onChange={(e) => props.changeSetting(e, 'change_status_works_email')} /></td>\n                <td><Toggle className='pd-5' checked={setting('change_status_works_push')} onChange={(e) => props.changeSetting(e, 'change_status_works_push')} /></td>\n                <td><Toggle className='pd-5' checked={setting('change_status_works_sms')} onChange={(e) => props.changeSetting(e, 'change_status_works_sms')} /></td>\n              </tr>\n              <tr>\n                <td className='fs-11'>{dict.add_todos_to_works}</td>\n                <td><Toggle className='pd-5' checked={setting('add_todos_to_works_email')} onChange={(e) => props.changeSetting(e, 'add_todos_to_works_email')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_todos_to_works_push')} onChange={(e) => props.changeSetting(e, 'add_todos_to_works_push')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_todos_to_works_sms')} onChange={(e) => props.changeSetting(e, 'add_todos_to_works_sms')} /></td>\n              </tr>\n              <tr>\n                <td className='fs-11'>{dict.add_reports_to_works}</td>\n                <td><Toggle className='pd-5' checked={setting('add_reports_to_works_email')} onChange={(e) => props.changeSetting(e, 'add_reports_to_works_email')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_reports_to_works_push')} onChange={(e) => props.changeSetting(e, 'add_reports_to_works_push')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_reports_to_works_sms')} onChange={(e) => props.changeSetting(e, 'add_reports_to_works_sms')} /></td>\n              </tr>\n              <tr>\n                <td className='fs-11'>{dict.add_comments_to_works}</td>\n                <td><Toggle className='pd-5' checked={setting('add_comments_to_works_email')} onChange={(e) => props.changeSetting(e, 'add_comments_to_works_email')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_comments_to_works_push')} onChange={(e) => props.changeSetting(e, 'add_comments_to_works_push')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_comments_to_works_sms')} onChange={(e) => props.changeSetting(e, 'add_comments_to_works_sms')} /></td>\n              </tr>\n              <tr>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n              </tr>\n              <tr>\n                <td className='fs-11'>{dict.add_comments_to_reports}</td>\n                <td><Toggle className='pd-5' checked={setting('add_comments_to_reports_email')} onChange={(e) => props.changeSetting(e, 'add_comments_to_reports_email')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_comments_to_reports_push')} onChange={(e) => props.changeSetting(e, 'add_comments_to_reports_push')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_comments_to_reports_sms')} onChange={(e) => props.changeSetting(e, 'add_comments_to_reports_sms')} /></td>\n              </tr>\n              <tr>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n              </tr>\n              <tr>\n                <td className='fs-11'>{dict.add_involvement_to_todos}</td>\n                <td><Toggle className='pd-5' checked={setting('add_involvement_to_todos_email')} onChange={(e) => props.changeSetting(e, 'add_involvement_to_todos_email')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_involvement_to_todos_push')} onChange={(e) => props.changeSetting(e, 'add_involvement_to_todos_push')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_involvement_to_todos_sms')} onChange={(e) => props.changeSetting(e, 'add_involvement_to_todos_sms')} /></td>\n              </tr>\n              <tr>\n                <td className='fs-11'>{dict.remove_involvement_from_todos}</td>\n                <td><Toggle className='pd-5' checked={setting('remove_involvement_from_todos_email')} onChange={(e) => props.changeSetting(e, 'remove_involvement_from_todos_email')} /></td>\n                <td><Toggle className='pd-5' checked={setting('remove_involvement_from_todos_push')} onChange={(e) => props.changeSetting(e, 'remove_involvement_from_todos_push')} /></td>\n                <td><Toggle className='pd-5' checked={setting('remove_involvement_from_todos_sms')} onChange={(e) => props.changeSetting(e, 'remove_involvement_from_todos_sms')} /></td>\n              </tr>\n              <tr>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n              </tr>\n              <tr>\n                <td className='fs-11'>{dict.add_involvement_to_time_sheets}</td>\n                <td><Toggle className='pd-5' checked={setting('add_involvement_to_time_sheets_email')} onChange={(e) => props.changeSetting(e, 'add_involvement_to_time_sheets_email')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_involvement_to_time_sheets_push')} onChange={(e) => props.changeSetting(e, 'add_involvement_to_time_sheets_push')} /></td>\n                <td><Toggle className='pd-5' checked={setting('add_involvement_to_time_sheets_sms')} onChange={(e) => props.changeSetting(e, 'add_involvement_to_time_sheets_sms')} /></td>\n              </tr>\n              <tr>\n                <td className='fs-11'>{dict.remove_involvement_from_timesheets}</td>\n                <td><Toggle className='pd-5' checked={setting('remove_involvement_from_timesheets_email')} onChange={(e) => props.changeSetting(e, 'remove_involvement_from_timesheets_email')} /></td>\n                <td><Toggle className='pd-5' checked={setting('remove_involvement_from_timesheets_push')} onChange={(e) => props.changeSetting(e, 'remove_involvement_from_timesheets_push')} /></td>\n                <td><Toggle className='pd-5' checked={setting('remove_involvement_from_timesheets_sms')} onChange={(e) => props.changeSetting(e, 'remove_involvement_from_timesheets_sms')} /></td>\n              </tr>\n\n            </tbody>\n          </table>\n        </div>\n\n\n\n      </React.Fragment>\n    )\n  } else {\n    return (null)\n  }\n\n}\nexport default SettingForm;\n","import React, { Component } from 'react';\nimport {\n  Page,\n  Navbar,\n  BlockTitle,\n} from 'framework7-react';\nimport { dict } from '../../Dict';\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport SettingForm from \"../../containers/settings/form\"\nimport Framework7 from 'framework7/framework7.esm.bundle';\nimport { conf } from '../../conf';\n\nexport default class SettingCreate extends Component {\n  constructor() {\n    super();\n\n    this.getInstance = this.getInstance.bind(this);\n    this.changeSetting = this.changeSetting.bind(this);\n    this.loadBlockList = this.loadBlockList.bind(this);\n    this.removeBlocked = this.removeBlocked.bind(this);\n    \n\n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      setting: {},\n      title: null,\n      id: null,\n      setting: null,\n      notification_setting: null,\n      blockList: []\n    }\n  }\n\n\n  componentWillMount() {\n    ModelStore.on(\"got_instance\", this.getInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_instance\", this.getInstance);\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  loadData() {\n    MyActions.getInstance('settings', 1, this.state.token);\n  }\n\n  pageAfterIn() {\n    this.loadBlockList();\n  }\n\n\n  loadBlockList() {\n    const self = this;\n    const app = self.$f7;\n    app.autocomplete.create({\n      openIn: 'popup', //open in page\n      openerEl: '#user-blocklist', //link that opens autocomplete\n      multiple: true, //allow multiple values\n      valueProperty: 'id', //object's \"value\" property name\n      textProperty: 'fullname', //object's \"text\" property name\n      searchbarDisableText: dict.cancel,\n      popupCloseLinkText: dict.close,\n      notFoundText: dict.not_found,\n      limit: 50,\n      searchbarPlaceholder: dict.search,\n      //preloader: true, //enable preloader\n      source: function (query, render) {\n        var autocomplete = this;\n        var results = [];\n        if (query.length === 0) {\n          render(results);\n          return;\n        }\n        // Show Preloader\n       // autocomplete.preloaderShow();\n        // Do Ajax request to Autocomplete data\n        app.request({\n          url: conf.server + '/profiles/search',\n          method: 'GET',\n          dataType: 'json',\n          //send \"query\" to server. Useful in case you generate response dynamically\n          data: {\n            q: query\n          },\n          success: function (item) {\n            // Find matched items\n            for (var i = 0; i < item.data.length; i++) {\n               results.push(item.data[i]);\n            }\n            // Hide Preoloader\n            //autocomplete.preloaderHide();\n            // Render items by passing array with result items\n            render(results);\n          }\n        });\n      },\n      on: {\n        change: function (value) {\n          if (value && value[value.length - 1]) {\n            self.setState({ blockList: self.state.blockList.concat({ fullname: value[value.length - 1].fullname, id: value[value.length - 1].id }) })\n            var data = {profile_id: value[value.length - 1].id }\n            MyActions.setInstance('settings/add_block', data, self.state.token)\n          }\n        },\n      },\n    });\n  }\n\n\n\n\n\n  getInstance() {\n    var setting = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (setting && klass === 'Setting') {\n      this.setState({\n        title: setting.title,\n        id: setting.id,\n        notification_setting: setting.notification_setting\n      });\n    } else {\n      this.setState({\n        notification_setting: []\n      });\n    }\n    \n  }\n\n  changeSetting(e, item) {\n    var data = { item: item }\n    if (e.target.checked) {\n      this.setState(prevState => {\n        let notification_setting = Object.assign({}, prevState.notification_setting);\n        notification_setting[item] = true;\n        return { notification_setting };\n      })\n      MyActions.setInstance('settings/add', data, this.state.token)\n    } else {\n      this.setState(prevState => {\n        let notification_setting = Object.assign({}, prevState.notification_setting);\n        notification_setting[item] = false;\n        return { notification_setting };\n      })\n      MyActions.setInstance('settings/remove', data, this.state.token);\n    }\n  }\n\n  removeBlocked(id){\n    this.setState({\n      blockList: this.state.blockList.filter(function (profile) {\n        return profile.id !== id\n      })\n    });\n    var data = {profile_id: id }\n    MyActions.setInstance('settings/remove_block', data, this.state.token)\n  }\n\n\n\n\n  render() {\n    const { notification_setting, title, blockList } = this.state;\n    return (\n      <Page onPageAfterIn={this.pageAfterIn.bind(this)}>\n        <Navbar title={dict.work_form} backLink={dict.back} />\n        <BlockTitle>{dict.work_form}</BlockTitle>\n        <SettingForm\n          notification_setting={notification_setting}\n          title={title} changeSetting={this.changeSetting} blockList={blockList}\n          submit={this.submit} editing={true} handleChange={this.handleChangeValue} \n          removeBlocked={this.removeBlocked}\n          />\n      </Page>\n    );\n  }\n}\n","import React from \"react\";\nimport { Link, List, CardHeader, ListInput, CardContent, CardFooter, Button, Page, Card, Navbar, Icon } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport crypto from 'crypto-js';\n\nconst LoginForm = (props) => {\n  return (\n    <Page>\n      <Navbar title={dict.sign_up} >\n        <Link panelOpen=\"right\">\n          <Icon f7=\"bars\"></Icon>\n        </Link>\n      </Navbar>\n      <Card>\n        <CardHeader>{dict.login}</CardHeader>\n        <CardContent className='mh-auto'>\n          <List >\n            <ListInput\n              label={dict.email}\n              type=\"text\"\n              autofocus={true}\n              placeholder={dict.enter_your_email}\n              value={props.email}\n              onInput={(e) => {\n                props.handleChange({ email: e.target.value })\n              }}\n            />\n            {/*<ListInput\n              label={dict.password}\n              type=\"password\"\n              placeholder={dict.enter_your_password}\n              value={props.password}\n              onInput={(e) => {\n                props.handleChange({ password: e.target.value })\n              }}\n            />*/}\n          </List>\n        </CardContent>\n        <CardFooter>\n          <Link href=\"/sign_up/\" animate={false} ignoreCache={true}>{dict.you_can_sign_up} </Link>\n          <Button fill className='fs-11 external f-color-black bg-teal' href=\"https://auth.ut.ac.ir:8443/cas/login?service=https%3A%2F%2Ftavan.ut.ac.ir%2Fusers%2Fservice\"  animate={false} ignoreCache={true}>{dict.cas} </Button>\n          <Link className=\"btn-notice\"></Link>\n          <Button className=\"col btn\" fill onClick={props.submit}>{dict.login}</Button>\n        </CardFooter>\n      </Card>\n    </Page>\n  )\n}\nexport default LoginForm;\n","import React from 'react';\nimport {\n  Page,\n  Navbar,\n  NavLeft,\n  NavTitle,\n  NavRight,\n  Link,\n  Toolbar,\n  Block,\n  BlockTitle,\n  List,\n  ListItem,\n  Row,\n  Col,\n  Button, Icon, Fab,Searchbar, Subnavbar, LoginScreenTitle, ListInput, ListButton, BlockFooter\n} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport LoginForm from \"../../containers/users/Login\"\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\nexport default class extends React.Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      email: '',\n      password: '',\n    };\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"set_instance\", this.setInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n  }\n  componentDidMount(){\n    if(this.$f7route.params['token']) {\n      MyActions.setInstance('users/validate_token', {}, this.$f7route.params['token']);\n    }\n    if(this.state.token && this.state.token.length > 10){\n      MyActions.setInstance('users/validate_token', {}, this.state.token);\n    }\n  }\n\n  submit(){\n    var data = {email: this.state.email, password: this.state.password}\n    MyActions.setInstance('users/login', data);\n  }\n\n  setInstance(){\n    var klass = ModelStore.getKlass()\n    if (klass === 'Login') {\n      this.$f7router.navigate('/verification/'+this.state.email);\n    }\n    if (klass === 'Validate') {\n      this.$f7router.navigate('/');\n      window.location.reload()\n    }\n    console.log(klass)\n  }\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  render() {\n    const {username, password} = this.state;\n    return (\n      <LoginForm submit={this.submit} handleChange={this.handleChangeValue}/>\n    )\n  }\n\n}\n","import React from 'react';\nimport {\n  Page,\n  Navbar,\n  NavLeft,\n  NavTitle,\n  NavRight,\n  Link,\n  Toolbar,\n  Block,\n  BlockTitle,\n  List,\n  ListItem,\n  Row,\n  Col,\n  Button, Icon, Fab,Searchbar, Subnavbar, LoginScreenTitle, ListInput, ListButton, BlockFooter\n} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport LoginForm from \"../../containers/users/Login\"\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\nexport default class extends React.Component {\n  constructor() {\n    super();\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n\n    this.state = {\n      email: '',\n      password: '',\n    };\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"set_instance\", this.setInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n  }\n  componentDidMount(){\n    MyActions.setInstance('users/validate_token', {}, this.$f7route.params['token']);\n  }\n\n  setInstance() {\n    var user = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (klass === 'Validate') {\n      window.localStorage.setItem('token', user.token);\n      this.$f7router.navigate('/');\n      window.location.reload()\n    } else {\n      this.$f7router.navigate('/login_error/');\n      window.location.reload()\n    }\n  }\n\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  render() {\n    const {username, password} = this.state;\n    return (\n      <LoginForm submit={this.submit} handleChange={this.handleChangeValue}/>\n    )\n  }\n\n}\n","import React from \"react\";\nimport { Link, List, ListItem, ListInput, Navbar, Icon, Button, Page, LoginScreenTitle, ListButton, CardFooter, Card, CardHeader, CardContent } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport crypto from 'crypto-js';\n\nconst SignUpForm = (props) => {\n  return (\n    <Page>\n      <Navbar title={dict.sign_up} >\n        <Link panelOpen=\"right\">\n          <Icon f7=\"bars\"></Icon>\n        </Link>\n      </Navbar>\n      <Card>\n        <CardHeader>{dict.sign_up}</CardHeader>\n        <CardContent>\n          <List >\n            <ListInput\n              label={dict.firstname + ' *'}\n              placeholder={dict.enter_your_name}\n              type=\"text\"\n              name={crypto.lib.WordArray.random(32)}\n              onInput={(e) => {\n                props.handleChange({ name: e.target.value })\n              }}\n            />\n\n            <ListInput\n              label={dict.surename + ' *'}\n              placeholder={dict.enter_your_surename}\n              type=\"text\"\n              name={crypto.lib.WordArray.random(32)}\n              onInput={(e) => {\n                props.handleChange({ surename: e.target.value })\n              }}\n            />\n\n\n            <ListInput\n              label={' * ' + dict.email}\n              type=\"email\"\n              validate\n              placeholder={dict.enter_your_email}\n              className='ltr'\n              value={props.email}\n              onInput={(e) => {\n                props.handleChange({ email: e.target.value })\n              }}\n            />\n          {/*\n            <ListInput\n              label={dict.password + ' *'}\n              type=\"password\"\n              placeholder={dict.enter_your_password}\n              autocomplete='new-password'\n              name={crypto.lib.WordArray.random(32)}\n              value={props.password}\n              onInput={(e) => {\n                props.handleChange({ password: e.target.value })\n              }}\n            />\n            <ListInput\n              label={dict.password_confirmation + ' *'}\n              type=\"password\"\n              autocomplete='off'\n              placeholder={dict.enter_your_password_confirmation}\n              value={props.password}\n              onInput={(e) => {\n                props.handleChange({ password_confirmation: e.target.value })\n              }}\n            />*/}\n          </List>\n        </CardContent>\n        <CardFooter>\n          <Link href=\"/login/\">{dict.if_registered}{'\\u00A0'}{dict.you_can_login} </Link>\n          <Link className=\"btn-notice\"></Link>\n          <Button className=\"col btn\" fill onClick={props.submit}>{dict.sign_up}</Button>\n        </CardFooter>\n      </Card>\n    </Page>\n  )\n}\nexport default SignUpForm;\n","import React from 'react';\nimport {\n  Page,\n  Navbar,\n  NavLeft,\n  NavTitle,\n  NavRight,\n  Link,\n  Toolbar,\n  Block,\n  BlockTitle,\n  List,\n  ListItem,\n  Row,\n  Col,\n  Button, Icon, Fab, Searchbar, Subnavbar, LoginScreenTitle, ListInput, ListButton, BlockFooter\n} from 'framework7-react';\nimport { dict } from '../../Dict';\nimport SignUpForm from \"../../containers/users/SignUp\"\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\nexport default class extends React.Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n\n    this.state = {\n      email: '',\n      name: '',\n      surename: '',\n    };\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"set_instance\", this.setInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n  }\n\n  submit() {\n    this.$$('.btn').hide();\n    this.$$('.btn-notice').text(dict.submitting);\n    var data = { \n      email: this.state.email,\n       name: this.state.name, \n       surename: this.state.surename }\n    if (\n      (this.state.email && this.state.email.length > 0) &&\n      (this.state.name && this.state.name.length > 0) &&\n      (this.state.surename && this.state.surename.length > 0) \n      ) {\n      MyActions.setInstance('users/sign_up', data);\n    } else {\n      const self = this;\n      self.$f7.dialog.alert(dict.incomplete_data, dict.alert);\n    }\n  }\n\n  setInstance() {\n    var klass = ModelStore.getKlass()\n    if (klass === 'SignUp') {\n      this.$$('.btn').show();\n      this.$f7router.navigate('/verification/'+this.state.email);\n    }\n  }\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n    console.log(obj)\n  }\n\n  render() {\n    const { username, password } = this.state;\n    return (\n      <SignUpForm submit={this.submit} handleChange={this.handleChangeValue} />\n    )\n  }\n\n}\n","import React from \"react\";\nimport { Link, List, CardHeader, ListInput, CardContent, CardFooter, Button, Page, Card, Navbar, Icon } from 'framework7-react';\nimport { dict } from '../../Dict';\nimport crypto from 'crypto-js';\n\nconst LoginForm = (props) => {\n  return (\n    <Page>\n      <Navbar title={dict.verification} >\n        <Link panelOpen=\"right\">\n          <Icon f7=\"bars\"></Icon>\n        </Link>\n      </Navbar>\n      <Card>\n        <CardHeader>{dict.login}</CardHeader>\n        <CardContent >\n          <List >\n          <ListInput\n              label={dict.email}\n              type=\"text\"\n              autofocus={true}\n              placeholder={dict.enter_your_email}\n              value={props.email}\n              onInput={(e) => {\n                props.handleChange({ email: e.target.value })\n              }}\n            />\n            <ListInput\n              label={dict.verification_code}\n              type=\"text\"\n              placeholder={dict.enter_verification_code}\n              onInput={(e) => {\n                props.handleChange({ verificationCode: e.target.value })\n              }}\n            />\n          </List>\n        </CardContent>\n        <CardFooter>\n          <Link href=\"/sign_up/\" animate={false} ignoreCache={true}>{dict.you_can_sign_up} </Link>\n          <Link className=\"btn-notice\"></Link>\n          <Button className=\"col btn\" fill onClick={props.submit}>{dict.login}</Button>\n        </CardFooter>\n      </Card>\n    </Page>\n  )\n}\nexport default LoginForm;\n","import React from 'react';\nimport {\n  Page,\n  Navbar,\n  NavLeft,\n  NavTitle,\n  NavRight,\n  Link,\n  Toolbar,\n  Block,\n  BlockTitle,\n  List,\n  ListItem,\n  Row,\n  Col,\n  Button, Icon, Fab,Searchbar, Subnavbar, LoginScreenTitle, ListInput, ListButton, BlockFooter\n} from 'framework7-react';\nimport { dict} from '../../Dict';\nimport VerificationForm from \"../../containers/users/Verification\"\nimport ModelStore from \"../../stores/ModelStore\";\nimport * as MyActions from \"../../actions/MyActions\";\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\nexport default class extends React.Component {\n  constructor() {\n    super();\n    this.submit = this.submit.bind(this);\n    this.handleChangeValue = this.handleChangeValue.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n\n    this.state = {\n      verificationCode: '',\n      email: '',\n    };\n  }\n\n  componentWillMount() {\n    ModelStore.on(\"set_instance\", this.setInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n  }\n\n  componentDidMount(){\n    this.setState({email: this.$f7route.params['email']})\n  }\n\n  submit(){\n    var data = {verification_code: this.state.verificationCode}\n    MyActions.setInstance('users/verify', data);\n  }\n\n  setInstance(){\n    var user = ModelStore.getIntance();\n    var klass = ModelStore.getKlass()\n    if (user && klass == 'Verify'){\n      window.localStorage.setItem('token', user.token);\n      this.$f7router.navigate('/');\n      window.location.reload()\n    }\n  }\n\n\n  handleChangeValue(obj) {\n    this.setState(obj);\n  }\n\n  render() {\n    const {username, email} = this.state;\n    return (\n      <VerificationForm submit={this.submit} email={email} handleChange={this.handleChangeValue}/>\n    )\n  }\n\n}\n","import React from \"react\";\nimport { List, ListItem, Link, Card, CardHeader, CardContent, CardFooter } from 'framework7-react';\nimport crypto from 'crypto-js';\nimport { dict } from \"../../Dict\";\n\nconst NotificationList = (props) => {\n  if (props.notifications && props.notifications.length > 0) {\n    function profileLink(profile) {\n      return (<Link href='/profiles/'>{profile.fullname}</Link>)\n    }\n\n    function colorClass(notification) {\n      if (!notification.seen) {\n        return 'bg-blonde'\n      }\n    }\n    return (\n      <Card>\n        <CardHeader></CardHeader>\n        <CardContent>\n          <List mediaList>\n            {props.notifications.map((notification) =>\n              <ListItem\n                className={'fs-11 ' + colorClass(notification)}\n                key={crypto.lib.WordArray.random(32)}\n                link={'/' + notification.target_type + '/' + notification.target_id}\n                title={profileLink(notification.profile)}\n                text={notification.notification_text.title}\n              >\n                <img slot=\"media\" src={notification.profile.avatar} width=\"32\" height=\"32\" />\n              </ListItem>\n            )}\n          </List>\n        </CardContent>\n        <CardFooter></CardFooter>\n      </Card>\n    )\n  } else {\n    return (<ul></ul>)\n  }\n}\nexport default NotificationList;\n","import React from \"react\";\nimport { Page, Navbar, Subnavbar, Searchbar, BlockTitle, Link, Fab, Icon, Toolbar, Tabs, Tab, Block } from 'framework7-react';\nimport NotificationList from \"./list\"\nimport { dict } from '../../Dict';\n\nconst NotificationIndex = (props) => {\n  return (\n    <Page>\n      <Navbar title={dict.notifications} >\n        <Link panelOpen=\"right\">\n          <Icon f7=\"bars\"></Icon>\n        </Link>\n      </Navbar>\n\n      <NotificationList notifications={props.notifications} loadMore={props.loadMore} />\n\n    </Page>\n  )\n}\nexport default NotificationIndex;\n","import HomePage from './components/home/index.jsx';\nimport NotFoundPage from './containers/layouts/NotFoundPage';\nimport PanelRightPage from './containers/layouts/PanelRightPage';\n\n\n\nimport RoleShow from './components/roles/show';\nimport RoleIndex from './components/roles/index';\nimport RoleCreate from './components/roles/create';\nimport RoleUpdate from './components/roles/update';\n\n\nimport TagShow from './components/tags/show';\nimport TagIndex from './components/tags/index';\nimport TagCreate from './components/tags/create';\nimport TagUpdate from './components/tags/update';\n\nimport StatusShow from './components/statuses/show';\nimport StatusIndex from './components/statuses/index';\nimport StatusCreate from './components/statuses/create';\nimport StatusUpdate from './components/statuses/update';\n\nimport TaskShow from './components/tasks/show';\nimport TaskIndex from './components/tasks/index';\nimport TaskCreate from './components/tasks/create';\nimport TaskUpdate from './components/tasks/update';\n\nimport WorkShow from './components/works/show';\nimport WorkIndex from './components/works/index';\nimport WorkCreate from './components/works/create';\nimport WorkUpdate from './components/works/update';\n\nimport TodoCreate from './components/todos/create';\nimport TodoUpdate from './components/todos/update';\n\nimport TimeSheetShow from './components/time_sheets/show';\nimport TimeSheetIndex from './components/time_sheets/index';\nimport TimeSheetCreate from './components/time_sheets/create';\nimport TimeSheetUpdate from './components/time_sheets/update';\n\n\nimport ProfileShow from './components/profiles/show';\nimport ProfileIndex from './components/profiles/index';\nimport ProfileCreate from './components/profiles/create';\nimport ProfileUpdate from './components/profiles/update';\n\nimport ReportShow from './components/reports/show';\nimport ReportIndex from './components/reports/index';\nimport ReportCreate from './components/reports/create';\nimport ReportUpdate from './components/reports/update';\n\nimport GroupShow from './components/groups/show';\nimport GroupIndex from './components/groups/index';\nimport GroupCreate from './components/groups/create';\nimport GroupUpdate from './components/groups/update';\n\nimport SurveillanceIndex from './components/surveillances/index';\n\nimport SettingUpdate from './components/settings/update';\n\nimport Login from './components/users/Login';\nimport LoginJwt from './components/users/LoginJwt';\nimport SignUp from './components/users/SignUp';\nimport Verification from './components/users/Verification';\nimport NotificationIndex from './components/notifications/index';\n\n\nexport default [\n  {\n    path: '/',\n    component: HomePage,\n  },\n  {\n    path: '/login/',\n    component: Login,\n  },\n  {\n    path: '/sign_up/',\n    component: SignUp,\n  },\n  {\n    path: '/verification/:email',\n    component: Verification,\n  },\n  {\n    path: '/login_jwt/:token',\n    component: LoginJwt,\n  },\n  {\n    path: '/panel-right/',\n    component: PanelRightPage,\n  },\n\n  {\n    path: '/notifications/',\n    component: NotificationIndex,\n  },\n\n\n  {\n    path: '/roles/',\n    component: RoleIndex,\n  },\n  {\n    path: '/roles/:roleId/edit',\n    component: RoleUpdate,\n  },\n  {\n    path: '/roles/new',\n    component: RoleCreate,\n  },\n  {\n    path: '/roles/:roleId',\n    component: RoleShow,\n  },\n\n  {\n    path: '/settings/',\n    component: SettingUpdate,\n  },\n\n  {\n    path: '/groups/',\n    component: GroupIndex,\n  },\n  {\n    path: '/groups/:groupId/edit',\n    component: GroupUpdate,\n  },\n  {\n    path: '/groups/new',\n    component: GroupCreate,\n  },\n  {\n    path: '/groups/:groupId',\n    component: GroupShow,\n  },\n\n\n  {\n    path: '/statuses/',\n    component: StatusIndex,\n  },\n  {\n    path: '/statuses/:statusId/edit',\n    component: StatusUpdate,\n  },\n  {\n    path: '/statuses/new',\n    component: StatusCreate,\n  },\n  {\n    path: '/statuses/:statusId',\n    component: StatusShow,\n  },\n\n\n  {\n    path: '/tasks/',\n    component: TaskIndex,\n  },\n  {\n    path: '/tasks/:taskId/edit',\n    component: TaskUpdate,\n  },\n  {\n    path: '/tasks/new',\n    component: TaskCreate,\n  },\n  {\n    path: '/tasks/:taskId',\n    component: TaskShow,\n  },\n\n\n  {\n    path: '/tags/',\n    component: TagIndex,\n  },\n  {\n    path: '/tags/:tagId/edit',\n    component: TagUpdate,\n  },\n  {\n    path: '/tags/new',\n    component: TagCreate,\n  },\n  {\n    path: '/tags/:tagId',\n    component: TagShow,\n  },\n\n\n\n  {\n    path: '/time_sheets/',\n    component: TimeSheetIndex,\n  },\n  {\n    path: '/time_sheets/:timeSheetId/edit',\n    component: TimeSheetUpdate,\n  },\n  {\n    path: '/time_sheets/new',\n    component: TimeSheetCreate,\n  },\n  {\n    path: '/time_sheets/:timeSheetId',\n    component: TimeSheetShow,\n  },\n\n\n  {\n    path: '/reports/',\n    component: ReportIndex,\n  },\n  {\n    path: '/reports/:reportId/edit',\n    component: ReportUpdate,\n  },\n  {\n    path: '/reports/new/:callerType/:callerId',\n    component: ReportCreate,\n  },\n  {\n    path: '/reports/:reportId',\n    component: ReportShow,\n  },\n\n  {\n    path: '/works/',\n    component: WorkIndex,\n  },\n  {\n    path: '/works/:workId/edit',\n    component: WorkUpdate,\n  },\n  {\n    path: '/works/new/:taskId',\n    component: WorkCreate,\n  },\n  {\n    path: '/works/:workId',\n    component: WorkShow,\n  },\n\n  {\n    path: '/todos/:todoId/edit',\n    component: TodoUpdate,\n  },\n  {\n    path: '/todos/new/:workId',\n    component: TodoCreate,\n  },\n\n  {\n    path: '/profiles/',\n    component: ProfileIndex,\n  },\n  {\n    path: '/profiles/:profileId/edit',\n    component: ProfileUpdate,\n  },\n  {\n    path: '/profiles/new',\n    component: ProfileCreate,\n  },\n  {\n    path: '/profiles/:profileId',\n    component: ProfileShow,\n  },\n\n  {\n    path: '/surveillances/',\n    component: SurveillanceIndex,\n  },\n\n  {\n    path: '(.*)',\n    component: NotFoundPage,\n  },\n];\n","import React from \"react\"\nimport { Page, Fab, Icon } from 'framework7-react';\nimport ModelStore from \"../../stores/ModelStore\";\nimport NotificationIndex from \"../../containers/notifications/index\"\nimport * as MyActions from \"../../actions/MyActions\";\nimport { loggedIn } from \"../../components/users/loggedIn.js\"\n\n\nexport default class Notification extends React.Component {\n  constructor() {\n    super();\n    this.getList = this.getList.bind(this);\n    this.loggedIn = loggedIn.bind(this);\n    this.interaction = this.interaction.bind(this);\n    this.setInstance = this.setInstance.bind(this);\n    this.search = this.search.bind(this);\n    this.loadMore = this.loadMore.bind(this);\n\n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n      notifications: [],\n      query: null,\n      page: 1\n    }\n  }\n  componentWillMount() {\n    ModelStore.on(\"got_list\", this.getList);\n    ModelStore.on(\"set_instance\", this.setInstance);\n  }\n\n  componentWillUnmount() {\n    ModelStore.removeListener(\"got_list\", this.getList);\n    ModelStore.removeListener(\"set_instance\", this.setInstance);\n  }\n\n  componentDidMount() {\n\n    this.loggedIn();\n    this.loadData();\n  }\n\n  loadData() {\n    MyActions.getList('notifications', this.state.page, {}, this.state.token);\n  }\n\n  search(obj) {\n    this.setState({ notifications: [], page: 1 });\n    this.setState(obj, () => {\n      MyActions.getList('notifications/search', this.state.page, { q: this.state.query });\n    });\n\n  }\n\n  loadMore() {\n    if (this.state.query && this.state.query.length > 0) {\n      this.setState({ page: this.state.page + 1 }, () => {\n        MyActions.getList('notifications/search', this.state.page, {q: this.state.query }, this.state.token);\n      });\n    } else {\n      this.setState({ page: this.state.page + 1 }, () => {\n        MyActions.getList('notifications', this.state.page, {}, this.state.token);\n      });\n    }\n  }\n\n\n\n  setInstance() {\n    var notification = ModelStore.getIntance()\n    var klass = ModelStore.getKlass()\n    if (notification && klass === 'Notification') {\n      this.setState({ notifications: this.state.notifications.map(el => (el.id === notification.id ? Object.assign({}, el, notification) : el)) });\n    }\n  }\n\n  getList() {\n    var notifications = ModelStore.getList()\n    var klass = ModelStore.getKlass()\n    if (notifications.length > 0 && klass === 'Notification') {\n      this.setState({\n        notifications: this.state.notifications.concat(notifications),\n      });\n    }\n    var data = {}\n    MyActions.setInstance('notifications', data, this.state.token);\n  }\n\n  interaction(interaction_type, interactionable_id, interactionable_type, source_type = null, source_id = null) {\n    var data = { interaction_type: interaction_type, interactionable_id: interactionable_id, interactionable_type: interactionable_type, source_type: source_type, source_id: source_id }\n    MyActions.setInstance('interactions', data, this.state.token);\n  }\n\n  render() {\n    const { notifications } = this.state;\n    return (<NotificationIndex interaction={this.interaction} loadMore={this.loadMore} notifications={notifications} search={this.search} />)\n  }\n}\n","import React from 'react';\nimport { Page, Navbar, Block } from 'framework7-react';\n\nexport default () => (\n  <Page>\n    <Navbar title=\"Not found\" backLink=\"Back\" />\n    <Block strong>\n      <p>Sorry</p>\n      <p>Requested content not found.</p>\n    </Block>\n  </Page>\n);\n","import React, { Component } from 'react';\nimport {\n  App,\n  Panel,\n  View,\n  Statusbar,\n} from 'framework7-react';\nimport ModelStore from \"../stores/ModelStore\";\nimport * as MyActions from \"../actions/MyActions\";\nimport { messaging } from \"../init-fcm.js\";\nimport crypto from 'crypto-js';\n\nimport routes from '../routes';\n\nexport default class extends React.Component {\n  constructor() {\n    super();\n    this.uploadFromDb = this.uploadFromDb.bind(this);\n\n    this.state = {\n      token: window.localStorage.getItem('token'),\n    }\n  }\n  async componentDidMount() {\n    const self = this;\n    const app = self.$f7;\n\n    if (messaging) {\n      messaging.requestPermission()\n        .then(async function () {\n          const token = await messaging.getToken();\n          var data = { token: token }\n          if (self.state.token && self.state.token.length > 10) {\n            MyActions.setInstance('devices', data, self.state.token);\n          }\n        })\n        .catch(function (err) {\n          console.log(\"Unable to get permission to notify.\", err);\n        });\n    }\n    navigator.serviceWorker.addEventListener(\"message\", (message) => {\n\n      app.notification.create({\n        icon: '',\n\n        title: message.data.firebaseMessaging.payload.notification.title,\n        titleRightText: '',\n        cssClass: 'notification',\n        subtitle: message.data.firebaseMessaging.payload.notification.body,\n        closeTimeout: 5000,\n      }).open();\n    });\n\n\n  }\n\n  uploadFromDb() {\n    var self = this;\n    console.log('DB Sync. Started')\n    var indexedDB = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.OIndexedDB || window.msIndexedDB,\n      IDBTransaction = window.IDBTransaction || window.webkitIDBTransaction || window.OIDBTransaction || window.msIDBTransaction,\n      dbVersion = 3;\n\n    // Create/open database\n    var request = indexedDB.open(\"screenCastFiles\", dbVersion);\n    request.onsuccess = function (event) {\n      console.log(\"Success creating/accessing IndexedDB database\");\n      var db = request.result;\n\n      db.onerror = function (event) {\n        console.log(\"Error creating/accessing IndexedDB database\");\n      };\n      // db.createObjectStore(\"screenCast\");\n      var transaction = db.transaction([\"screenCastFiles\"], \"readwrite\");\n      var object_store = transaction.objectStore(\"screenCastFiles\");\n      var r = object_store.openCursor();\n\n      r.onerror = function (event) {\n        console.err(\"error fetching data\");\n      };\n      r.onsuccess = function (event) {\n        let cursor = event.target.result;\n        if (cursor) {\n          let key = cursor.primaryKey;\n          let value = cursor.value;\n          console.log(key, value);\n          var data = [{ label: 'file', value: value.blob }, { label: 'surveillance[start_time]', value: crypto.lib.WordArray.random(32) }]\n          MyActions.generalFilePost('surveillances', data, self.state.token)\n          transaction.objectStore(\"screenCastFiles\").delete(key);\n          cursor.continue();\n        }\n        else {\n          // no more results\n        }\n      };\n      /*\n     var transaction = db.transaction([\"screenCastFiles\"], \"readwrite\");\n     transaction.objectStore(\"screenCastFiles\").getAll().onsuccess = function (event) {\n       var cursor = event.target.result;\n       if (cursor) {\n           var key = cursor.primaryKey;\n           var value = cursor.value;\n           console.log(key, value)\n           var data = [{ label: 'file', value: value.blob }, { label: 'surveillance[start_time]', value: crypto.lib.WordArray.random(32) }]\n           MyActions.generalFilePost('surveillances', data, self.state.token)\n           transaction.objectStore(\"screenCastFiles\").delete(key);\n           cursor.continue();\n       }\n      \n       console.log(event);\n       \n       event.target.result.map((item, index) => {\n         console.log(item, index)\n         var data = [{ label: 'file', value: item.blob }, { label: 'surveillance[start_time]', value: crypto.lib.WordArray.random(32) }]\n         MyActions.generalFilePost('surveillances', data, self.state.token)\n         transaction.objectStore(\"screenCastFiles\").delete(index);\n         //this.addScreenCastDb(completeBlob)\n       });\n    }*/\n  }\n}\n// Framework7 parameters here\n\nrender() {\n  const f7params = {\n    id: 'io.framework7.testapp', // App bundle ID\n    name: 'Framework7', // App name\n    theme: 'aurora', // Automatic theme detection\n    panel: {\n      rightBreakpoint: 960,\n    },\n    view: {\n      //ignoreCache: true,\n      //reloadCurrent: true\n      auroraPageLoadDelay: 90,\n      removeElements: true\n    },\n    // App routes\n    routes,\n  };\n\n  //const server = React.createContext('http://localhost:3001/v1/');\n  return (\n    <App params={f7params}>\n      {/* Statusbar */}\n      <Statusbar />\n\n      {/* Left Panel */}\n      <Panel left cover themeDark>\n        <View url=\"/panel-left/\" />\n      </Panel>\n\n      {/* Right Panel */}\n      <Panel right reveal themeDark>\n        <View url=\"/panel-right/\" />\n      </Panel>\n\n      {/* Main View */}\n      <View id=\"main-view\" url=\"/app\" pushState={true} main className=\"safe-areas\" />\n\n    </App>\n  );\n}\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// Import Framework7\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\n// Import Framework7-React plugin\nimport Framework7React from 'framework7-react';\n\n// Import main App component\nimport App from './components/App.jsx';\n\n// Framework7 styles\nimport 'framework7/css/framework7.bundle.rtl.min.css';\n\n// Icons\nimport './css/icons.css';\n\n// Custom app styles\nimport './css/app.css';\nimport './css/editor.css';\nimport './css/font-awesome.min.css';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\n\n\nimport * as serviceWorker from './serviceWorker';\n\nif (\"serviceWorker\" in navigator) {\n  navigator.serviceWorker\n    .register(\"./firebase-messaging-sw.js\")\n    .then(function(registration) {\n      console.log(\"Registration successful, scope is:\", registration.scope);\n    })\n    .catch(function(err) {\n      console.log(\"Service worker registration failed, error:\", err);\n    });\n}\n// Init Framework7-React plugin\nFramework7.use(Framework7React);\n\n// Mount React App\nReactDOM.render(React.createElement(App),\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}